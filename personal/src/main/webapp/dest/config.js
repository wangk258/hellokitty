/*! jQuery v@1.8.0 jquery.com | jquery.org/license */

/**
 * @license AngularJS v1.3.12
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */

/*
 AngularJS v1.2.5
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
 */

//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors

//     Underscore may be freely distributed under the MIT license.

/*!
 * Bootstrap v3.2.0 (http://getbootstrap.com)
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */

/*!
 * artDialog 4.1.6
 * Date: 2012-07-16 22:57
 * http://code.google.com/p/artdialog/
 * (c) 2009-2012 TangBin, http://www.planeArt.cn
 *
 * This is licensed under the GNU LGPL, version 2.1 or later.
 * For details, see: http://creativecommons.org/licenses/LGPL/2.1/
 */

/*
 * jQuery Bootstrap Pagination v1.3.1
 * https://github.com/esimakin/twbs-pagination
 *
 * Copyright 2014-2015 Eugene Simakin <eugenesimakin@mail.ru>
 * Released under Apache 2.0 license
 * http://apache.org/licenses/LICENSE-2.0.html
 */

/* =========================================================
 * bootstrap-datetimepicker.js
 * =========================================================
 * Copyright 2012 Stefan Petre
 *
 * Improvements by Andrew Rowls
 * Improvements by SÃ©bastien Malot
 * Improvements by Yun Lai
 * Improvements by Kenneth Henderick
 * Improvements by CuGBabyBeaR
 * Improvements by Christian Vaas
 *
 * Project URL : http://www.malot.fr/bootstrap-datetimepicker
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */

if (function (e, t) {
        function n(e) {
            var t = pe[e] = {};
            return J.each(e.split(te), function (e, n) {
                t[n] = !0
            }), t
        }

        function i(e, n, i) {
            if (i === t && 1 === e.nodeType) {
                var r = "data-" + n.replace(ge, "-$1").toLowerCase();
                if (i = e.getAttribute(r), "string" == typeof i) {
                    try {
                        i = "true" === i || "false" !== i && ("null" === i ? null : +i + "" === i ? +i : me.test(i) ? J.parseJSON(i) : i)
                    } catch (e) {
                    }
                    J.data(e, n, i)
                } else i = t
            }
            return i
        }

        function r(e) {
            var t;
            for (t in e)if (("data" !== t || !J.isEmptyObject(e[t])) && "toJSON" !== t)return !1;
            return !0
        }

        function o() {
            return !1
        }

        function a() {
            return !0
        }

        function s(e) {
            return !e || !e.parentNode || 11 === e.parentNode.nodeType
        }

        function l(e, t) {
            do e = e[t]; while (e && 1 !== e.nodeType);
            return e
        }

        function c(e, t, n) {
            if (t = t || 0, J.isFunction(t))return J.grep(e, function (e, i) {
                var r = !!t.call(e, i, e);
                return r === n
            });
            if (t.nodeType)return J.grep(e, function (e, i) {
                return e === t === n
            });
            if ("string" == typeof t) {
                var i = J.grep(e, function (e) {
                    return 1 === e.nodeType
                });
                if (Le.test(t))return J.filter(t, i, !n);
                t = J.filter(t, i)
            }
            return J.grep(e, function (e, i) {
                return J.inArray(e, t) >= 0 === n
            })
        }

        function d(e) {
            var t = Pe.split("|"), n = e.createDocumentFragment();
            if (n.createElement)for (; t.length;)n.createElement(t.pop());
            return n
        }

        function u(e, t) {
            return e.getElementsByTagName(t)[0] || e.appendChild(e.ownerDocument.createElement(t))
        }

        function f(e, t) {
            if (1 === t.nodeType && J.hasData(e)) {
                var n, i, r, o = J._data(e), a = J._data(t, o), s = o.events;
                if (s) {
                    delete a.handle, a.events = {};
                    for (n in s)for (i = 0, r = s[n].length; i < r; i++)J.event.add(t, n, s[n][i])
                }
                a.data && (a.data = J.extend({}, a.data))
            }
        }

        function h(e, t) {
            var n;
            1 === t.nodeType && (t.clearAttributes && t.clearAttributes(), t.mergeAttributes && t.mergeAttributes(e), n = t.nodeName.toLowerCase(), "object" === n ? (t.parentNode && (t.outerHTML = e.outerHTML), J.support.html5Clone && e.innerHTML && !J.trim(t.innerHTML) && (t.innerHTML = e.innerHTML)) : "input" === n && Ge.test(e.type) ? (t.defaultChecked = t.checked = e.checked, t.value !== e.value && (t.value = e.value)) : "option" === n ? t.selected = e.defaultSelected : "input" === n || "textarea" === n ? t.defaultValue = e.defaultValue : "script" === n && t.text !== e.text && (t.text = e.text), t.removeAttribute(J.expando))
        }

        function p(e) {
            return "undefined" != typeof e.getElementsByTagName ? e.getElementsByTagName("*") : "undefined" != typeof e.querySelectorAll ? e.querySelectorAll("*") : []
        }

        function m(e) {
            Ge.test(e.type) && (e.defaultChecked = e.checked)
        }

        function g(e, t) {
            if (t in e)return t;
            for (var n = t.charAt(0).toUpperCase() + t.slice(1), i = t, r = gt.length; r--;)if (t = gt[r] + n, t in e)return t;
            return i
        }

        function v(e, t) {
            return e = t || e, "none" === J.css(e, "display") || !J.contains(e.ownerDocument, e)
        }

        function y(e, t) {
            for (var n, i, r = [], o = 0, a = e.length; o < a; o++)n = e[o], n.style && (r[o] = J._data(n, "olddisplay"), t ? (!r[o] && "none" === n.style.display && (n.style.display = ""), "" === n.style.display && v(n) && (r[o] = J._data(n, "olddisplay", x(n.nodeName)))) : (i = nt(n, "display"), !r[o] && "none" !== i && J._data(n, "olddisplay", i)));
            for (o = 0; o < a; o++)n = e[o], n.style && (t && "none" !== n.style.display && "" !== n.style.display || (n.style.display = t ? r[o] || "" : "none"));
            return e
        }

        function b(e, t, n) {
            var i = ct.exec(t);
            return i ? Math.max(0, i[1] - (n || 0)) + (i[2] || "px") : t
        }

        function w(e, t, n, i) {
            for (var r = n === (i ? "border" : "content") ? 4 : "width" === t ? 1 : 0, o = 0; r < 4; r += 2)"margin" === n && (o += J.css(e, n + mt[r], !0)), i ? ("content" === n && (o -= parseFloat(nt(e, "padding" + mt[r])) || 0), "margin" !== n && (o -= parseFloat(nt(e, "border" + mt[r] + "Width")) || 0)) : (o += parseFloat(nt(e, "padding" + mt[r])) || 0, "padding" !== n && (o += parseFloat(nt(e, "border" + mt[r] + "Width")) || 0));
            return o
        }

        function C(e, t, n) {
            var i = "width" === t ? e.offsetWidth : e.offsetHeight, r = !0, o = J.support.boxSizing && "border-box" === J.css(e, "boxSizing");
            if (i <= 0) {
                if (i = nt(e, t), (i < 0 || null == i) && (i = e.style[t]), dt.test(i))return i;
                r = o && (J.support.boxSizingReliable || i === e.style[t]), i = parseFloat(i) || 0
            }
            return i + w(e, t, n || (o ? "border" : "content"), r) + "px"
        }

        function x(e) {
            if (ft[e])return ft[e];
            var t = J("<" + e + ">").appendTo(F.body), n = t.css("display");
            return t.remove(), "none" !== n && "" !== n || (it = F.body.appendChild(it || J.extend(F.createElement("iframe"), {
                    frameBorder: 0,
                    width: 0,
                    height: 0
                })), rt && it.createElement || (rt = (it.contentWindow || it.contentDocument).document, rt.write("<!doctype html><html><body>"), rt.close()), t = rt.body.appendChild(rt.createElement(e)), n = nt(t, "display"), F.body.removeChild(it)), ft[e] = n, n
        }

        function $(e, t, n, i) {
            var r;
            if (J.isArray(t))J.each(t, function (t, r) {
                n || bt.test(e) ? i(e, r) : $(e + "[" + ("object" == typeof r ? t : "") + "]", r, n, i)
            }); else if (n || "object" !== J.type(t))i(e, t); else for (r in t)$(e + "[" + r + "]", t[r], n, i)
        }

        function N(e) {
            return function (t, n) {
                "string" != typeof t && (n = t, t = "*");
                var i, r, o, a = t.toLowerCase().split(te), s = 0, l = a.length;
                if (J.isFunction(n))for (; s < l; s++)i = a[s], o = /^\+/.test(i), o && (i = i.substr(1) || "*"), r = e[i] = e[i] || [], r[o ? "unshift" : "push"](n)
            }
        }

        function T(e, n, i, r, o, a) {
            o = o || n.dataTypes[0], a = a || {}, a[o] = !0;
            for (var s, l = e[o], c = 0, d = l ? l.length : 0, u = e === It; c < d && (u || !s); c++)s = l[c](n, i, r), "string" == typeof s && (!u || a[s] ? s = t : (n.dataTypes.unshift(s), s = T(e, n, i, r, s, a)));
            return (u || !s) && !a["*"] && (s = T(e, n, i, r, "*", a)), s
        }

        function k(e, n) {
            var i, r, o = J.ajaxSettings.flatOptions || {};
            for (i in n)n[i] !== t && ((o[i] ? e : r || (r = {}))[i] = n[i]);
            r && J.extend(!0, e, r)
        }

        function E(e, n, i) {
            var r, o, a, s, l = e.contents, c = e.dataTypes, d = e.responseFields;
            for (o in d)o in i && (n[d[o]] = i[o]);
            for (; "*" === c[0];)c.shift(), r === t && (r = e.mimeType || n.getResponseHeader("content-type"));
            if (r)for (o in l)if (l[o] && l[o].test(r)) {
                c.unshift(o);
                break
            }
            if (c[0] in i)a = c[0]; else {
                for (o in i) {
                    if (!c[0] || e.converters[o + " " + c[0]]) {
                        a = o;
                        break
                    }
                    s || (s = o)
                }
                a = a || s
            }
            if (a)return a !== c[0] && c.unshift(a), i[a]
        }

        function S(e, t) {
            var n, i, r, o, a = e.dataTypes.slice(), s = a[0], l = {}, c = 0;
            if (e.dataFilter && (t = e.dataFilter(t, e.dataType)), a[1])for (n in e.converters)l[n.toLowerCase()] = e.converters[n];
            for (; r = a[++c];)if ("*" !== r) {
                if ("*" !== s && s !== r) {
                    if (n = l[s + " " + r] || l["* " + r], !n)for (i in l)if (o = i.split(" "), o[1] === r && (n = l[s + " " + o[0]] || l["* " + o[0]])) {
                        n === !0 ? n = l[i] : l[i] !== !0 && (r = o[0], a.splice(c--, 0, r));
                        break
                    }
                    if (n !== !0)if (n && e.throws)t = n(t); else try {
                        t = n(t)
                    } catch (e) {
                        return {state: "parsererror", error: n ? e : "No conversion from " + s + " to " + r}
                    }
                }
                s = r
            }
            return {state: "success", data: t}
        }

        function U() {
            try {
                return new e.XMLHttpRequest
            } catch (e) {
            }
        }

        function D() {
            try {
                return new e.ActiveXObject("Microsoft.XMLHTTP")
            } catch (e) {
            }
        }

        function A() {
            return setTimeout(function () {
                Wt = t
            }, 0), Wt = J.now()
        }

        function B(e, t) {
            J.each(t, function (t, n) {
                for (var i = (Qt[t] || []).concat(Qt["*"]), r = 0, o = i.length; r < o; r++)if (i[r].call(e, t, n))return
            })
        }

        function _(e, t, n) {
            var i, r = 0, o = Kt.length, a = J.Deferred().always(function () {
                delete s.elem
            }), s = function () {
                for (var t = Wt || A(), n = Math.max(0, l.startTime + l.duration - t), i = 1 - (n / l.duration || 0), r = 0, o = l.tweens.length; r < o; r++)l.tweens[r].run(i);
                return a.notifyWith(e, [l, i, n]), i < 1 && o ? n : (a.resolveWith(e, [l]), !1)
            }, l = a.promise({
                elem: e,
                props: J.extend({}, t),
                opts: J.extend(!0, {specialEasing: {}}, n),
                originalProperties: t,
                originalOptions: n,
                startTime: Wt || A(),
                duration: n.duration,
                tweens: [],
                createTween: function (t, n, i) {
                    var r = J.Tween(e, l.opts, t, n, l.opts.specialEasing[t] || l.opts.easing);
                    return l.tweens.push(r), r
                },
                stop: function (t) {
                    for (var n = 0, i = t ? l.tweens.length : 0; n < i; n++)l.tweens[n].run(1);
                    return t ? a.resolveWith(e, [l, t]) : a.rejectWith(e, [l, t]), this
                }
            }), c = l.props;
            for (M(c, l.opts.specialEasing); r < o; r++)if (i = Kt[r].call(l, e, c, l.opts))return i;
            return B(l, c), J.isFunction(l.opts.start) && l.opts.start.call(e, l), J.fx.timer(J.extend(s, {
                anim: l,
                queue: l.opts.queue,
                elem: e
            })), l.progress(l.opts.progress).done(l.opts.done, l.opts.complete).fail(l.opts.fail).always(l.opts.always)
        }

        function M(e, t) {
            var n, i, r, o, a;
            for (n in e)if (i = J.camelCase(n), r = t[i], o = e[n], J.isArray(o) && (r = o[1], o = e[n] = o[0]), n !== i && (e[i] = o, delete e[n]), a = J.cssHooks[i], a && "expand" in a) {
                o = a.expand(o), delete e[i];
                for (n in o)n in e || (e[n] = o[n], t[n] = r)
            } else t[i] = r
        }

        function I(e, t, n) {
            var i, r, o, a, s, l, c, d, u = this, f = e.style, h = {}, p = [], m = e.nodeType && v(e);
            n.queue || (c = J._queueHooks(e, "fx"), null == c.unqueued && (c.unqueued = 0, d = c.empty.fire, c.empty.fire = function () {
                c.unqueued || d()
            }), c.unqueued++, u.always(function () {
                u.always(function () {
                    c.unqueued--, J.queue(e, "fx").length || c.empty.fire()
                })
            })), 1 === e.nodeType && ("height" in t || "width" in t) && (n.overflow = [f.overflow, f.overflowX, f.overflowY], "inline" === J.css(e, "display") && "none" === J.css(e, "float") && (J.support.inlineBlockNeedsLayout && "inline" !== x(e.nodeName) ? f.zoom = 1 : f.display = "inline-block")), n.overflow && (f.overflow = "hidden", J.support.shrinkWrapBlocks || u.done(function () {
                f.overflow = n.overflow[0], f.overflowX = n.overflow[1], f.overflowY = n.overflow[2]
            }));
            for (i in t)if (o = t[i], Yt.exec(o)) {
                if (delete t[i], o === (m ? "hide" : "show"))continue;
                p.push(i)
            }
            if (a = p.length)for (s = J._data(e, "fxshow") || J._data(e, "fxshow", {}), m ? J(e).show() : u.done(function () {
                J(e).hide()
            }), u.done(function () {
                var t;
                J.removeData(e, "fxshow", !0);
                for (t in h)J.style(e, t, h[t])
            }), i = 0; i < a; i++)r = p[i], l = u.createTween(r, m ? s[r] : 0), h[r] = s[r] || J.style(e, r), r in s || (s[r] = l.start, m && (l.end = l.start, l.start = "width" === r || "height" === r ? 1 : 0))
        }

        function L(e, t, n, i, r) {
            return new L.prototype.init(e, t, n, i, r)
        }

        function R(e, t) {
            for (var n, i = {height: e}, r = 0; r < 4; r += 2 - t)n = mt[r], i["margin" + n] = i["padding" + n] = e;
            return t && (i.opacity = i.width = e), i
        }

        function O(e) {
            return J.isWindow(e) ? e : 9 === e.nodeType && (e.defaultView || e.parentWindow)
        }

        var P, H, F = e.document, j = e.location, V = e.navigator, q = e.jQuery, W = e.$, z = Array.prototype.push, Y = Array.prototype.slice, X = Array.prototype.indexOf, G = Object.prototype.toString, K = Object.prototype.hasOwnProperty, Q = String.prototype.trim, J = function (e, t) {
            return new J.fn.init(e, t, P)
        }, Z = /[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source, ee = /\S/, te = /\s+/, ne = ee.test("Â ") ? /^[\s\xA0]+|[\s\xA0]+$/g : /^\s+|\s+$/g, ie = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/, re = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, oe = /^[\],:{}\s]*$/, ae = /(?:^|:|,)(?:\s*\[)+/g, se = /\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g, le = /"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g, ce = /^-ms-/, de = /-([\da-z])/gi, ue = function (e, t) {
            return (t + "").toUpperCase()
        }, fe = function () {
            F.addEventListener ? (F.removeEventListener("DOMContentLoaded", fe, !1), J.ready()) : "complete" === F.readyState && (F.detachEvent("onreadystatechange", fe), J.ready())
        }, he = {};
        J.fn = J.prototype = {
            constructor: J, init: function (e, n, i) {
                var r, o, a;
                if (!e)return this;
                if (e.nodeType)return this.context = this[0] = e, this.length = 1, this;
                if ("string" == typeof e) {
                    if (r = "<" === e.charAt(0) && ">" === e.charAt(e.length - 1) && e.length >= 3 ? [null, e, null] : ie.exec(e), r && (r[1] || !n)) {
                        if (r[1])return n = n instanceof J ? n[0] : n, a = n && n.nodeType ? n.ownerDocument || n : F, e = J.parseHTML(r[1], a, !0), re.test(r[1]) && J.isPlainObject(n) && this.attr.call(e, n, !0), J.merge(this, e);
                        if (o = F.getElementById(r[2]), o && o.parentNode) {
                            if (o.id !== r[2])return i.find(e);
                            this.length = 1, this[0] = o
                        }
                        return this.context = F, this.selector = e, this
                    }
                    return !n || n.jquery ? (n || i).find(e) : this.constructor(n).find(e)
                }
                return J.isFunction(e) ? i.ready(e) : (e.selector !== t && (this.selector = e.selector, this.context = e.context), J.makeArray(e, this))
            }, selector: "", jquery: "1.8.0", length: 0, size: function () {
                return this.length
            }, toArray: function () {
                return Y.call(this)
            }, get: function (e) {
                return null == e ? this.toArray() : e < 0 ? this[this.length + e] : this[e]
            }, pushStack: function (e, t, n) {
                var i = J.merge(this.constructor(), e);
                return i.prevObject = this, i.context = this.context, "find" === t ? i.selector = this.selector + (this.selector ? " " : "") + n : t && (i.selector = this.selector + "." + t + "(" + n + ")"), i
            }, each: function (e, t) {
                return J.each(this, e, t)
            }, ready: function (e) {
                return J.ready.promise().done(e), this
            }, eq: function (e) {
                return e = +e, e === -1 ? this.slice(e) : this.slice(e, e + 1)
            }, first: function () {
                return this.eq(0)
            }, last: function () {
                return this.eq(-1)
            }, slice: function () {
                return this.pushStack(Y.apply(this, arguments), "slice", Y.call(arguments).join(","))
            }, map: function (e) {
                return this.pushStack(J.map(this, function (t, n) {
                    return e.call(t, n, t)
                }))
            }, end: function () {
                return this.prevObject || this.constructor(null)
            }, push: z, sort: [].sort, splice: [].splice
        }, J.fn.init.prototype = J.fn, J.extend = J.fn.extend = function () {
            var e, n, i, r, o, a, s = arguments[0] || {}, l = 1, c = arguments.length, d = !1;
            for ("boolean" == typeof s && (d = s, s = arguments[1] || {}, l = 2), "object" != typeof s && !J.isFunction(s) && (s = {}), c === l && (s = this, --l); l < c; l++)if (null != (e = arguments[l]))for (n in e)i = s[n], r = e[n], s !== r && (d && r && (J.isPlainObject(r) || (o = J.isArray(r))) ? (o ? (o = !1, a = i && J.isArray(i) ? i : []) : a = i && J.isPlainObject(i) ? i : {}, s[n] = J.extend(d, a, r)) : r !== t && (s[n] = r));
            return s
        }, J.extend({
            noConflict: function (t) {
                return e.$ === J && (e.$ = W), t && e.jQuery === J && (e.jQuery = q), J
            }, isReady: !1, readyWait: 1, holdReady: function (e) {
                e ? J.readyWait++ : J.ready(!0)
            }, ready: function (e) {
                if (e === !0 ? !--J.readyWait : !J.isReady) {
                    if (!F.body)return setTimeout(J.ready, 1);
                    J.isReady = !0, e !== !0 && --J.readyWait > 0 || (H.resolveWith(F, [J]), J.fn.trigger && J(F).trigger("ready").off("ready"))
                }
            }, isFunction: function (e) {
                return "function" === J.type(e)
            }, isArray: Array.isArray || function (e) {
                return "array" === J.type(e)
            }, isWindow: function (e) {
                return null != e && e == e.window
            }, isNumeric: function (e) {
                return !isNaN(parseFloat(e)) && isFinite(e)
            }, type: function (e) {
                return null == e ? String(e) : he[G.call(e)] || "object"
            }, isPlainObject: function (e) {
                if (!e || "object" !== J.type(e) || e.nodeType || J.isWindow(e))return !1;
                try {
                    if (e.constructor && !K.call(e, "constructor") && !K.call(e.constructor.prototype, "isPrototypeOf"))return !1
                } catch (e) {
                    return !1
                }
                var n;
                for (n in e);
                return n === t || K.call(e, n)
            }, isEmptyObject: function (e) {
                var t;
                for (t in e)return !1;
                return !0
            }, error: function (e) {
                throw new Error(e)
            }, parseHTML: function (e, t, n) {
                var i;
                return e && "string" == typeof e ? ("boolean" == typeof t && (n = t, t = 0), t = t || F, (i = re.exec(e)) ? [t.createElement(i[1])] : (i = J.buildFragment([e], t, n ? null : []), J.merge([], (i.cacheable ? J.clone(i.fragment) : i.fragment).childNodes))) : null
            }, parseJSON: function (t) {
                return t && "string" == typeof t ? (t = J.trim(t), e.JSON && e.JSON.parse ? e.JSON.parse(t) : oe.test(t.replace(se, "@").replace(le, "]").replace(ae, "")) ? new Function("return " + t)() : void J.error("Invalid JSON: " + t)) : null
            }, parseXML: function (n) {
                var i, r;
                if (!n || "string" != typeof n)return null;
                try {
                    e.DOMParser ? (r = new DOMParser, i = r.parseFromString(n, "text/xml")) : (i = new ActiveXObject("Microsoft.XMLDOM"), i.async = "false", i.loadXML(n))
                } catch (e) {
                    i = t
                }
                return (!i || !i.documentElement || i.getElementsByTagName("parsererror").length) && J.error("Invalid XML: " + n), i
            }, noop: function () {
            }, globalEval: function (t) {
                t && ee.test(t) && (e.execScript || function (t) {
                    e.eval.call(e, t)
                })(t)
            }, camelCase: function (e) {
                return e.replace(ce, "ms-").replace(de, ue)
            }, nodeName: function (e, t) {
                return e.nodeName && e.nodeName.toUpperCase() === t.toUpperCase()
            }, each: function (e, n, i) {
                var r, o = 0, a = e.length, s = a === t || J.isFunction(e);
                if (i)if (s) {
                    for (r in e)if (n.apply(e[r], i) === !1)break
                } else for (; o < a && n.apply(e[o++], i) !== !1;); else if (s) {
                    for (r in e)if (n.call(e[r], r, e[r]) === !1)break
                } else for (; o < a && n.call(e[o], o, e[o++]) !== !1;);
                return e
            }, trim: Q ? function (e) {
                return null == e ? "" : Q.call(e)
            } : function (e) {
                return null == e ? "" : e.toString().replace(ne, "")
            }, makeArray: function (e, t) {
                var n, i = t || [];
                return null != e && (n = J.type(e), null == e.length || "string" === n || "function" === n || "regexp" === n || J.isWindow(e) ? z.call(i, e) : J.merge(i, e)), i
            }, inArray: function (e, t, n) {
                var i;
                if (t) {
                    if (X)return X.call(t, e, n);
                    for (i = t.length, n = n ? n < 0 ? Math.max(0, i + n) : n : 0; n < i; n++)if (n in t && t[n] === e)return n
                }
                return -1
            }, merge: function (e, n) {
                var i = n.length, r = e.length, o = 0;
                if ("number" == typeof i)for (; o < i; o++)e[r++] = n[o]; else for (; n[o] !== t;)e[r++] = n[o++];
                return e.length = r, e
            }, grep: function (e, t, n) {
                var i, r = [], o = 0, a = e.length;
                for (n = !!n; o < a; o++)i = !!t(e[o], o), n !== i && r.push(e[o]);
                return r
            }, map: function (e, n, i) {
                var r, o, a = [], s = 0, l = e.length, c = e instanceof J || l !== t && "number" == typeof l && (l > 0 && e[0] && e[l - 1] || 0 === l || J.isArray(e));
                if (c)for (; s < l; s++)r = n(e[s], s, i), null != r && (a[a.length] = r); else for (o in e)r = n(e[o], o, i), null != r && (a[a.length] = r);
                return a.concat.apply([], a)
            }, guid: 1, proxy: function (e, n) {
                var i, r, o;
                return "string" == typeof n && (i = e[n], n = e, e = i), J.isFunction(e) ? (r = Y.call(arguments, 2), o = function () {
                    return e.apply(n, r.concat(Y.call(arguments)))
                }, o.guid = e.guid = e.guid || o.guid || J.guid++, o) : t
            }, access: function (e, n, i, r, o, a, s) {
                var l, c = null == i, d = 0, u = e.length;
                if (i && "object" == typeof i) {
                    for (d in i)J.access(e, n, d, i[d], 1, a, r);
                    o = 1
                } else if (r !== t) {
                    if (l = s === t && J.isFunction(r), c && (l ? (l = n, n = function (e, t, n) {
                            return l.call(J(e), n)
                        }) : (n.call(e, r), n = null)), n)for (; d < u; d++)n(e[d], i, l ? r.call(e[d], d, n(e[d], i)) : r, s);
                    o = 1
                }
                return o ? e : c ? n.call(e) : u ? n(e[0], i) : a
            }, now: function () {
                return (new Date).getTime()
            }
        }), J.ready.promise = function (t) {
            if (!H)if (H = J.Deferred(), "complete" === F.readyState || "loading" !== F.readyState && F.addEventListener)setTimeout(J.ready, 1); else if (F.addEventListener)F.addEventListener("DOMContentLoaded", fe, !1), e.addEventListener("load", J.ready, !1); else {
                F.attachEvent("onreadystatechange", fe), e.attachEvent("onload", J.ready);
                var n = !1;
                try {
                    n = null == e.frameElement && F.documentElement
                } catch (e) {
                }
                n && n.doScroll && function e() {
                    if (!J.isReady) {
                        try {
                            n.doScroll("left")
                        } catch (t) {
                            return setTimeout(e, 50)
                        }
                        J.ready()
                    }
                }()
            }
            return H.promise(t)
        }, J.each("Boolean Number String Function Array Date RegExp Object".split(" "), function (e, t) {
            he["[object " + t + "]"] = t.toLowerCase()
        }), P = J(F);
        var pe = {};
        J.Callbacks = function (e) {
            e = "string" == typeof e ? pe[e] || n(e) : J.extend({}, e);
            var i, r, o, a, s, l, c = [], d = !e.once && [], u = function (t) {
                for (i = e.memory && t, r = !0, l = a || 0, a = 0, s = c.length, o = !0; c && l < s; l++)if (c[l].apply(t[0], t[1]) === !1 && e.stopOnFalse) {
                    i = !1;
                    break
                }
                o = !1, c && (d ? d.length && u(d.shift()) : i ? c = [] : f.disable())
            }, f = {
                add: function () {
                    if (c) {
                        var t = c.length;
                        !function t(n) {
                            J.each(n, function (n, i) {
                                !J.isFunction(i) || e.unique && f.has(i) ? i && i.length && t(i) : c.push(i)
                            })
                        }(arguments), o ? s = c.length : i && (a = t, u(i))
                    }
                    return this
                }, remove: function () {
                    return c && J.each(arguments, function (e, t) {
                        for (var n; (n = J.inArray(t, c, n)) > -1;)c.splice(n, 1), o && (n <= s && s--, n <= l && l--)
                    }), this
                }, has: function (e) {
                    return J.inArray(e, c) > -1
                }, empty: function () {
                    return c = [], this
                }, disable: function () {
                    return c = d = i = t, this
                }, disabled: function () {
                    return !c
                }, lock: function () {
                    return d = t, i || f.disable(), this
                }, locked: function () {
                    return !d
                }, fireWith: function (e, t) {
                    return t = t || [], t = [e, t.slice ? t.slice() : t], c && (!r || d) && (o ? d.push(t) : u(t)), this
                }, fire: function () {
                    return f.fireWith(this, arguments), this
                }, fired: function () {
                    return !!r
                }
            };
            return f
        }, J.extend({
            Deferred: function (e) {
                var t = [["resolve", "done", J.Callbacks("once memory"), "resolved"], ["reject", "fail", J.Callbacks("once memory"), "rejected"], ["notify", "progress", J.Callbacks("memory")]], n = "pending", i = {
                    state: function () {
                        return n
                    }, always: function () {
                        return r.done(arguments).fail(arguments), this
                    }, then: function () {
                        var e = arguments;
                        return J.Deferred(function (n) {
                            J.each(t, function (t, i) {
                                var o = i[0], a = e[t];
                                r[i[1]](J.isFunction(a) ? function () {
                                    var e = a.apply(this, arguments);
                                    e && J.isFunction(e.promise) ? e.promise().done(n.resolve).fail(n.reject).progress(n.notify) : n[o + "With"](this === r ? n : this, [e])
                                } : n[o])
                            }), e = null
                        }).promise()
                    }, promise: function (e) {
                        return "object" == typeof e ? J.extend(e, i) : i
                    }
                }, r = {};
                return i.pipe = i.then, J.each(t, function (e, o) {
                    var a = o[2], s = o[3];
                    i[o[1]] = a.add, s && a.add(function () {
                        n = s
                    }, t[1 ^ e][2].disable, t[2][2].lock), r[o[0]] = a.fire, r[o[0] + "With"] = a.fireWith
                }), i.promise(r), e && e.call(r, r), r
            }, when: function (e) {
                var t, n, i, r = 0, o = Y.call(arguments), a = o.length, s = 1 !== a || e && J.isFunction(e.promise) ? a : 0, l = 1 === s ? e : J.Deferred(), c = function (e, n, i) {
                    return function (r) {
                        n[e] = this, i[e] = arguments.length > 1 ? Y.call(arguments) : r, i === t ? l.notifyWith(n, i) : --s || l.resolveWith(n, i)
                    }
                };
                if (a > 1)for (t = new Array(a), n = new Array(a), i = new Array(a); r < a; r++)o[r] && J.isFunction(o[r].promise) ? o[r].promise().done(c(r, i, o)).fail(l.reject).progress(c(r, n, t)) : --s;
                return s || l.resolveWith(i, o), l.promise()
            }
        }), J.support = function () {
            var t, n, i, r, o, a, s, l, c, d, u, f = F.createElement("div");
            if (f.setAttribute("className", "t"), f.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>", n = f.getElementsByTagName("*"), i = f.getElementsByTagName("a")[0], i.style.cssText = "top:1px;float:left;opacity:.5", !n || !n.length || !i)return {};
            r = F.createElement("select"), o = r.appendChild(F.createElement("option")), a = f.getElementsByTagName("input")[0], t = {
                leadingWhitespace: 3 === f.firstChild.nodeType,
                tbody: !f.getElementsByTagName("tbody").length,
                htmlSerialize: !!f.getElementsByTagName("link").length,
                style: /top/.test(i.getAttribute("style")),
                hrefNormalized: "/a" === i.getAttribute("href"),
                opacity: /^0.5/.test(i.style.opacity),
                cssFloat: !!i.style.cssFloat,
                checkOn: "on" === a.value,
                optSelected: o.selected,
                getSetAttribute: "t" !== f.className,
                enctype: !!F.createElement("form").enctype,
                html5Clone: "<:nav></:nav>" !== F.createElement("nav").cloneNode(!0).outerHTML,
                boxModel: "CSS1Compat" === F.compatMode,
                submitBubbles: !0,
                changeBubbles: !0,
                focusinBubbles: !1,
                deleteExpando: !0,
                noCloneEvent: !0,
                inlineBlockNeedsLayout: !1,
                shrinkWrapBlocks: !1,
                reliableMarginRight: !0,
                boxSizingReliable: !0,
                pixelPosition: !1
            }, a.checked = !0, t.noCloneChecked = a.cloneNode(!0).checked, r.disabled = !0, t.optDisabled = !o.disabled;
            try {
                delete f.test
            } catch (e) {
                t.deleteExpando = !1
            }
            if (!f.addEventListener && f.attachEvent && f.fireEvent && (f.attachEvent("onclick", u = function () {
                    t.noCloneEvent = !1
                }), f.cloneNode(!0).fireEvent("onclick"), f.detachEvent("onclick", u)), a = F.createElement("input"), a.value = "t", a.setAttribute("type", "radio"), t.radioValue = "t" === a.value, a.setAttribute("checked", "checked"), a.setAttribute("name", "t"), f.appendChild(a), s = F.createDocumentFragment(), s.appendChild(f.lastChild), t.checkClone = s.cloneNode(!0).cloneNode(!0).lastChild.checked, t.appendChecked = a.checked, s.removeChild(a), s.appendChild(f), f.attachEvent)for (c in{
                submit: !0,
                change: !0,
                focusin: !0
            })l = "on" + c, d = l in f, d || (f.setAttribute(l, "return;"), d = "function" == typeof f[l]), t[c + "Bubbles"] = d;
            return J(function () {
                var n, i, r, o, a = "padding:0;margin:0;border:0;display:block;overflow:hidden;", s = F.getElementsByTagName("body")[0];
                s && (n = F.createElement("div"), n.style.cssText = "visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px", s.insertBefore(n, s.firstChild), i = F.createElement("div"), n.appendChild(i), i.innerHTML = "<table><tr><td></td><td>t</td></tr></table>", r = i.getElementsByTagName("td"), r[0].style.cssText = "padding:0;margin:0;border:0;display:none", d = 0 === r[0].offsetHeight, r[0].style.display = "", r[1].style.display = "none", t.reliableHiddenOffsets = d && 0 === r[0].offsetHeight, i.innerHTML = "", i.style.cssText = "box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;", t.boxSizing = 4 === i.offsetWidth, t.doesNotIncludeMarginInBodyOffset = 1 !== s.offsetTop, e.getComputedStyle && (t.pixelPosition = "1%" !== (e.getComputedStyle(i, null) || {}).top, t.boxSizingReliable = "4px" === (e.getComputedStyle(i, null) || {width: "4px"}).width, o = F.createElement("div"), o.style.cssText = i.style.cssText = a, o.style.marginRight = o.style.width = "0", i.style.width = "1px", i.appendChild(o), t.reliableMarginRight = !parseFloat((e.getComputedStyle(o, null) || {}).marginRight)), "undefined" != typeof i.style.zoom && (i.innerHTML = "", i.style.cssText = a + "width:1px;padding:1px;display:inline;zoom:1", t.inlineBlockNeedsLayout = 3 === i.offsetWidth, i.style.display = "block", i.style.overflow = "visible", i.innerHTML = "<div></div>", i.firstChild.style.width = "5px", t.shrinkWrapBlocks = 3 !== i.offsetWidth, n.style.zoom = 1), s.removeChild(n), n = i = r = o = null)
            }), s.removeChild(f), n = i = r = o = a = s = f = null, t
        }();
        var me = /^(?:\{.*\}|\[.*\])$/, ge = /([A-Z])/g;
        J.extend({
            cache: {},
            deletedIds: [],
            uuid: 0,
            expando: "jQuery" + (J.fn.jquery + Math.random()).replace(/\D/g, ""),
            noData: {embed: !0, object: "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000", applet: !0},
            hasData: function (e) {
                return e = e.nodeType ? J.cache[e[J.expando]] : e[J.expando], !!e && !r(e)
            },
            data: function (e, n, i, r) {
                if (J.acceptData(e)) {
                    var o, a, s = J.expando, l = "string" == typeof n, c = e.nodeType, d = c ? J.cache : e, u = c ? e[s] : e[s] && s;
                    if (u && d[u] && (r || d[u].data) || !l || i !== t)return u || (c ? e[s] = u = J.deletedIds.pop() || ++J.uuid : u = s), d[u] || (d[u] = {}, c || (d[u].toJSON = J.noop)), "object" != typeof n && "function" != typeof n || (r ? d[u] = J.extend(d[u], n) : d[u].data = J.extend(d[u].data, n)), o = d[u], r || (o.data || (o.data = {}), o = o.data), i !== t && (o[J.camelCase(n)] = i), l ? (a = o[n], null == a && (a = o[J.camelCase(n)])) : a = o, a
                }
            },
            removeData: function (e, t, n) {
                if (J.acceptData(e)) {
                    var i, o, a, s = e.nodeType, l = s ? J.cache : e, c = s ? e[J.expando] : J.expando;
                    if (l[c]) {
                        if (t && (i = n ? l[c] : l[c].data)) {
                            J.isArray(t) || (t in i ? t = [t] : (t = J.camelCase(t), t = t in i ? [t] : t.split(" ")));
                            for (o = 0, a = t.length; o < a; o++)delete i[t[o]];
                            if (!(n ? r : J.isEmptyObject)(i))return
                        }
                        (n || (delete l[c].data, r(l[c]))) && (s ? J.cleanData([e], !0) : J.support.deleteExpando || l != l.window ? delete l[c] : l[c] = null)
                    }
                }
            },
            _data: function (e, t, n) {
                return J.data(e, t, n, !0)
            },
            acceptData: function (e) {
                var t = e.nodeName && J.noData[e.nodeName.toLowerCase()];
                return !t || t !== !0 && e.getAttribute("classid") === t
            }
        }), J.fn.extend({
            data: function (e, n) {
                var r, o, a, s, l, c = this[0], d = 0, u = null;
                if (e === t) {
                    if (this.length && (u = J.data(c), 1 === c.nodeType && !J._data(c, "parsedAttrs"))) {
                        for (a = c.attributes, l = a.length; d < l; d++)s = a[d].name, 0 === s.indexOf("data-") && (s = J.camelCase(s.substring(5)), i(c, s, u[s]));
                        J._data(c, "parsedAttrs", !0)
                    }
                    return u
                }
                return "object" == typeof e ? this.each(function () {
                    J.data(this, e)
                }) : (r = e.split(".", 2), r[1] = r[1] ? "." + r[1] : "", o = r[1] + "!", J.access(this, function (n) {
                    return n === t ? (u = this.triggerHandler("getData" + o, [r[0]]), u === t && c && (u = J.data(c, e), u = i(c, e, u)), u === t && r[1] ? this.data(r[0]) : u) : (r[1] = n, void this.each(function () {
                        var t = J(this);
                        t.triggerHandler("setData" + o, r), J.data(this, e, n), t.triggerHandler("changeData" + o, r)
                    }))
                }, null, n, arguments.length > 1, null, !1))
            }, removeData: function (e) {
                return this.each(function () {
                    J.removeData(this, e)
                })
            }
        }), J.extend({
            queue: function (e, t, n) {
                var i;
                if (e)return t = (t || "fx") + "queue", i = J._data(e, t), n && (!i || J.isArray(n) ? i = J._data(e, t, J.makeArray(n)) : i.push(n)), i || []
            }, dequeue: function (e, t) {
                t = t || "fx";
                var n = J.queue(e, t), i = n.shift(), r = J._queueHooks(e, t), o = function () {
                    J.dequeue(e, t)
                };
                "inprogress" === i && (i = n.shift()), i && ("fx" === t && n.unshift("inprogress"), delete r.stop, i.call(e, o, r)), !n.length && r && r.empty.fire()
            }, _queueHooks: function (e, t) {
                var n = t + "queueHooks";
                return J._data(e, n) || J._data(e, n, {
                        empty: J.Callbacks("once memory").add(function () {
                            J.removeData(e, t + "queue", !0), J.removeData(e, n, !0)
                        })
                    })
            }
        }), J.fn.extend({
            queue: function (e, n) {
                var i = 2;
                return "string" != typeof e && (n = e, e = "fx", i--), arguments.length < i ? J.queue(this[0], e) : n === t ? this : this.each(function () {
                    var t = J.queue(this, e, n);
                    J._queueHooks(this, e), "fx" === e && "inprogress" !== t[0] && J.dequeue(this, e)
                })
            }, dequeue: function (e) {
                return this.each(function () {
                    J.dequeue(this, e)
                })
            }, delay: function (e, t) {
                return e = J.fx ? J.fx.speeds[e] || e : e, t = t || "fx", this.queue(t, function (t, n) {
                    var i = setTimeout(t, e);
                    n.stop = function () {
                        clearTimeout(i)
                    }
                })
            }, clearQueue: function (e) {
                return this.queue(e || "fx", [])
            }, promise: function (e, n) {
                var i, r = 1, o = J.Deferred(), a = this, s = this.length, l = function () {
                    --r || o.resolveWith(a, [a])
                };
                for ("string" != typeof e && (n = e, e = t), e = e || "fx"; s--;)(i = J._data(a[s], e + "queueHooks")) && i.empty && (r++, i.empty.add(l));
                return l(), o.promise(n)
            }
        });
        var ve, ye, be, we = /[\t\r\n]/g, Ce = /\r/g, xe = /^(?:button|input)$/i, $e = /^(?:button|input|object|select|textarea)$/i, Ne = /^a(?:rea|)$/i, Te = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i, ke = J.support.getSetAttribute;
        J.fn.extend({
            attr: function (e, t) {
                return J.access(this, J.attr, e, t, arguments.length > 1)
            }, removeAttr: function (e) {
                return this.each(function () {
                    J.removeAttr(this, e)
                })
            }, prop: function (e, t) {
                return J.access(this, J.prop, e, t, arguments.length > 1)
            }, removeProp: function (e) {
                return e = J.propFix[e] || e, this.each(function () {
                    try {
                        this[e] = t, delete this[e]
                    } catch (e) {
                    }
                })
            }, addClass: function (e) {
                var t, n, i, r, o, a, s;
                if (J.isFunction(e))return this.each(function (t) {
                    J(this).addClass(e.call(this, t, this.className))
                });
                if (e && "string" == typeof e)for (t = e.split(te), n = 0, i = this.length; n < i; n++)if (r = this[n], 1 === r.nodeType)if (r.className || 1 !== t.length) {
                    for (o = " " + r.className + " ", a = 0, s = t.length; a < s; a++)~o.indexOf(" " + t[a] + " ") || (o += t[a] + " ");
                    r.className = J.trim(o)
                } else r.className = e;
                return this
            }, removeClass: function (e) {
                var n, i, r, o, a, s, l;
                if (J.isFunction(e))return this.each(function (t) {
                    J(this).removeClass(e.call(this, t, this.className))
                });
                if (e && "string" == typeof e || e === t)for (n = (e || "").split(te), s = 0, l = this.length; s < l; s++)if (r = this[s], 1 === r.nodeType && r.className) {
                    for (i = (" " + r.className + " ").replace(we, " "), o = 0, a = n.length; o < a; o++)for (; i.indexOf(" " + n[o] + " ") > -1;)i = i.replace(" " + n[o] + " ", " ");
                    r.className = e ? J.trim(i) : ""
                }
                return this
            }, toggleClass: function (e, t) {
                var n = typeof e, i = "boolean" == typeof t;
                return J.isFunction(e) ? this.each(function (n) {
                    J(this).toggleClass(e.call(this, n, this.className, t), t)
                }) : this.each(function () {
                    if ("string" === n)for (var r, o = 0, a = J(this), s = t, l = e.split(te); r = l[o++];)s = i ? s : !a.hasClass(r), a[s ? "addClass" : "removeClass"](r); else"undefined" !== n && "boolean" !== n || (this.className && J._data(this, "__className__", this.className), this.className = this.className || e === !1 ? "" : J._data(this, "__className__") || "")
                })
            }, hasClass: function (e) {
                for (var t = " " + e + " ", n = 0, i = this.length; n < i; n++)if (1 === this[n].nodeType && (" " + this[n].className + " ").replace(we, " ").indexOf(t) > -1)return !0;
                return !1
            }, val: function (e) {
                var n, i, r, o = this[0];
                {
                    if (arguments.length)return r = J.isFunction(e), this.each(function (i) {
                        var o, a = J(this);
                        1 === this.nodeType && (o = r ? e.call(this, i, a.val()) : e, null == o ? o = "" : "number" == typeof o ? o += "" : J.isArray(o) && (o = J.map(o, function (e) {
                            return null == e ? "" : e + ""
                        })), n = J.valHooks[this.type] || J.valHooks[this.nodeName.toLowerCase()], n && "set" in n && n.set(this, o, "value") !== t || (this.value = o))
                    });
                    if (o)return n = J.valHooks[o.type] || J.valHooks[o.nodeName.toLowerCase()], n && "get" in n && (i = n.get(o, "value")) !== t ? i : (i = o.value, "string" == typeof i ? i.replace(Ce, "") : null == i ? "" : i)
                }
            }
        }), J.extend({
            valHooks: {
                option: {
                    get: function (e) {
                        var t = e.attributes.value;
                        return !t || t.specified ? e.value : e.text
                    }
                }, select: {
                    get: function (e) {
                        var t, n, i, r, o = e.selectedIndex, a = [], s = e.options, l = "select-one" === e.type;
                        if (o < 0)return null;
                        for (n = l ? o : 0, i = l ? o + 1 : s.length; n < i; n++)if (r = s[n], r.selected && (J.support.optDisabled ? !r.disabled : null === r.getAttribute("disabled")) && (!r.parentNode.disabled || !J.nodeName(r.parentNode, "optgroup"))) {
                            if (t = J(r).val(), l)return t;
                            a.push(t)
                        }
                        return l && !a.length && s.length ? J(s[o]).val() : a
                    }, set: function (e, t) {
                        var n = J.makeArray(t);
                        return J(e).find("option").each(function () {
                            this.selected = J.inArray(J(this).val(), n) >= 0
                        }), n.length || (e.selectedIndex = -1), n
                    }
                }
            },
            attrFn: {},
            attr: function (e, n, i, r) {
                var o, a, s, l = e.nodeType;
                if (e && 3 !== l && 8 !== l && 2 !== l)return r && J.isFunction(J.fn[n]) ? J(e)[n](i) : "undefined" == typeof e.getAttribute ? J.prop(e, n, i) : (s = 1 !== l || !J.isXMLDoc(e), s && (n = n.toLowerCase(), a = J.attrHooks[n] || (Te.test(n) ? ye : ve)), i !== t ? null === i ? void J.removeAttr(e, n) : a && "set" in a && s && (o = a.set(e, i, n)) !== t ? o : (e.setAttribute(n, "" + i), i) : a && "get" in a && s && null !== (o = a.get(e, n)) ? o : (o = e.getAttribute(n), null === o ? t : o))
            },
            removeAttr: function (e, t) {
                var n, i, r, o, a = 0;
                if (t && 1 === e.nodeType)for (i = t.split(te); a < i.length; a++)r = i[a], r && (n = J.propFix[r] || r, o = Te.test(r), o || J.attr(e, r, ""), e.removeAttribute(ke ? r : n), o && n in e && (e[n] = !1))
            },
            attrHooks: {
                type: {
                    set: function (e, t) {
                        if (xe.test(e.nodeName) && e.parentNode)J.error("type property can't be changed"); else if (!J.support.radioValue && "radio" === t && J.nodeName(e, "input")) {
                            var n = e.value;
                            return e.setAttribute("type", t), n && (e.value = n), t
                        }
                    }
                }, value: {
                    get: function (e, t) {
                        return ve && J.nodeName(e, "button") ? ve.get(e, t) : t in e ? e.value : null
                    }, set: function (e, t, n) {
                        return ve && J.nodeName(e, "button") ? ve.set(e, t, n) : void(e.value = t)
                    }
                }
            },
            propFix: {
                tabindex: "tabIndex",
                readonly: "readOnly",
                for: "htmlFor",
                class: "className",
                maxlength: "maxLength",
                cellspacing: "cellSpacing",
                cellpadding: "cellPadding",
                rowspan: "rowSpan",
                colspan: "colSpan",
                usemap: "useMap",
                frameborder: "frameBorder",
                contenteditable: "contentEditable"
            },
            prop: function (e, n, i) {
                var r, o, a, s = e.nodeType;
                if (e && 3 !== s && 8 !== s && 2 !== s)return a = 1 !== s || !J.isXMLDoc(e), a && (n = J.propFix[n] || n, o = J.propHooks[n]), i !== t ? o && "set" in o && (r = o.set(e, i, n)) !== t ? r : e[n] = i : o && "get" in o && null !== (r = o.get(e, n)) ? r : e[n]
            },
            propHooks: {
                tabIndex: {
                    get: function (e) {
                        var n = e.getAttributeNode("tabindex");
                        return n && n.specified ? parseInt(n.value, 10) : $e.test(e.nodeName) || Ne.test(e.nodeName) && e.href ? 0 : t
                    }
                }
            }
        }), ye = {
            get: function (e, n) {
                var i, r = J.prop(e, n);
                return r === !0 || "boolean" != typeof r && (i = e.getAttributeNode(n)) && i.nodeValue !== !1 ? n.toLowerCase() : t
            }, set: function (e, t, n) {
                var i;
                return t === !1 ? J.removeAttr(e, n) : (i = J.propFix[n] || n, i in e && (e[i] = !0), e.setAttribute(n, n.toLowerCase())), n
            }
        }, ke || (be = {name: !0, id: !0, coords: !0}, ve = J.valHooks.button = {
            get: function (e, n) {
                var i;
                return i = e.getAttributeNode(n), i && (be[n] ? "" !== i.value : i.specified) ? i.value : t
            }, set: function (e, t, n) {
                var i = e.getAttributeNode(n);
                return i || (i = F.createAttribute(n), e.setAttributeNode(i)), i.value = t + ""
            }
        }, J.each(["width", "height"], function (e, t) {
            J.attrHooks[t] = J.extend(J.attrHooks[t], {
                set: function (e, n) {
                    if ("" === n)return e.setAttribute(t, "auto"),
                        n
                }
            })
        }), J.attrHooks.contenteditable = {
            get: ve.get, set: function (e, t, n) {
                "" === t && (t = "false"), ve.set(e, t, n)
            }
        }), J.support.hrefNormalized || J.each(["href", "src", "width", "height"], function (e, n) {
            J.attrHooks[n] = J.extend(J.attrHooks[n], {
                get: function (e) {
                    var i = e.getAttribute(n, 2);
                    return null === i ? t : i
                }
            })
        }), J.support.style || (J.attrHooks.style = {
            get: function (e) {
                return e.style.cssText.toLowerCase() || t
            }, set: function (e, t) {
                return e.style.cssText = "" + t
            }
        }), J.support.optSelected || (J.propHooks.selected = J.extend(J.propHooks.selected, {
            get: function (e) {
                var t = e.parentNode;
                return t && (t.selectedIndex, t.parentNode && t.parentNode.selectedIndex), null
            }
        })), J.support.enctype || (J.propFix.enctype = "encoding"), J.support.checkOn || J.each(["radio", "checkbox"], function () {
            J.valHooks[this] = {
                get: function (e) {
                    return null === e.getAttribute("value") ? "on" : e.value
                }
            }
        }), J.each(["radio", "checkbox"], function () {
            J.valHooks[this] = J.extend(J.valHooks[this], {
                set: function (e, t) {
                    if (J.isArray(t))return e.checked = J.inArray(J(e).val(), t) >= 0
                }
            })
        });
        var Ee = /^(?:textarea|input|select)$/i, Se = /^([^\.]*|)(?:\.(.+)|)$/, Ue = /(?:^|\s)hover(\.\S+|)\b/, De = /^key/, Ae = /^(?:mouse|contextmenu)|click/, Be = /^(?:focusinfocus|focusoutblur)$/, _e = function (e) {
            return J.event.special.hover ? e : e.replace(Ue, "mouseenter$1 mouseleave$1")
        };
        J.event = {
            add: function (e, n, i, r, o) {
                var a, s, l, c, d, u, f, h, p, m, g;
                if (3 !== e.nodeType && 8 !== e.nodeType && n && i && (a = J._data(e))) {
                    for (i.handler && (p = i, i = p.handler, o = p.selector), i.guid || (i.guid = J.guid++), l = a.events, l || (a.events = l = {}), s = a.handle, s || (a.handle = s = function (e) {
                        return "undefined" == typeof J || e && J.event.triggered === e.type ? t : J.event.dispatch.apply(s.elem, arguments)
                    }, s.elem = e), n = J.trim(_e(n)).split(" "), c = 0; c < n.length; c++)d = Se.exec(n[c]) || [], u = d[1], f = (d[2] || "").split(".").sort(), g = J.event.special[u] || {}, u = (o ? g.delegateType : g.bindType) || u, g = J.event.special[u] || {}, h = J.extend({
                        type: u,
                        origType: d[1],
                        data: r,
                        handler: i,
                        guid: i.guid,
                        selector: o,
                        namespace: f.join(".")
                    }, p), m = l[u], m || (m = l[u] = [], m.delegateCount = 0, g.setup && g.setup.call(e, r, f, s) !== !1 || (e.addEventListener ? e.addEventListener(u, s, !1) : e.attachEvent && e.attachEvent("on" + u, s))), g.add && (g.add.call(e, h), h.handler.guid || (h.handler.guid = i.guid)), o ? m.splice(m.delegateCount++, 0, h) : m.push(h), J.event.global[u] = !0;
                    e = null
                }
            },
            global: {},
            remove: function (e, t, n, i, r) {
                var o, a, s, l, c, d, u, f, h, p, m, g = J.hasData(e) && J._data(e);
                if (g && (f = g.events)) {
                    for (t = J.trim(_e(t || "")).split(" "), o = 0; o < t.length; o++)if (a = Se.exec(t[o]) || [], s = l = a[1], c = a[2], s) {
                        for (h = J.event.special[s] || {}, s = (i ? h.delegateType : h.bindType) || s, p = f[s] || [], d = p.length, c = c ? new RegExp("(^|\\.)" + c.split(".").sort().join("\\.(?:.*\\.|)") + "(\\.|$)") : null, u = 0; u < p.length; u++)m = p[u], (r || l === m.origType) && (!n || n.guid === m.guid) && (!c || c.test(m.namespace)) && (!i || i === m.selector || "**" === i && m.selector) && (p.splice(u--, 1), m.selector && p.delegateCount--, h.remove && h.remove.call(e, m));
                        0 === p.length && d !== p.length && ((!h.teardown || h.teardown.call(e, c, g.handle) === !1) && J.removeEvent(e, s, g.handle), delete f[s])
                    } else for (s in f)J.event.remove(e, s + t[o], n, i, !0);
                    J.isEmptyObject(f) && (delete g.handle, J.removeData(e, "events", !0))
                }
            },
            customEvent: {getData: !0, setData: !0, changeData: !0},
            trigger: function (n, i, r, o) {
                if (!r || 3 !== r.nodeType && 8 !== r.nodeType) {
                    var a, s, l, c, d, u, f, h, p, m, g = n.type || n, v = [];
                    if (Be.test(g + J.event.triggered))return;
                    if (g.indexOf("!") >= 0 && (g = g.slice(0, -1), s = !0), g.indexOf(".") >= 0 && (v = g.split("."), g = v.shift(), v.sort()), (!r || J.event.customEvent[g]) && !J.event.global[g])return;
                    if (n = "object" == typeof n ? n[J.expando] ? n : new J.Event(g, n) : new J.Event(g), n.type = g, n.isTrigger = !0, n.exclusive = s, n.namespace = v.join("."), n.namespace_re = n.namespace ? new RegExp("(^|\\.)" + v.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, u = g.indexOf(":") < 0 ? "on" + g : "", !r) {
                        a = J.cache;
                        for (l in a)a[l].events && a[l].events[g] && J.event.trigger(n, i, a[l].handle.elem, !0);
                        return
                    }
                    if (n.result = t, n.target || (n.target = r), i = null != i ? J.makeArray(i) : [], i.unshift(n), f = J.event.special[g] || {}, f.trigger && f.trigger.apply(r, i) === !1)return;
                    if (p = [[r, f.bindType || g]], !o && !f.noBubble && !J.isWindow(r)) {
                        for (m = f.delegateType || g, c = Be.test(m + g) ? r : r.parentNode, d = r; c; c = c.parentNode)p.push([c, m]), d = c;
                        d === (r.ownerDocument || F) && p.push([d.defaultView || d.parentWindow || e, m])
                    }
                    for (l = 0; l < p.length && !n.isPropagationStopped(); l++)c = p[l][0], n.type = p[l][1], h = (J._data(c, "events") || {})[n.type] && J._data(c, "handle"), h && h.apply(c, i), h = u && c[u], h && J.acceptData(c) && h.apply(c, i) === !1 && n.preventDefault();
                    return n.type = g, !o && !n.isDefaultPrevented() && (!f._default || f._default.apply(r.ownerDocument, i) === !1) && ("click" !== g || !J.nodeName(r, "a")) && J.acceptData(r) && u && r[g] && ("focus" !== g && "blur" !== g || 0 !== n.target.offsetWidth) && !J.isWindow(r) && (d = r[u], d && (r[u] = null), J.event.triggered = g, r[g](), J.event.triggered = t, d && (r[u] = d)), n.result
                }
            },
            dispatch: function (n) {
                n = J.event.fix(n || e.event);
                var i, r, o, a, s, l, c, d, u, f, h = (J._data(this, "events") || {})[n.type] || [], p = h.delegateCount, m = [].slice.call(arguments), g = !n.exclusive && !n.namespace, v = J.event.special[n.type] || {}, y = [];
                if (m[0] = n, n.delegateTarget = this, !v.preDispatch || v.preDispatch.call(this, n) !== !1) {
                    if (p && (!n.button || "click" !== n.type))for (a = J(this), a.context = this, o = n.target; o != this; o = o.parentNode || this)if (o.disabled !== !0 || "click" !== n.type) {
                        for (l = {}, d = [], a[0] = o, i = 0; i < p; i++)u = h[i], f = u.selector, l[f] === t && (l[f] = a.is(f)), l[f] && d.push(u);
                        d.length && y.push({elem: o, matches: d})
                    }
                    for (h.length > p && y.push({
                        elem: this,
                        matches: h.slice(p)
                    }), i = 0; i < y.length && !n.isPropagationStopped(); i++)for (c = y[i], n.currentTarget = c.elem, r = 0; r < c.matches.length && !n.isImmediatePropagationStopped(); r++)u = c.matches[r], (g || !n.namespace && !u.namespace || n.namespace_re && n.namespace_re.test(u.namespace)) && (n.data = u.data, n.handleObj = u, s = ((J.event.special[u.origType] || {}).handle || u.handler).apply(c.elem, m), s !== t && (n.result = s, s === !1 && (n.preventDefault(), n.stopPropagation())));
                    return v.postDispatch && v.postDispatch.call(this, n), n.result
                }
            },
            props: "attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
            fixHooks: {},
            keyHooks: {
                props: "char charCode key keyCode".split(" "), filter: function (e, t) {
                    return null == e.which && (e.which = null != t.charCode ? t.charCode : t.keyCode), e
                }
            },
            mouseHooks: {
                props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
                filter: function (e, n) {
                    var i, r, o, a = n.button, s = n.fromElement;
                    return null == e.pageX && null != n.clientX && (i = e.target.ownerDocument || F, r = i.documentElement, o = i.body, e.pageX = n.clientX + (r && r.scrollLeft || o && o.scrollLeft || 0) - (r && r.clientLeft || o && o.clientLeft || 0), e.pageY = n.clientY + (r && r.scrollTop || o && o.scrollTop || 0) - (r && r.clientTop || o && o.clientTop || 0)), !e.relatedTarget && s && (e.relatedTarget = s === e.target ? n.toElement : s), !e.which && a !== t && (e.which = 1 & a ? 1 : 2 & a ? 3 : 4 & a ? 2 : 0), e
                }
            },
            fix: function (e) {
                if (e[J.expando])return e;
                var t, n, i = e, r = J.event.fixHooks[e.type] || {}, o = r.props ? this.props.concat(r.props) : this.props;
                for (e = J.Event(i), t = o.length; t;)n = o[--t], e[n] = i[n];
                return e.target || (e.target = i.srcElement || F), 3 === e.target.nodeType && (e.target = e.target.parentNode), e.metaKey = !!e.metaKey, r.filter ? r.filter(e, i) : e
            },
            special: {
                ready: {setup: J.bindReady},
                load: {noBubble: !0},
                focus: {delegateType: "focusin"},
                blur: {delegateType: "focusout"},
                beforeunload: {
                    setup: function (e, t, n) {
                        J.isWindow(this) && (this.onbeforeunload = n)
                    }, teardown: function (e, t) {
                        this.onbeforeunload === t && (this.onbeforeunload = null)
                    }
                }
            },
            simulate: function (e, t, n, i) {
                var r = J.extend(new J.Event, n, {type: e, isSimulated: !0, originalEvent: {}});
                i ? J.event.trigger(r, null, t) : J.event.dispatch.call(t, r), r.isDefaultPrevented() && n.preventDefault()
            }
        }, J.event.handle = J.event.dispatch, J.removeEvent = F.removeEventListener ? function (e, t, n) {
            e.removeEventListener && e.removeEventListener(t, n, !1)
        } : function (e, t, n) {
            var i = "on" + t;
            e.detachEvent && ("undefined" == typeof e[i] && (e[i] = null), e.detachEvent(i, n))
        }, J.Event = function (e, t) {
            return this instanceof J.Event ? (e && e.type ? (this.originalEvent = e, this.type = e.type, this.isDefaultPrevented = e.defaultPrevented || e.returnValue === !1 || e.getPreventDefault && e.getPreventDefault() ? a : o) : this.type = e, t && J.extend(this, t), this.timeStamp = e && e.timeStamp || J.now(), this[J.expando] = !0, void 0) : new J.Event(e, t)
        }, J.Event.prototype = {
            preventDefault: function () {
                this.isDefaultPrevented = a;
                var e = this.originalEvent;
                e && (e.preventDefault ? e.preventDefault() : e.returnValue = !1)
            }, stopPropagation: function () {
                this.isPropagationStopped = a;
                var e = this.originalEvent;
                e && (e.stopPropagation && e.stopPropagation(), e.cancelBubble = !0)
            }, stopImmediatePropagation: function () {
                this.isImmediatePropagationStopped = a, this.stopPropagation()
            }, isDefaultPrevented: o, isPropagationStopped: o, isImmediatePropagationStopped: o
        }, J.each({mouseenter: "mouseover", mouseleave: "mouseout"}, function (e, t) {
            J.event.special[e] = {
                delegateType: t, bindType: t, handle: function (e) {
                    var n, i = this, r = e.relatedTarget, o = e.handleObj;
                    o.selector;
                    return r && (r === i || J.contains(i, r)) || (e.type = o.origType, n = o.handler.apply(this, arguments), e.type = t), n
                }
            }
        }), J.support.submitBubbles || (J.event.special.submit = {
            setup: function () {
                return !J.nodeName(this, "form") && void J.event.add(this, "click._submit keypress._submit", function (e) {
                        var n = e.target, i = J.nodeName(n, "input") || J.nodeName(n, "button") ? n.form : t;
                        i && !J._data(i, "_submit_attached") && (J.event.add(i, "submit._submit", function (e) {
                            e._submit_bubble = !0
                        }), J._data(i, "_submit_attached", !0))
                    })
            }, postDispatch: function (e) {
                e._submit_bubble && (delete e._submit_bubble, this.parentNode && !e.isTrigger && J.event.simulate("submit", this.parentNode, e, !0))
            }, teardown: function () {
                return !J.nodeName(this, "form") && void J.event.remove(this, "._submit")
            }
        }), J.support.changeBubbles || (J.event.special.change = {
            setup: function () {
                return Ee.test(this.nodeName) ? ("checkbox" !== this.type && "radio" !== this.type || (J.event.add(this, "propertychange._change", function (e) {
                    "checked" === e.originalEvent.propertyName && (this._just_changed = !0)
                }), J.event.add(this, "click._change", function (e) {
                    this._just_changed && !e.isTrigger && (this._just_changed = !1), J.event.simulate("change", this, e, !0)
                })), !1) : void J.event.add(this, "beforeactivate._change", function (e) {
                    var t = e.target;
                    Ee.test(t.nodeName) && !J._data(t, "_change_attached") && (J.event.add(t, "change._change", function (e) {
                        this.parentNode && !e.isSimulated && !e.isTrigger && J.event.simulate("change", this.parentNode, e, !0)
                    }), J._data(t, "_change_attached", !0))
                })
            }, handle: function (e) {
                var t = e.target;
                if (this !== t || e.isSimulated || e.isTrigger || "radio" !== t.type && "checkbox" !== t.type)return e.handleObj.handler.apply(this, arguments)
            }, teardown: function () {
                return J.event.remove(this, "._change"), Ee.test(this.nodeName)
            }
        }), J.support.focusinBubbles || J.each({focus: "focusin", blur: "focusout"}, function (e, t) {
            var n = 0, i = function (e) {
                J.event.simulate(t, e.target, J.event.fix(e), !0)
            };
            J.event.special[t] = {
                setup: function () {
                    0 === n++ && F.addEventListener(e, i, !0)
                }, teardown: function () {
                    0 === --n && F.removeEventListener(e, i, !0)
                }
            }
        }), J.fn.extend({
            on: function (e, n, i, r, a) {
                var s, l;
                if ("object" == typeof e) {
                    "string" != typeof n && (i = i || n, n = t);
                    for (l in e)this.on(l, n, i, e[l], a);
                    return this
                }
                if (null == i && null == r ? (r = n, i = n = t) : null == r && ("string" == typeof n ? (r = i, i = t) : (r = i, i = n, n = t)), r === !1)r = o; else if (!r)return this;
                return 1 === a && (s = r, r = function (e) {
                    return J().off(e), s.apply(this, arguments)
                }, r.guid = s.guid || (s.guid = J.guid++)), this.each(function () {
                    J.event.add(this, e, r, i, n)
                })
            }, one: function (e, t, n, i) {
                return this.on(e, t, n, i, 1)
            }, off: function (e, n, i) {
                var r, a;
                if (e && e.preventDefault && e.handleObj)return r = e.handleObj, J(e.delegateTarget).off(r.namespace ? r.origType + "." + r.namespace : r.origType, r.selector, r.handler), this;
                if ("object" == typeof e) {
                    for (a in e)this.off(a, n, e[a]);
                    return this
                }
                return n !== !1 && "function" != typeof n || (i = n, n = t), i === !1 && (i = o), this.each(function () {
                    J.event.remove(this, e, i, n)
                })
            }, bind: function (e, t, n) {
                return this.on(e, null, t, n)
            }, unbind: function (e, t) {
                return this.off(e, null, t)
            }, live: function (e, t, n) {
                return J(this.context).on(e, this.selector, t, n), this
            }, die: function (e, t) {
                return J(this.context).off(e, this.selector || "**", t), this
            }, delegate: function (e, t, n, i) {
                return this.on(t, e, n, i)
            }, undelegate: function (e, t, n) {
                return 1 == arguments.length ? this.off(e, "**") : this.off(t, e || "**", n)
            }, trigger: function (e, t) {
                return this.each(function () {
                    J.event.trigger(e, t, this)
                })
            }, triggerHandler: function (e, t) {
                if (this[0])return J.event.trigger(e, t, this[0], !0)
            }, toggle: function (e) {
                var t = arguments, n = e.guid || J.guid++, i = 0, r = function (n) {
                    var r = (J._data(this, "lastToggle" + e.guid) || 0) % i;
                    return J._data(this, "lastToggle" + e.guid, r + 1), n.preventDefault(), t[r].apply(this, arguments) || !1
                };
                for (r.guid = n; i < t.length;)t[i++].guid = n;
                return this.click(r)
            }, hover: function (e, t) {
                return this.mouseenter(e).mouseleave(t || e)
            }
        }), J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function (e, t) {
            J.fn[t] = function (e, n) {
                return null == n && (n = e, e = null), arguments.length > 0 ? this.on(t, null, e, n) : this.trigger(t)
            }, De.test(t) && (J.event.fixHooks[t] = J.event.keyHooks), Ae.test(t) && (J.event.fixHooks[t] = J.event.mouseHooks)
        }), function (e, t) {
            function n(e, t, n, i) {
                for (var r = 0, o = t.length; r < o; r++)oe(e, t[r], n, i)
            }

            function i(e, t, i, r, o, a) {
                var s, l = ae.setFilters[t.toLowerCase()];
                return l || oe.error(t), (e || !(s = o)) && n(e || "*", r, s = [], o), s.length > 0 ? l(s, i, a) : []
            }

            function r(e, r, o, a, s) {
                for (var l, c, d, u, f, h, p, m, g = 0, v = s.length, y = q.POS, b = new RegExp("^" + y.source + "(?!" + N + ")", "i"), w = function () {
                    for (var e = 1, n = arguments.length - 2; e < n; e++)arguments[e] === t && (l[e] = t)
                }; g < v; g++) {
                    for (y.exec(""), e = s[g], u = [], d = 0, f = a; l = y.exec(e);)m = y.lastIndex = l.index + l[0].length, m > d && (p = e.slice(d, l.index), d = m, h = [r], M.test(p) && (f && (h = f), f = a), (c = H.test(p)) && (p = p.slice(0, -5).replace(M, "$&*")), l.length > 1 && l[0].replace(b, w), f = i(p, l[1], l[2], h, f, c));
                    f ? (u = u.concat(f), (p = e.slice(d)) && ")" !== p ? M.test(p) ? n(p, u, o, a) : oe(p, r, o, a ? a.concat(f) : f) : x.apply(o, u)) : oe(e, r, o, a)
                }
                return 1 === v ? o : oe.uniqueSort(o)
            }

            function o(e, t, n) {
                for (var i, r, o, a = [], s = 0, l = L.exec(e), c = !l.pop() && !l.pop(), d = c && e.match(I) || [""], u = ae.preFilter, f = ae.filter, h = !n && t !== m; null != (r = d[s]) && c; s++)for (a.push(i = []), h && (r = " " + r); r;) {
                    c = !1, (l = M.exec(r)) && (r = r.slice(l[0].length), c = i.push({
                        part: l.pop().replace(_, " "),
                        captures: l
                    }));
                    for (o in f)(l = q[o].exec(r)) && (!u[o] || (l = u[o](l, t, n))) && (r = r.slice(l.shift().length), c = i.push({
                        part: o,
                        captures: l
                    }));
                    if (!c)break
                }
                return c || oe.error(e), a
            }

            function a(e, t, n) {
                var i = t.dir, r = w++;
                return e || (e = function (e) {
                    return e === n
                }), t.first ? function (t, n) {
                    for (; t = t[i];)if (1 === t.nodeType)return e(t, n) && t
                } : function (t, n) {
                    for (var o, a = r + "." + u, s = a + "." + d; t = t[i];)if (1 === t.nodeType) {
                        if ((o = t[$]) === s)return t.sizset;
                        if ("string" == typeof o && 0 === o.indexOf(a)) {
                            if (t.sizset)return t
                        } else {
                            if (t[$] = s, e(t, n))return t.sizset = !0, t;
                            t.sizset = !1
                        }
                    }
                }
            }

            function s(e, t) {
                return e ? function (n, i) {
                    var r = t(n, i);
                    return r && e(r === !0 ? n : r, i)
                } : t
            }

            function l(e, t, n) {
                for (var i, r, o = 0; i = e[o]; o++)ae.relative[i.part] ? r = a(r, ae.relative[i.part], t) : (i.captures.push(t, n), r = s(r, ae.filter[i.part].apply(null, i.captures)));
                return r
            }

            function c(e) {
                return function (t, n) {
                    for (var i, r = 0; i = e[r]; r++)if (i(t, n))return !0;
                    return !1
                }
            }

            var d, u, f, h, p, m = e.document, g = m.documentElement, v = "undefined", y = !1, b = !0, w = 0, C = [].slice, x = [].push, $ = ("sizcache" + Math.random()).replace(".", ""), N = "[\\x20\\t\\r\\n\\f]", T = "(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+", k = T.replace("w", "w#"), E = "([*^$|!~]?=)", S = "\\[" + N + "*(" + T + ")" + N + "*(?:" + E + N + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + k + ")|)|)" + N + "*\\]", U = ":(" + T + ")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|((?:[^,]|\\\\,|(?:,(?=[^\\[]*\\]))|(?:,(?=[^\\(]*\\))))*))\\)|)", D = ":(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\)|)(?=[^-]|$)", A = N + "*([\\x20\\t\\r\\n\\f>+~])" + N + "*", B = "(?=[^\\x20\\t\\r\\n\\f])(?:\\\\.|" + S + "|" + U.replace(2, 7) + "|[^\\\\(),])+", _ = new RegExp("^" + N + "+|((?:^|[^\\\\])(?:\\\\.)*)" + N + "+$", "g"), M = new RegExp("^" + A), I = new RegExp(B + "?(?=" + N + "*,|$)", "g"), L = new RegExp("^(?:(?!,)(?:(?:^|,)" + N + "*" + B + ")*?|" + N + "*(.*?))(\\)|$)"), R = new RegExp(B.slice(19, -6) + "\\x20\\t\\r\\n\\f>+~])+|" + A, "g"), O = /^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/, P = /[\x20\t\r\n\f]*[+~]/, H = /:not\($/, F = /h\d/i, j = /input|select|textarea|button/i, V = /\\(?!\\)/g, q = {
                ID: new RegExp("^#(" + T + ")"),
                CLASS: new RegExp("^\\.(" + T + ")"),
                NAME: new RegExp("^\\[name=['\"]?(" + T + ")['\"]?\\]"),
                TAG: new RegExp("^(" + T.replace("[-", "[-\\*") + ")"),
                ATTR: new RegExp("^" + S),
                PSEUDO: new RegExp("^" + U),
                CHILD: new RegExp("^:(only|nth|last|first)-child(?:\\(" + N + "*(even|odd|(([+-]|)(\\d*)n|)" + N + "*(?:([+-]|)" + N + "*(\\d+)|))" + N + "*\\)|)", "i"),
                POS: new RegExp(D, "ig"),
                needsContext: new RegExp("^" + N + "*[>+~]|" + D, "i")
            }, W = {}, z = [], Y = {}, X = [], G = function (e) {
                return e.sizzleFilter = !0, e
            }, K = function (e) {
                return function (t) {
                    return "input" === t.nodeName.toLowerCase() && t.type === e
                }
            }, Q = function (e) {
                return function (t) {
                    var n = t.nodeName.toLowerCase();
                    return ("input" === n || "button" === n) && t.type === e
                }
            }, Z = function (e) {
                var t = !1, n = m.createElement("div");
                try {
                    t = e(n)
                } catch (e) {
                }
                return n = null, t
            }, ee = Z(function (e) {
                e.innerHTML = "<select></select>";
                var t = typeof e.lastChild.getAttribute("multiple");
                return "boolean" !== t && "string" !== t
            }), te = Z(function (e) {
                e.id = $ + 0, e.innerHTML = "<a name='" + $ + "'></a><div name='" + $ + "'></div>", g.insertBefore(e, g.firstChild);
                var t = m.getElementsByName && m.getElementsByName($).length === 2 + m.getElementsByName($ + 0).length;
                return p = !m.getElementById($), g.removeChild(e), t
            }), ne = Z(function (e) {
                return e.appendChild(m.createComment("")), 0 === e.getElementsByTagName("*").length
            }), ie = Z(function (e) {
                return e.innerHTML = "<a href='#'></a>", e.firstChild && typeof e.firstChild.getAttribute !== v && "#" === e.firstChild.getAttribute("href")
            }), re = Z(function (e) {
                return e.innerHTML = "<div class='hidden e'></div><div class='hidden'></div>", !(!e.getElementsByClassName || 0 === e.getElementsByClassName("e").length) && (e.lastChild.className = "e", 1 !== e.getElementsByClassName("e").length)
            }), oe = function (e, t, n, i) {
                n = n || [], t = t || m;
                var r, o, a, s, l = t.nodeType;
                if (1 !== l && 9 !== l)return [];
                if (!e || "string" != typeof e)return n;
                if (a = se(t), !a && !i && (r = O.exec(e)))if (s = r[1]) {
                    if (9 === l) {
                        if (o = t.getElementById(s), !o || !o.parentNode)return n;
                        if (o.id === s)return n.push(o), n
                    } else if (t.ownerDocument && (o = t.ownerDocument.getElementById(s)) && le(t, o) && o.id === s)return n.push(o), n
                } else {
                    if (r[2])return x.apply(n, C.call(t.getElementsByTagName(e), 0)), n;
                    if ((s = r[3]) && re && t.getElementsByClassName)return x.apply(n, C.call(t.getElementsByClassName(s), 0)), n
                }
                return ue(e, t, n, i, a)
            }, ae = oe.selectors = {
                cacheLength: 50,
                match: q,
                order: ["ID", "TAG"],
                attrHandle: {},
                createPseudo: G,
                find: {
                    ID: p ? function (e, t, n) {
                        if (typeof t.getElementById !== v && !n) {
                            var i = t.getElementById(e);
                            return i && i.parentNode ? [i] : []
                        }
                    } : function (e, n, i) {
                        if (typeof n.getElementById !== v && !i) {
                            var r = n.getElementById(e);
                            return r ? r.id === e || typeof r.getAttributeNode !== v && r.getAttributeNode("id").value === e ? [r] : t : []
                        }
                    }, TAG: ne ? function (e, t) {
                        if (typeof t.getElementsByTagName !== v)return t.getElementsByTagName(e)
                    } : function (e, t) {
                        var n = t.getElementsByTagName(e);
                        if ("*" === e) {
                            for (var i, r = [], o = 0; i = n[o]; o++)1 === i.nodeType && r.push(i);
                            return r
                        }
                        return n
                    }
                },
                relative: {
                    ">": {dir: "parentNode", first: !0},
                    " ": {dir: "parentNode"},
                    "+": {dir: "previousSibling", first: !0},
                    "~": {dir: "previousSibling"}
                },
                preFilter: {
                    ATTR: function (e) {
                        return e[1] = e[1].replace(V, ""), e[3] = (e[4] || e[5] || "").replace(V, ""), "~=" === e[2] && (e[3] = " " + e[3] + " "), e.slice(0, 4)
                    }, CHILD: function (e) {
                        return e[1] = e[1].toLowerCase(), "nth" === e[1] ? (e[2] || oe.error(e[0]), e[3] = +(e[3] ? e[4] + (e[5] || 1) : 2 * ("even" === e[2] || "odd" === e[2])), e[4] = +(e[6] + e[7] || "odd" === e[2])) : e[2] && oe.error(e[0]), e
                    }, PSEUDO: function (e) {
                        var t, n = e[4];
                        return q.CHILD.test(e[0]) ? null : (n && (t = L.exec(n)) && t.pop() && (e[0] = e[0].slice(0, t[0].length - n.length - 1), n = t[0].slice(0, -1)), e.splice(2, 3, n || e[3]), e)
                    }
                },
                filter: {
                    ID: p ? function (e) {
                        return e = e.replace(V, ""), function (t) {
                            return t.getAttribute("id") === e
                        }
                    } : function (e) {
                        return e = e.replace(V, ""), function (t) {
                            var n = typeof t.getAttributeNode !== v && t.getAttributeNode("id");
                            return n && n.value === e
                        }
                    }, TAG: function (e) {
                        return "*" === e ? function () {
                            return !0
                        } : (e = e.replace(V, "").toLowerCase(), function (t) {
                            return t.nodeName && t.nodeName.toLowerCase() === e
                        })
                    }, CLASS: function (e) {
                        var t = W[e];
                        return t || (t = W[e] = new RegExp("(^|" + N + ")" + e + "(" + N + "|$)"), z.push(e), z.length > ae.cacheLength && delete W[z.shift()]), function (e) {
                            return t.test(e.className || typeof e.getAttribute !== v && e.getAttribute("class") || "")
                        }
                    }, ATTR: function (e, t, n) {
                        return t ? function (i) {
                            var r = oe.attr(i, e), o = r + "";
                            if (null == r)return "!=" === t;
                            switch (t) {
                                case"=":
                                    return o === n;
                                case"!=":
                                    return o !== n;
                                case"^=":
                                    return n && 0 === o.indexOf(n);
                                case"*=":
                                    return n && o.indexOf(n) > -1;
                                case"$=":
                                    return n && o.substr(o.length - n.length) === n;
                                case"~=":
                                    return (" " + o + " ").indexOf(n) > -1;
                                case"|=":
                                    return o === n || o.substr(0, n.length + 1) === n + "-"
                            }
                        } : function (t) {
                            return null != oe.attr(t, e)
                        }
                    }, CHILD: function (e, t, n, i) {
                        if ("nth" === e) {
                            var r = w++;
                            return function (e) {
                                var t, o, a = 0, s = e;
                                if (1 === n && 0 === i)return !0;
                                if (t = e.parentNode, t && (t[$] !== r || !e.sizset)) {
                                    for (s = t.firstChild; s && (1 !== s.nodeType || (s.sizset = ++a, s !== e)); s = s.nextSibling);
                                    t[$] = r
                                }
                                return o = e.sizset - i, 0 === n ? 0 === o : o % n === 0 && o / n >= 0
                            }
                        }
                        return function (t) {
                            var n = t;
                            switch (e) {
                                case"only":
                                case"first":
                                    for (; n = n.previousSibling;)if (1 === n.nodeType)return !1;
                                    if ("first" === e)return !0;
                                    n = t;
                                case"last":
                                    for (; n = n.nextSibling;)if (1 === n.nodeType)return !1;
                                    return !0
                            }
                        }
                    }, PSEUDO: function (e, t, n, i) {
                        var r = ae.pseudos[e] || ae.pseudos[e.toLowerCase()];
                        return r || oe.error("unsupported pseudo: " + e), r.sizzleFilter ? r(t, n, i) : r
                    }
                },
                pseudos: {
                    not: G(function (e, t, n) {
                        var i = de(e.replace(_, "$1"), t, n);
                        return function (e) {
                            return !i(e)
                        }
                    }),
                    enabled: function (e) {
                        return e.disabled === !1
                    },
                    disabled: function (e) {
                        return e.disabled === !0
                    },
                    checked: function (e) {
                        var t = e.nodeName.toLowerCase();
                        return "input" === t && !!e.checked || "option" === t && !!e.selected
                    },
                    selected: function (e) {
                        return e.parentNode && e.parentNode.selectedIndex, e.selected === !0
                    },
                    parent: function (e) {
                        return !ae.pseudos.empty(e)
                    },
                    empty: function (e) {
                        var t;
                        for (e = e.firstChild; e;) {
                            if (e.nodeName > "@" || 3 === (t = e.nodeType) || 4 === t)return !1;
                            e = e.nextSibling
                        }
                        return !0
                    },
                    contains: G(function (e) {
                        return function (t) {
                            return (t.textContent || t.innerText || ce(t)).indexOf(e) > -1
                        }
                    }),
                    has: G(function (e) {
                        return function (t) {
                            return oe(e, t).length > 0
                        }
                    }),
                    header: function (e) {
                        return F.test(e.nodeName)
                    },
                    text: function (e) {
                        var t, n;
                        return "input" === e.nodeName.toLowerCase() && "text" === (t = e.type) && (null == (n = e.getAttribute("type")) || n.toLowerCase() === t)
                    },
                    radio: K("radio"),
                    checkbox: K("checkbox"),
                    file: K("file"),
                    password: K("password"),
                    image: K("image"),
                    submit: Q("submit"),
                    reset: Q("reset"),
                    button: function (e) {
                        var t = e.nodeName.toLowerCase();
                        return "input" === t && "button" === e.type || "button" === t
                    },
                    input: function (e) {
                        return j.test(e.nodeName)
                    },
                    focus: function (e) {
                        var t = e.ownerDocument;
                        return e === t.activeElement && (!t.hasFocus || t.hasFocus()) && (!!e.type || !!e.href)
                    },
                    active: function (e) {
                        return e === e.ownerDocument.activeElement
                    }
                },
                setFilters: {
                    first: function (e, t, n) {
                        return n ? e.slice(1) : [e[0]]
                    }, last: function (e, t, n) {
                        var i = e.pop();
                        return n ? e : [i]
                    }, even: function (e, t, n) {
                        for (var i = [], r = n ? 1 : 0, o = e.length; r < o; r += 2)i.push(e[r]);
                        return i
                    }, odd: function (e, t, n) {
                        for (var i = [], r = n ? 0 : 1, o = e.length; r < o; r += 2)i.push(e[r]);
                        return i
                    }, lt: function (e, t, n) {
                        return n ? e.slice(+t) : e.slice(0, +t)
                    }, gt: function (e, t, n) {
                        return n ? e.slice(0, +t + 1) : e.slice(+t + 1)
                    }, eq: function (e, t, n) {
                        var i = e.splice(+t, 1);
                        return n ? e : i
                    }
                }
            };
            ae.setFilters.nth = ae.setFilters.eq, ae.filters = ae.pseudos, ie || (ae.attrHandle = {
                href: function (e) {
                    return e.getAttribute("href", 2)
                }, type: function (e) {
                    return e.getAttribute("type")
                }
            }), te && (ae.order.push("NAME"), ae.find.NAME = function (e, t) {
                if (typeof t.getElementsByName !== v)return t.getElementsByName(e)
            }), re && (ae.order.splice(1, 0, "CLASS"), ae.find.CLASS = function (e, t, n) {
                if (typeof t.getElementsByClassName !== v && !n)return t.getElementsByClassName(e)
            });
            try {
                C.call(g.childNodes, 0)[0].nodeType
            } catch (e) {
                C = function (e) {
                    for (var t, n = []; t = this[e]; e++)n.push(t);
                    return n
                }
            }
            var se = oe.isXML = function (e) {
                var t = e && (e.ownerDocument || e).documentElement;
                return !!t && "HTML" !== t.nodeName
            }, le = oe.contains = g.compareDocumentPosition ? function (e, t) {
                return !!(16 & e.compareDocumentPosition(t))
            } : g.contains ? function (e, t) {
                var n = 9 === e.nodeType ? e.documentElement : e, i = t.parentNode;
                return e === i || !!(i && 1 === i.nodeType && n.contains && n.contains(i))
            } : function (e, t) {
                for (; t = t.parentNode;)if (t === e)return !0;
                return !1
            }, ce = oe.getText = function (e) {
                var t, n = "", i = 0, r = e.nodeType;
                if (r) {
                    if (1 === r || 9 === r || 11 === r) {
                        if ("string" == typeof e.textContent)return e.textContent;
                        for (e = e.firstChild; e; e = e.nextSibling)n += ce(e)
                    } else if (3 === r || 4 === r)return e.nodeValue
                } else for (; t = e[i]; i++)n += ce(t);
                return n
            };
            oe.attr = function (e, t) {
                var n, i = se(e);
                return i || (t = t.toLowerCase()), ae.attrHandle[t] ? ae.attrHandle[t](e) : ee || i ? e.getAttribute(t) : (n = e.getAttributeNode(t), n ? "boolean" == typeof e[t] ? e[t] ? t : null : n.specified ? n.value : null : null)
            }, oe.error = function (e) {
                throw new Error("Syntax error, unrecognized expression: " + e)
            }, [0, 0].sort(function () {
                return b = 0
            }), g.compareDocumentPosition ? f = function (e, t) {
                return e === t ? (y = !0, 0) : (e.compareDocumentPosition && t.compareDocumentPosition ? 4 & e.compareDocumentPosition(t) : e.compareDocumentPosition) ? -1 : 1
            } : (f = function (e, t) {
                if (e === t)return y = !0, 0;
                if (e.sourceIndex && t.sourceIndex)return e.sourceIndex - t.sourceIndex;
                var n, i, r = [], o = [], a = e.parentNode, s = t.parentNode, l = a;
                if (a === s)return h(e, t);
                if (!a)return -1;
                if (!s)return 1;
                for (; l;)r.unshift(l), l = l.parentNode;
                for (l = s; l;)o.unshift(l), l = l.parentNode;
                n = r.length, i = o.length;
                for (var c = 0; c < n && c < i; c++)if (r[c] !== o[c])return h(r[c], o[c]);
                return c === n ? h(e, o[c], -1) : h(r[c], t, 1)
            }, h = function (e, t, n) {
                if (e === t)return n;
                for (var i = e.nextSibling; i;) {
                    if (i === t)return -1;
                    i = i.nextSibling
                }
                return 1
            }), oe.uniqueSort = function (e) {
                var t, n = 1;
                if (f && (y = b, e.sort(f), y))for (; t = e[n]; n++)t === e[n - 1] && e.splice(n--, 1);
                return e
            };
            var de = oe.compile = function (e, t, n) {
                var i, r, a, s = Y[e];
                if (s && s.context === t)return s;
                for (r = o(e, t, n), a = 0; i = r[a]; a++)r[a] = l(i, t, n);
                return s = Y[e] = c(r), s.context = t, s.runs = s.dirruns = 0, X.push(e), X.length > ae.cacheLength && delete Y[X.shift()], s
            };
            oe.matches = function (e, t) {
                return oe(e, null, null, t)
            }, oe.matchesSelector = function (e, t) {
                return oe(t, null, null, [e]).length > 0
            };
            var ue = function (e, t, n, i, o) {
                e = e.replace(_, "$1");
                var a, s, l, c, f, h, p, m, g, v = e.match(I), y = e.match(R), b = t.nodeType;
                if (q.POS.test(e))return r(e, t, n, i, v);
                if (i)a = C.call(i, 0); else if (v && 1 === v.length) {
                    if (y.length > 1 && 9 === b && !o && (v = q.ID.exec(y[0]))) {
                        if (t = ae.find.ID(v[1], t, o)[0], !t)return n;
                        e = e.slice(y.shift().length)
                    }
                    for (m = (v = P.exec(y[0])) && !v.index && t.parentNode || t, g = y.pop(), h = g.split(":not")[0], l = 0, c = ae.order.length; l < c; l++)if (p = ae.order[l], v = q[p].exec(h)) {
                        if (a = ae.find[p]((v[1] || "").replace(V, ""), m, o), null == a)continue;
                        h === g && (e = e.slice(0, e.length - g.length) + h.replace(q[p], ""), e || x.apply(n, C.call(a, 0)));
                        break
                    }
                }
                if (e)for (s = de(e, t, o), u = s.dirruns++, null == a && (a = ae.find.TAG("*", P.test(e) && t.parentNode || t)), l = 0; f = a[l]; l++)d = s.runs++, s(f, t) && n.push(f);
                return n
            };
            m.querySelectorAll && function () {
                var e, t = ue, n = /'|\\/g, i = /\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g, r = [], o = [":active"], a = g.matchesSelector || g.mozMatchesSelector || g.webkitMatchesSelector || g.oMatchesSelector || g.msMatchesSelector;
                Z(function (e) {
                    e.innerHTML = "<select><option selected></option></select>", e.querySelectorAll("[selected]").length || r.push("\\[" + N + "*(?:checked|disabled|ismap|multiple|readonly|selected|value)"), e.querySelectorAll(":checked").length || r.push(":checked")
                }), Z(function (e) {
                    e.innerHTML = "<p test=''></p>", e.querySelectorAll("[test^='']").length && r.push("[*^$]=" + N + "*(?:\"\"|'')"), e.innerHTML = "<input type='hidden'>", e.querySelectorAll(":enabled").length || r.push(":enabled", ":disabled")
                }), r = r.length && new RegExp(r.join("|")), ue = function (e, i, o, a, s) {
                    if (!(a || s || r && r.test(e)))if (9 === i.nodeType)try {
                        return x.apply(o, C.call(i.querySelectorAll(e), 0)), o
                    } catch (e) {
                    } else if (1 === i.nodeType && "object" !== i.nodeName.toLowerCase()) {
                        var l = i.getAttribute("id"), c = l || $, d = P.test(e) && i.parentNode || i;
                        l ? c = c.replace(n, "\\$&") : i.setAttribute("id", c);
                        try {
                            return x.apply(o, C.call(d.querySelectorAll(e.replace(I, "[id='" + c + "'] $&")), 0)), o
                        } catch (e) {
                        } finally {
                            l || i.removeAttribute("id")
                        }
                    }
                    return t(e, i, o, a, s)
                }, a && (Z(function (t) {
                    e = a.call(t, "div");
                    try {
                        a.call(t, "[test!='']:sizzle"), o.push(ae.match.PSEUDO)
                    } catch (e) {
                    }
                }), o = new RegExp(o.join("|")), oe.matchesSelector = function (t, n) {
                    if (n = n.replace(i, "='$1']"), !(se(t) || o.test(n) || r && r.test(n)))try {
                        var s = a.call(t, n);
                        if (s || e || t.document && 11 !== t.document.nodeType)return s
                    } catch (e) {
                    }
                    return oe(n, null, null, [t]).length > 0
                })
            }(), oe.attr = J.attr, J.find = oe, J.expr = oe.selectors, J.expr[":"] = J.expr.pseudos, J.unique = oe.uniqueSort, J.text = oe.getText, J.isXMLDoc = oe.isXML, J.contains = oe.contains
        }(e);
        var Me = /Until$/, Ie = /^(?:parents|prev(?:Until|All))/, Le = /^.[^:#\[\.,]*$/, Re = J.expr.match.needsContext, Oe = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };
        J.fn.extend({
            find: function (e) {
                var t, n, i, r, o, a, s = this;
                if ("string" != typeof e)return J(e).filter(function () {
                    for (t = 0, n = s.length; t < n; t++)if (J.contains(s[t], this))return !0
                });
                for (a = this.pushStack("", "find", e), t = 0, n = this.length; t < n; t++)if (i = a.length, J.find(e, this[t], a), t > 0)for (r = i; r < a.length; r++)for (o = 0; o < i; o++)if (a[o] === a[r]) {
                    a.splice(r--, 1);
                    break
                }
                return a
            }, has: function (e) {
                var t, n = J(e, this), i = n.length;
                return this.filter(function () {
                    for (t = 0; t < i; t++)if (J.contains(this, n[t]))return !0
                })
            }, not: function (e) {
                return this.pushStack(c(this, e, !1), "not", e)
            }, filter: function (e) {
                return this.pushStack(c(this, e, !0), "filter", e)
            }, is: function (e) {
                return !!e && ("string" == typeof e ? Re.test(e) ? J(e, this.context).index(this[0]) >= 0 : J.filter(e, this).length > 0 : this.filter(e).length > 0)
            }, closest: function (e, t) {
                for (var n, i = 0, r = this.length, o = [], a = Re.test(e) || "string" != typeof e ? J(e, t || this.context) : 0; i < r; i++)for (n = this[i]; n && n.ownerDocument && n !== t && 11 !== n.nodeType;) {
                    if (a ? a.index(n) > -1 : J.find.matchesSelector(n, e)) {
                        o.push(n);
                        break
                    }
                    n = n.parentNode
                }
                return o = o.length > 1 ? J.unique(o) : o, this.pushStack(o, "closest", e)
            }, index: function (e) {
                return e ? "string" == typeof e ? J.inArray(this[0], J(e)) : J.inArray(e.jquery ? e[0] : e, this) : this[0] && this[0].parentNode ? this.prevAll().length : -1
            }, add: function (e, t) {
                var n = "string" == typeof e ? J(e, t) : J.makeArray(e && e.nodeType ? [e] : e), i = J.merge(this.get(), n);
                return this.pushStack(s(n[0]) || s(i[0]) ? i : J.unique(i))
            }, addBack: function (e) {
                return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
            }
        }), J.fn.andSelf = J.fn.addBack, J.each({
            parent: function (e) {
                var t = e.parentNode;
                return t && 11 !== t.nodeType ? t : null
            }, parents: function (e) {
                return J.dir(e, "parentNode")
            }, parentsUntil: function (e, t, n) {
                return J.dir(e, "parentNode", n)
            }, next: function (e) {
                return l(e, "nextSibling")
            }, prev: function (e) {
                return l(e, "previousSibling")
            }, nextAll: function (e) {
                return J.dir(e, "nextSibling")
            }, prevAll: function (e) {
                return J.dir(e, "previousSibling")
            }, nextUntil: function (e, t, n) {
                return J.dir(e, "nextSibling", n)
            }, prevUntil: function (e, t, n) {
                return J.dir(e, "previousSibling", n)
            }, siblings: function (e) {
                return J.sibling((e.parentNode || {}).firstChild, e)
            }, children: function (e) {
                return J.sibling(e.firstChild)
            }, contents: function (e) {
                return J.nodeName(e, "iframe") ? e.contentDocument || e.contentWindow.document : J.merge([], e.childNodes)
            }
        }, function (e, t) {
            J.fn[e] = function (n, i) {
                var r = J.map(this, t, n);
                return Me.test(e) || (i = n), i && "string" == typeof i && (r = J.filter(i, r)), r = this.length > 1 && !Oe[e] ? J.unique(r) : r, this.length > 1 && Ie.test(e) && (r = r.reverse()), this.pushStack(r, e, Y.call(arguments).join(","))
            }
        }), J.extend({
            filter: function (e, t, n) {
                return n && (e = ":not(" + e + ")"), 1 === t.length ? J.find.matchesSelector(t[0], e) ? [t[0]] : [] : J.find.matches(e, t)
            }, dir: function (e, n, i) {
                for (var r = [], o = e[n]; o && 9 !== o.nodeType && (i === t || 1 !== o.nodeType || !J(o).is(i));)1 === o.nodeType && r.push(o), o = o[n];
                return r
            }, sibling: function (e, t) {
                for (var n = []; e; e = e.nextSibling)1 === e.nodeType && e !== t && n.push(e);
                return n
            }
        });
        var Pe = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video", He = / jQuery\d+="(?:null|\d+)"/g, Fe = /^\s+/, je = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, Ve = /<([\w:]+)/, qe = /<tbody/i, We = /<|&#?\w+;/, ze = /<(?:script|style|link)/i, Ye = /<(?:script|object|embed|option|style)/i, Xe = new RegExp("<(?:" + Pe + ")[\\s/>]", "i"), Ge = /^(?:checkbox|radio)$/, Ke = /checked\s*(?:[^=]|=\s*.checked.)/i, Qe = /\/(java|ecma)script/i, Je = /^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g, Ze = {
            option: [1, "<select multiple='multiple'>", "</select>"],
            legend: [1, "<fieldset>", "</fieldset>"],
            thead: [1, "<table>", "</table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
            area: [1, "<map>", "</map>"],
            _default: [0, "", ""]
        }, et = d(F), tt = et.appendChild(F.createElement("div"));
        Ze.optgroup = Ze.option, Ze.tbody = Ze.tfoot = Ze.colgroup = Ze.caption = Ze.thead, Ze.th = Ze.td, J.support.htmlSerialize || (Ze._default = [1, "X<div>", "</div>"]), J.fn.extend({
            text: function (e) {
                return J.access(this, function (e) {
                    return e === t ? J.text(this) : this.empty().append((this[0] && this[0].ownerDocument || F).createTextNode(e))
                }, null, e, arguments.length)
            }, wrapAll: function (e) {
                if (J.isFunction(e))return this.each(function (t) {
                    J(this).wrapAll(e.call(this, t))
                });
                if (this[0]) {
                    var t = J(e, this[0].ownerDocument).eq(0).clone(!0);
                    this[0].parentNode && t.insertBefore(this[0]), t.map(function () {
                        for (var e = this; e.firstChild && 1 === e.firstChild.nodeType;)e = e.firstChild;
                        return e
                    }).append(this)
                }
                return this
            }, wrapInner: function (e) {
                return J.isFunction(e) ? this.each(function (t) {
                    J(this).wrapInner(e.call(this, t))
                }) : this.each(function () {
                    var t = J(this), n = t.contents();
                    n.length ? n.wrapAll(e) : t.append(e)
                })
            }, wrap: function (e) {
                var t = J.isFunction(e);
                return this.each(function (n) {
                    J(this).wrapAll(t ? e.call(this, n) : e)
                })
            }, unwrap: function () {
                return this.parent().each(function () {
                    J.nodeName(this, "body") || J(this).replaceWith(this.childNodes)
                }).end()
            }, append: function () {
                return this.domManip(arguments, !0, function (e) {
                    (1 === this.nodeType || 11 === this.nodeType) && this.appendChild(e)
                })
            }, prepend: function () {
                return this.domManip(arguments, !0, function (e) {
                    (1 === this.nodeType || 11 === this.nodeType) && this.insertBefore(e, this.firstChild)
                })
            }, before: function () {
                if (!s(this[0]))return this.domManip(arguments, !1, function (e) {
                    this.parentNode.insertBefore(e, this)
                });
                if (arguments.length) {
                    var e = J.clean(arguments);
                    return this.pushStack(J.merge(e, this), "before", this.selector)
                }
            }, after: function () {
                if (!s(this[0]))return this.domManip(arguments, !1, function (e) {
                    this.parentNode.insertBefore(e, this.nextSibling)
                });
                if (arguments.length) {
                    var e = J.clean(arguments);
                    return this.pushStack(J.merge(this, e), "after", this.selector)
                }
            }, remove: function (e, t) {
                for (var n, i = 0; null != (n = this[i]); i++)e && !J.filter(e, [n]).length || (!t && 1 === n.nodeType && (J.cleanData(n.getElementsByTagName("*")), J.cleanData([n])), n.parentNode && n.parentNode.removeChild(n));
                return this
            }, empty: function () {
                for (var e, t = 0; null != (e = this[t]); t++)for (1 === e.nodeType && J.cleanData(e.getElementsByTagName("*")); e.firstChild;)e.removeChild(e.firstChild);
                return this
            }, clone: function (e, t) {
                return e = null != e && e, t = null == t ? e : t, this.map(function () {
                    return J.clone(this, e, t)
                })
            }, html: function (e) {
                return J.access(this, function (e) {
                    var n = this[0] || {}, i = 0, r = this.length;
                    if (e === t)return 1 === n.nodeType ? n.innerHTML.replace(He, "") : t;
                    if ("string" == typeof e && !ze.test(e) && (J.support.htmlSerialize || !Xe.test(e)) && (J.support.leadingWhitespace || !Fe.test(e)) && !Ze[(Ve.exec(e) || ["", ""])[1].toLowerCase()]) {
                        e = e.replace(je, "<$1></$2>");
                        try {
                            for (; i < r; i++)n = this[i] || {}, 1 === n.nodeType && (J.cleanData(n.getElementsByTagName("*")), n.innerHTML = e);
                            n = 0
                        } catch (e) {
                        }
                    }
                    n && this.empty().append(e)
                }, null, e, arguments.length)
            }, replaceWith: function (e) {
                return s(this[0]) ? this.length ? this.pushStack(J(J.isFunction(e) ? e() : e), "replaceWith", e) : this : J.isFunction(e) ? this.each(function (t) {
                    var n = J(this), i = n.html();
                    n.replaceWith(e.call(this, t, i))
                }) : ("string" != typeof e && (e = J(e).detach()), this.each(function () {
                    var t = this.nextSibling, n = this.parentNode;
                    J(this).remove(), t ? J(t).before(e) : J(n).append(e)
                }))
            }, detach: function (e) {
                return this.remove(e, !0)
            }, domManip: function (e, n, i) {
                e = [].concat.apply([], e);
                var r, o, a, s, l = 0, c = e[0], d = [], f = this.length;
                if (!J.support.checkClone && f > 1 && "string" == typeof c && Ke.test(c))return this.each(function () {
                    J(this).domManip(e, n, i)
                });
                if (J.isFunction(c))return this.each(function (r) {
                    var o = J(this);
                    e[0] = c.call(this, r, n ? o.html() : t), o.domManip(e, n, i)
                });
                if (this[0]) {
                    if (r = J.buildFragment(e, this, d), a = r.fragment, o = a.firstChild, 1 === a.childNodes.length && (a = o), o)for (n = n && J.nodeName(o, "tr"), s = r.cacheable || f - 1; l < f; l++)i.call(n && J.nodeName(this[l], "table") ? u(this[l], "tbody") : this[l], l === s ? a : J.clone(a, !0, !0));
                    a = o = null, d.length && J.each(d, function (e, t) {
                        t.src ? J.ajax ? J.ajax({
                            url: t.src,
                            type: "GET",
                            dataType: "script",
                            async: !1,
                            global: !1,
                            throws: !0
                        }) : J.error("no ajax") : J.globalEval((t.text || t.textContent || t.innerHTML || "").replace(Je, "")), t.parentNode && t.parentNode.removeChild(t)
                    })
                }
                return this
            }
        }), J.buildFragment = function (e, n, i) {
            var r, o, a, s = e[0];
            return n = n || F, n = (n[0] || n).ownerDocument || n[0] || n, "undefined" == typeof n.createDocumentFragment && (n = F), 1 === e.length && "string" == typeof s && s.length < 512 && n === F && "<" === s.charAt(0) && !Ye.test(s) && (J.support.checkClone || !Ke.test(s)) && (J.support.html5Clone || !Xe.test(s)) && (o = !0, r = J.fragments[s], a = r !== t), r || (r = n.createDocumentFragment(), J.clean(e, n, r, i), o && (J.fragments[s] = a && r)), {
                fragment: r,
                cacheable: o
            }
        }, J.fragments = {}, J.each({
            appendTo: "append",
            prependTo: "prepend",
            insertBefore: "before",
            insertAfter: "after",
            replaceAll: "replaceWith"
        }, function (e, t) {
            J.fn[e] = function (n) {
                var i, r = 0, o = [], a = J(n), s = a.length, l = 1 === this.length && this[0].parentNode;
                if ((null == l || l && 11 === l.nodeType && 1 === l.childNodes.length) && 1 === s)return a[t](this[0]), this;
                for (; r < s; r++)i = (r > 0 ? this.clone(!0) : this).get(), J(a[r])[t](i), o = o.concat(i);
                return this.pushStack(o, e, a.selector)
            }
        }), J.extend({
            clone: function (e, t, n) {
                var i, r, o, a;
                if (J.support.html5Clone || J.isXMLDoc(e) || !Xe.test("<" + e.nodeName + ">") ? a = e.cloneNode(!0) : (tt.innerHTML = e.outerHTML, tt.removeChild(a = tt.firstChild)), !(J.support.noCloneEvent && J.support.noCloneChecked || 1 !== e.nodeType && 11 !== e.nodeType || J.isXMLDoc(e)))for (h(e, a), i = p(e), r = p(a), o = 0; i[o]; ++o)r[o] && h(i[o], r[o]);
                if (t && (f(e, a), n))for (i = p(e), r = p(a), o = 0; i[o]; ++o)f(i[o], r[o]);
                return i = r = null, a
            }, clean: function (e, t, n, i) {
                var r, o, a, s, l, c, u, f, h, p, g, v = 0, y = [];
                for (t && "undefined" != typeof t.createDocumentFragment || (t = F), o = t === F && et; null != (a = e[v]); v++)if ("number" == typeof a && (a += ""), a) {
                    if ("string" == typeof a)if (We.test(a)) {
                        for (o = o || d(t), u = u || o.appendChild(t.createElement("div")), a = a.replace(je, "<$1></$2>"), s = (Ve.exec(a) || ["", ""])[1].toLowerCase(), l = Ze[s] || Ze._default, c = l[0], u.innerHTML = l[1] + a + l[2]; c--;)u = u.lastChild;
                        if (!J.support.tbody)for (f = qe.test(a), h = "table" !== s || f ? "<table>" !== l[1] || f ? [] : u.childNodes : u.firstChild && u.firstChild.childNodes, r = h.length - 1; r >= 0; --r)J.nodeName(h[r], "tbody") && !h[r].childNodes.length && h[r].parentNode.removeChild(h[r]);
                        !J.support.leadingWhitespace && Fe.test(a) && u.insertBefore(t.createTextNode(Fe.exec(a)[0]), u.firstChild), a = u.childNodes, u = o.lastChild
                    } else a = t.createTextNode(a);
                    a.nodeType ? y.push(a) : y = J.merge(y, a)
                }
                if (u && (o.removeChild(u), a = u = o = null), !J.support.appendChecked)for (v = 0; null != (a = y[v]); v++)J.nodeName(a, "input") ? m(a) : "undefined" != typeof a.getElementsByTagName && J.grep(a.getElementsByTagName("input"), m);
                if (n)for (p = function (e) {
                    if (!e.type || Qe.test(e.type))return i ? i.push(e.parentNode ? e.parentNode.removeChild(e) : e) : n.appendChild(e)
                }, v = 0; null != (a = y[v]); v++)J.nodeName(a, "script") && p(a) || (n.appendChild(a), "undefined" != typeof a.getElementsByTagName && (g = J.grep(J.merge([], a.getElementsByTagName("script")), p), y.splice.apply(y, [v + 1, 0].concat(g)), v += g.length));
                return y
            }, cleanData: function (e, t) {
                for (var n, i, r, o, a = 0, s = J.expando, l = J.cache, c = J.support.deleteExpando, d = J.event.special; null != (r = e[a]); a++)if ((t || J.acceptData(r)) && (i = r[s], n = i && l[i])) {
                    if (n.events)for (o in n.events)d[o] ? J.event.remove(r, o) : J.removeEvent(r, o, n.handle);
                    l[i] && (delete l[i], c ? delete r[s] : r.removeAttribute ? r.removeAttribute(s) : r[s] = null, J.deletedIds.push(i))
                }
            }
        }), function () {
            var e, t;
            J.uaMatch = function (e) {
                e = e.toLowerCase();
                var t = /(chrome)[ \/]([\w.]+)/.exec(e) || /(webkit)[ \/]([\w.]+)/.exec(e) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e) || /(msie) ([\w.]+)/.exec(e) || e.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e) || [];
                return {browser: t[1] || "", version: t[2] || "0"}
            }, e = J.uaMatch(V.userAgent), t = {}, e.browser && (t[e.browser] = !0, t.version = e.version), t.webkit && (t.safari = !0), J.browser = t, J.sub = function () {
                function e(t, n) {
                    return new e.fn.init(t, n)
                }

                J.extend(!0, e, this), e.superclass = this, e.fn = e.prototype = this(), e.fn.constructor = e, e.sub = this.sub, e.fn.init = function n(n, i) {
                    return i && i instanceof J && !(i instanceof e) && (i = e(i)), J.fn.init.call(this, n, i, t)
                }, e.fn.init.prototype = e.fn;
                var t = e(F);
                return e
            }
        }();
        var nt, it, rt, ot = /alpha\([^)]*\)/i, at = /opacity=([^)]*)/, st = /^(top|right|bottom|left)$/, lt = /^margin/, ct = new RegExp("^(" + Z + ")(.*)$", "i"), dt = new RegExp("^(" + Z + ")(?!px)[a-z%]+$", "i"), ut = new RegExp("^([-+])=(" + Z + ")", "i"), ft = {}, ht = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        }, pt = {
            letterSpacing: 0,
            fontWeight: 400,
            lineHeight: 1
        }, mt = ["Top", "Right", "Bottom", "Left"], gt = ["Webkit", "O", "Moz", "ms"], vt = J.fn.toggle;
        J.fn.extend({
            css: function (e, n) {
                return J.access(this, function (e, n, i) {
                    return i !== t ? J.style(e, n, i) : J.css(e, n)
                }, e, n, arguments.length > 1)
            }, show: function () {
                return y(this, !0)
            }, hide: function () {
                return y(this)
            }, toggle: function (e, t) {
                var n = "boolean" == typeof e;
                return J.isFunction(e) && J.isFunction(t) ? vt.apply(this, arguments) : this.each(function () {
                    (n ? e : v(this)) ? J(this).show() : J(this).hide()
                })
            }
        }), J.extend({
            cssHooks: {
                opacity: {
                    get: function (e, t) {
                        if (t) {
                            var n = nt(e, "opacity");
                            return "" === n ? "1" : n
                        }
                    }
                }
            },
            cssNumber: {
                fillOpacity: !0,
                fontWeight: !0,
                lineHeight: !0,
                opacity: !0,
                orphans: !0,
                widows: !0,
                zIndex: !0,
                zoom: !0
            },
            cssProps: {float: J.support.cssFloat ? "cssFloat" : "styleFloat"},
            style: function (e, n, i, r) {
                if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
                    var o, a, s, l = J.camelCase(n), c = e.style;
                    if (n = J.cssProps[l] || (J.cssProps[l] = g(c, l)), s = J.cssHooks[n] || J.cssHooks[l], i === t)return s && "get" in s && (o = s.get(e, !1, r)) !== t ? o : c[n];
                    if (a = typeof i, "string" === a && (o = ut.exec(i)) && (i = (o[1] + 1) * o[2] + parseFloat(J.css(e, n)), a = "number"), !(null == i || "number" === a && isNaN(i) || ("number" === a && !J.cssNumber[l] && (i += "px"), s && "set" in s && (i = s.set(e, i, r)) === t)))try {
                        c[n] = i
                    } catch (e) {
                    }
                }
            },
            css: function (e, n, i, r) {
                var o, a, s, l = J.camelCase(n);
                return n = J.cssProps[l] || (J.cssProps[l] = g(e.style, l)), s = J.cssHooks[n] || J.cssHooks[l], s && "get" in s && (o = s.get(e, !0, r)), o === t && (o = nt(e, n)), "normal" === o && n in pt && (o = pt[n]), i || r !== t ? (a = parseFloat(o), i || J.isNumeric(a) ? a || 0 : o) : o
            },
            swap: function (e, t, n) {
                var i, r, o = {};
                for (r in t)o[r] = e.style[r], e.style[r] = t[r];
                i = n.call(e);
                for (r in t)e.style[r] = o[r];
                return i
            }
        }), e.getComputedStyle ? nt = function (e, t) {
            var n, i, r, o, a = getComputedStyle(e, null), s = e.style;
            return a && (n = a[t], "" === n && !J.contains(e.ownerDocument.documentElement, e) && (n = J.style(e, t)), dt.test(n) && lt.test(t) && (i = s.width, r = s.minWidth, o = s.maxWidth, s.minWidth = s.maxWidth = s.width = n, n = a.width, s.width = i, s.minWidth = r, s.maxWidth = o)), n
        } : F.documentElement.currentStyle && (nt = function (e, t) {
            var n, i, r = e.currentStyle && e.currentStyle[t], o = e.style;
            return null == r && o && o[t] && (r = o[t]), dt.test(r) && !st.test(t) && (n = o.left, i = e.runtimeStyle && e.runtimeStyle.left, i && (e.runtimeStyle.left = e.currentStyle.left), o.left = "fontSize" === t ? "1em" : r, r = o.pixelLeft + "px", o.left = n, i && (e.runtimeStyle.left = i)), "" === r ? "auto" : r
        }), J.each(["height", "width"], function (e, t) {
            J.cssHooks[t] = {
                get: function (e, n, i) {
                    if (n)return 0 !== e.offsetWidth || "none" !== nt(e, "display") ? C(e, t, i) : J.swap(e, ht, function () {
                        return C(e, t, i)
                    })
                }, set: function (e, n, i) {
                    return b(e, n, i ? w(e, t, i, J.support.boxSizing && "border-box" === J.css(e, "boxSizing")) : 0)
                }
            }
        }), J.support.opacity || (J.cssHooks.opacity = {
            get: function (e, t) {
                return at.test((t && e.currentStyle ? e.currentStyle.filter : e.style.filter) || "") ? .01 * parseFloat(RegExp.$1) + "" : t ? "1" : ""
            }, set: function (e, t) {
                var n = e.style, i = e.currentStyle, r = J.isNumeric(t) ? "alpha(opacity=" + 100 * t + ")" : "", o = i && i.filter || n.filter || "";
                n.zoom = 1, t >= 1 && "" === J.trim(o.replace(ot, "")) && n.removeAttribute && (n.removeAttribute("filter"), i && !i.filter) || (n.filter = ot.test(o) ? o.replace(ot, r) : o + " " + r)
            }
        }), J(function () {
            J.support.reliableMarginRight || (J.cssHooks.marginRight = {
                get: function (e, t) {
                    return J.swap(e, {display: "inline-block"}, function () {
                        if (t)return nt(e, "marginRight")
                    })
                }
            }), !J.support.pixelPosition && J.fn.position && J.each(["top", "left"], function (e, t) {
                J.cssHooks[t] = {
                    get: function (e, n) {
                        if (n) {
                            var i = nt(e, t);
                            return dt.test(i) ? J(e).position()[t] + "px" : i
                        }
                    }
                }
            })
        }), J.expr && J.expr.filters && (J.expr.filters.hidden = function (e) {
            return 0 === e.offsetWidth && 0 === e.offsetHeight || !J.support.reliableHiddenOffsets && "none" === (e.style && e.style.display || nt(e, "display"))
        }, J.expr.filters.visible = function (e) {
            return !J.expr.filters.hidden(e)
        }), J.each({margin: "", padding: "", border: "Width"}, function (e, t) {
            J.cssHooks[e + t] = {
                expand: function (n) {
                    var i, r = "string" == typeof n ? n.split(" ") : [n], o = {};
                    for (i = 0; i < 4; i++)o[e + mt[i] + t] = r[i] || r[i - 2] || r[0];
                    return o
                }
            }, lt.test(e) || (J.cssHooks[e + t].set = b)
        });
        var yt = /%20/g, bt = /\[\]$/, wt = /\r?\n/g, Ct = /^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i, xt = /^(?:select|textarea)/i;
        J.fn.extend({
            serialize: function () {
                return J.param(this.serializeArray())
            }, serializeArray: function () {
                return this.map(function () {
                    return this.elements ? J.makeArray(this.elements) : this
                }).filter(function () {
                    return this.name && !this.disabled && (this.checked || xt.test(this.nodeName) || Ct.test(this.type))
                }).map(function (e, t) {
                    var n = J(this).val();
                    return null == n ? null : J.isArray(n) ? J.map(n, function (e, n) {
                        return {name: t.name, value: e.replace(wt, "\r\n")}
                    }) : {name: t.name, value: n.replace(wt, "\r\n")}
                }).get()
            }
        }), J.param = function (e, n) {
            var i, r = [], o = function (e, t) {
                t = J.isFunction(t) ? t() : null == t ? "" : t, r[r.length] = encodeURIComponent(e) + "=" + encodeURIComponent(t)
            };
            if (n === t && (n = J.ajaxSettings && J.ajaxSettings.traditional), J.isArray(e) || e.jquery && !J.isPlainObject(e))J.each(e, function () {
                o(this.name, this.value)
            }); else for (i in e)$(i, e[i], n, o);
            return r.join("&").replace(yt, "+")
        };
        var $t, Nt, Tt = /#.*$/, kt = /^(.*?):[ \t]*([^\r\n]*)\r?$/gm, Et = /^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/, St = /^(?:GET|HEAD)$/, Ut = /^\/\//, Dt = /\?/, At = /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, Bt = /([?&])_=[^&]*/, _t = /^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/, Mt = J.fn.load, It = {}, Lt = {}, Rt = ["*/"] + ["*"];
        try {
            $t = j.href
        } catch (e) {
            $t = F.createElement("a"), $t.href = "", $t = $t.href
        }
        Nt = _t.exec($t.toLowerCase()) || [], J.fn.load = function (e, n, i) {
            if ("string" != typeof e && Mt)return Mt.apply(this, arguments);
            if (!this.length)return this;
            var r, o, a, s = this, l = e.indexOf(" ");
            return l >= 0 && (r = e.slice(l, e.length), e = e.slice(0, l)), J.isFunction(n) ? (i = n, n = t) : "object" == typeof n && (o = "POST"), J.ajax({
                url: e,
                type: o,
                dataType: "html",
                data: n,
                complete: function (e, t) {
                    i && s.each(i, a || [e.responseText, t, e])
                }
            }).done(function (e) {
                a = arguments, s.html(r ? J("<div>").append(e.replace(At, "")).find(r) : e)
            }), this
        }, J.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "), function (e, t) {
            J.fn[t] = function (e) {
                return this.on(t, e)
            }
        }), J.each(["get", "post"], function (e, n) {
            J[n] = function (e, i, r, o) {
                return J.isFunction(i) && (o = o || r, r = i, i = t), J.ajax({
                    type: n,
                    url: e,
                    data: i,
                    success: r,
                    dataType: o
                })
            }
        }), J.extend({
            getScript: function (e, n) {
                return J.get(e, t, n, "script")
            },
            getJSON: function (e, t, n) {
                return J.get(e, t, n, "json")
            },
            ajaxSetup: function (e, t) {
                return t ? k(e, J.ajaxSettings) : (t = e, e = J.ajaxSettings), k(e, t), e
            },
            ajaxSettings: {
                url: $t,
                isLocal: Et.test(Nt[1]),
                global: !0,
                type: "GET",
                contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                processData: !0,
                async: !0,
                accepts: {
                    xml: "application/xml, text/xml",
                    html: "text/html",
                    text: "text/plain",
                    json: "application/json, text/javascript",
                    "*": Rt
                },
                contents: {xml: /xml/, html: /html/, json: /json/},
                responseFields: {xml: "responseXML", text: "responseText"},
                converters: {"* text": e.String, "text html": !0, "text json": J.parseJSON, "text xml": J.parseXML},
                flatOptions: {context: !0, url: !0}
            },
            ajaxPrefilter: N(It),
            ajaxTransport: N(Lt),
            ajax: function (e, n) {
                function i(e, n, i, a) {
                    var c, u, y, b, C, $ = n;
                    2 !== w && (w = 2, l && clearTimeout(l), s = t, o = a || "", x.readyState = e > 0 ? 4 : 0, i && (b = E(f, x, i)), e >= 200 && e < 300 || 304 === e ? (f.ifModified && (C = x.getResponseHeader("Last-Modified"), C && (J.lastModified[r] = C), C = x.getResponseHeader("Etag"), C && (J.etag[r] = C)), 304 === e ? ($ = "notmodified", c = !0) : (c = S(f, b), $ = c.state, u = c.data, y = c.error, c = !y)) : (y = $, $ && !e || ($ = "error", e < 0 && (e = 0))), x.status = e, x.statusText = "" + (n || $), c ? m.resolveWith(h, [u, $, x]) : m.rejectWith(h, [x, $, y]), x.statusCode(v), v = t, d && p.trigger("ajax" + (c ? "Success" : "Error"), [x, f, c ? u : y]), g.fireWith(h, [x, $]), d && (p.trigger("ajaxComplete", [x, f]), --J.active || J.event.trigger("ajaxStop")))
                }

                "object" == typeof e && (n = e, e = t), n = n || {};
                var r, o, a, s, l, c, d, u, f = J.ajaxSetup({}, n), h = f.context || f, p = h !== f && (h.nodeType || h instanceof J) ? J(h) : J.event, m = J.Deferred(), g = J.Callbacks("once memory"), v = f.statusCode || {}, y = {}, b = {}, w = 0, C = "canceled", x = {
                    readyState: 0,
                    setRequestHeader: function (e, t) {
                        if (!w) {
                            var n = e.toLowerCase();
                            e = b[n] = b[n] || e, y[e] = t
                        }
                        return this
                    },
                    getAllResponseHeaders: function () {
                        return 2 === w ? o : null
                    },
                    getResponseHeader: function (e) {
                        var n;
                        if (2 === w) {
                            if (!a)for (a = {}; n = kt.exec(o);)a[n[1].toLowerCase()] = n[2];
                            n = a[e.toLowerCase()]
                        }
                        return n === t ? null : n
                    },
                    overrideMimeType: function (e) {
                        return w || (f.mimeType = e), this
                    },
                    abort: function (e) {
                        return e = e || C, s && s.abort(e), i(0, e), this
                    }
                };
                if (m.promise(x), x.success = x.done, x.error = x.fail, x.complete = g.add, x.statusCode = function (e) {
                        if (e) {
                            var t;
                            if (w < 2)for (t in e)v[t] = [v[t], e[t]]; else t = e[x.status], x.always(t)
                        }
                        return this
                    }, f.url = ((e || f.url) + "").replace(Tt, "").replace(Ut, Nt[1] + "//"), f.dataTypes = J.trim(f.dataType || "*").toLowerCase().split(te), null == f.crossDomain && (c = _t.exec(f.url.toLowerCase()), f.crossDomain = !(!c || c[1] == Nt[1] && c[2] == Nt[2] && (c[3] || ("http:" === c[1] ? 80 : 443)) == (Nt[3] || ("http:" === Nt[1] ? 80 : 443)))), f.data && f.processData && "string" != typeof f.data && (f.data = J.param(f.data, f.traditional)), T(It, f, n, x), 2 === w)return x;
                if (d = f.global, f.type = f.type.toUpperCase(), f.hasContent = !St.test(f.type), d && 0 === J.active++ && J.event.trigger("ajaxStart"), !f.hasContent && (f.data && (f.url += (Dt.test(f.url) ? "&" : "?") + f.data, delete f.data), r = f.url, f.cache === !1)) {
                    var $ = J.now(), N = f.url.replace(Bt, "$1_=" + $);
                    f.url = N + (N === f.url ? (Dt.test(f.url) ? "&" : "?") + "_=" + $ : "")
                }
                (f.data && f.hasContent && f.contentType !== !1 || n.contentType) && x.setRequestHeader("Content-Type", f.contentType), f.ifModified && (r = r || f.url, J.lastModified[r] && x.setRequestHeader("If-Modified-Since", J.lastModified[r]), J.etag[r] && x.setRequestHeader("If-None-Match", J.etag[r])), x.setRequestHeader("Accept", f.dataTypes[0] && f.accepts[f.dataTypes[0]] ? f.accepts[f.dataTypes[0]] + ("*" !== f.dataTypes[0] ? ", " + Rt + "; q=0.01" : "") : f.accepts["*"]);
                for (u in f.headers)x.setRequestHeader(u, f.headers[u]);
                if (!f.beforeSend || f.beforeSend.call(h, x, f) !== !1 && 2 !== w) {
                    C = "abort";
                    for (u in{success: 1, error: 1, complete: 1})x[u](f[u]);
                    if (s = T(Lt, f, n, x)) {
                        x.readyState = 1, d && p.trigger("ajaxSend", [x, f]), f.async && f.timeout > 0 && (l = setTimeout(function () {
                            x.abort("timeout")
                        }, f.timeout));
                        try {
                            w = 1, s.send(y, i)
                        } catch (e) {
                            if (!(w < 2))throw e;
                            i(-1, e)
                        }
                    } else i(-1, "No Transport");
                    return x
                }
                return x.abort()
            },
            active: 0,
            lastModified: {},
            etag: {}
        });
        var Ot = [], Pt = /\?/, Ht = /(=)\?(?=&|$)|\?\?/, Ft = J.now();
        J.ajaxSetup({
            jsonp: "callback", jsonpCallback: function () {
                var e = Ot.pop() || J.expando + "_" + Ft++;
                return this[e] = !0, e
            }
        }), J.ajaxPrefilter("json jsonp", function (n, i, r) {
            var o, a, s, l = n.data, c = n.url, d = n.jsonp !== !1, u = d && Ht.test(c), f = d && !u && "string" == typeof l && !(n.contentType || "").indexOf("application/x-www-form-urlencoded") && Ht.test(l);
            if ("jsonp" === n.dataTypes[0] || u || f)return o = n.jsonpCallback = J.isFunction(n.jsonpCallback) ? n.jsonpCallback() : n.jsonpCallback, a = e[o], u ? n.url = c.replace(Ht, "$1" + o) : f ? n.data = l.replace(Ht, "$1" + o) : d && (n.url += (Pt.test(c) ? "&" : "?") + n.jsonp + "=" + o), n.converters["script json"] = function () {
                return s || J.error(o + " was not called"), s[0]
            }, n.dataTypes[0] = "json", e[o] = function () {
                s = arguments
            }, r.always(function () {
                e[o] = a, n[o] && (n.jsonpCallback = i.jsonpCallback, Ot.push(o)), s && J.isFunction(a) && a(s[0]), s = a = t
            }), "script"
        }), J.ajaxSetup({
            accepts: {script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
            contents: {script: /javascript|ecmascript/},
            converters: {
                "text script": function (e) {
                    return J.globalEval(e), e
                }
            }
        }), J.ajaxPrefilter("script", function (e) {
            e.cache === t && (e.cache = !1), e.crossDomain && (e.type = "GET", e.global = !1)
        }), J.ajaxTransport("script", function (e) {
            if (e.crossDomain) {
                var n, i = F.head || F.getElementsByTagName("head")[0] || F.documentElement;
                return {
                    send: function (r, o) {
                        n = F.createElement("script"), n.async = "async", e.scriptCharset && (n.charset = e.scriptCharset), n.src = e.url, n.onload = n.onreadystatechange = function (e, r) {
                            (r || !n.readyState || /loaded|complete/.test(n.readyState)) && (n.onload = n.onreadystatechange = null, i && n.parentNode && i.removeChild(n), n = t, r || o(200, "success"))
                        }, i.insertBefore(n, i.firstChild)
                    }, abort: function () {
                        n && n.onload(0, 1)
                    }
                }
            }
        });
        var jt, Vt = !!e.ActiveXObject && function () {
                for (var e in jt)jt[e](0, 1)
            }, qt = 0;
        J.ajaxSettings.xhr = e.ActiveXObject ? function () {
            return !this.isLocal && U() || D()
        } : U, function (e) {
            J.extend(J.support, {ajax: !!e, cors: !!e && "withCredentials" in e})
        }(J.ajaxSettings.xhr()), J.support.ajax && J.ajaxTransport(function (n) {
            if (!n.crossDomain || J.support.cors) {
                var i;
                return {
                    send: function (r, o) {
                        var a, s, l = n.xhr();
                        if (n.username ? l.open(n.type, n.url, n.async, n.username, n.password) : l.open(n.type, n.url, n.async), n.xhrFields)for (s in n.xhrFields)l[s] = n.xhrFields[s];
                        n.mimeType && l.overrideMimeType && l.overrideMimeType(n.mimeType), !n.crossDomain && !r["X-Requested-With"] && (r["X-Requested-With"] = "XMLHttpRequest");
                        try {
                            for (s in r)l.setRequestHeader(s, r[s])
                        } catch (e) {
                        }
                        l.send(n.hasContent && n.data || null), i = function (e, r) {
                            var s, c, d, u, f;
                            try {
                                if (i && (r || 4 === l.readyState))if (i = t, a && (l.onreadystatechange = J.noop, Vt && delete jt[a]), r)4 !== l.readyState && l.abort(); else {
                                    s = l.status, d = l.getAllResponseHeaders(), u = {}, f = l.responseXML, f && f.documentElement && (u.xml = f);
                                    try {
                                        u.text = l.responseText
                                    } catch (e) {
                                    }
                                    try {
                                        c = l.statusText
                                    } catch (e) {
                                        c = ""
                                    }
                                    s || !n.isLocal || n.crossDomain ? 1223 === s && (s = 204) : s = u.text ? 200 : 404
                                }
                            } catch (e) {
                                r || o(-1, e)
                            }
                            u && o(s, c, u, d)
                        }, n.async ? 4 === l.readyState ? setTimeout(i, 0) : (a = ++qt, Vt && (jt || (jt = {}, J(e).unload(Vt)), jt[a] = i), l.onreadystatechange = i) : i()
                    }, abort: function () {
                        i && i(0, 1)
                    }
                }
            }
        });
        var Wt, zt, Yt = /^(?:toggle|show|hide)$/, Xt = new RegExp("^(?:([-+])=|)(" + Z + ")([a-z%]*)$", "i"), Gt = /queueHooks$/, Kt = [I], Qt = {
            "*": [function (e, t) {
                var n, i, r, o = this.createTween(e, t), a = Xt.exec(t), s = o.cur(), l = +s || 0, c = 1;
                if (a) {
                    if (n = +a[2], i = a[3] || (J.cssNumber[e] ? "" : "px"), "px" !== i && l) {
                        l = J.css(o.elem, e, !0) || n || 1;
                        do r = c = c || ".5", l /= c, J.style(o.elem, e, l + i), c = o.cur() / s; while (1 !== c && c !== r)
                    }
                    o.unit = i, o.start = l, o.end = a[1] ? l + (a[1] + 1) * n : n
                }
                return o
            }]
        };
        J.Animation = J.extend(_, {
            tweener: function (e, t) {
                J.isFunction(e) ? (t = e, e = ["*"]) : e = e.split(" ");
                for (var n, i = 0, r = e.length; i < r; i++)n = e[i], Qt[n] = Qt[n] || [], Qt[n].unshift(t)
            }, prefilter: function (e, t) {
                t ? Kt.unshift(e) : Kt.push(e)
            }
        }), J.Tween = L, L.prototype = {
            constructor: L, init: function (e, t, n, i, r, o) {
                this.elem = e, this.prop = n, this.easing = r || "swing", this.options = t, this.start = this.now = this.cur(), this.end = i, this.unit = o || (J.cssNumber[n] ? "" : "px")
            }, cur: function () {
                var e = L.propHooks[this.prop];
                return e && e.get ? e.get(this) : L.propHooks._default.get(this)
            }, run: function (e) {
                var t, n = L.propHooks[this.prop];
                return this.pos = t = J.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration), this.now = (this.end - this.start) * t + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), n && n.set ? n.set(this) : L.propHooks._default.set(this), this
            }
        }, L.prototype.init.prototype = L.prototype, L.propHooks = {
            _default: {
                get: function (e) {
                    var t;
                    return null == e.elem[e.prop] || e.elem.style && null != e.elem.style[e.prop] ? (t = J.css(e.elem, e.prop, !1, ""), t && "auto" !== t ? t : 0) : e.elem[e.prop]
                }, set: function (e) {
                    J.fx.step[e.prop] ? J.fx.step[e.prop](e) : e.elem.style && (null != e.elem.style[J.cssProps[e.prop]] || J.cssHooks[e.prop]) ? J.style(e.elem, e.prop, e.now + e.unit) : e.elem[e.prop] = e.now
                }
            }
        }, L.propHooks.scrollTop = L.propHooks.scrollLeft = {
            set: function (e) {
                e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now)
            }
        }, J.each(["toggle", "show", "hide"], function (e, t) {
            var n = J.fn[t];
            J.fn[t] = function (i, r, o) {
                return null == i || "boolean" == typeof i || !e && J.isFunction(i) && J.isFunction(r) ? n.apply(this, arguments) : this.animate(R(t, !0), i, r, o)
            }
        }), J.fn.extend({
            fadeTo: function (e, t, n, i) {
                return this.filter(v).css("opacity", 0).show().end().animate({opacity: t}, e, n, i)
            }, animate: function (e, t, n, i) {
                var r = J.isEmptyObject(e), o = J.speed(t, n, i), a = function () {
                    var t = _(this, J.extend({}, e), o);
                    r && t.stop(!0)
                };
                return r || o.queue === !1 ? this.each(a) : this.queue(o.queue, a)
            }, stop: function (e, n, i) {
                var r = function (e) {
                    var t = e.stop;
                    delete e.stop, t(i)
                };
                return "string" != typeof e && (i = n, n = e, e = t), n && e !== !1 && this.queue(e || "fx", []), this.each(function () {
                    var t = !0, n = null != e && e + "queueHooks", o = J.timers, a = J._data(this);
                    if (n)a[n] && a[n].stop && r(a[n]); else for (n in a)a[n] && a[n].stop && Gt.test(n) && r(a[n]);
                    for (n = o.length; n--;)o[n].elem === this && (null == e || o[n].queue === e) && (o[n].anim.stop(i), t = !1, o.splice(n, 1));
                    (t || !i) && J.dequeue(this, e)
                })
            }
        }), J.each({
            slideDown: R("show"),
            slideUp: R("hide"),
            slideToggle: R("toggle"),
            fadeIn: {opacity: "show"},
            fadeOut: {opacity: "hide"},
            fadeToggle: {opacity: "toggle"}
        }, function (e, t) {
            J.fn[e] = function (e, n, i) {
                return this.animate(t, e, n, i)
            }
        }), J.speed = function (e, t, n) {
            var i = e && "object" == typeof e ? J.extend({}, e) : {
                complete: n || !n && t || J.isFunction(e) && e,
                duration: e,
                easing: n && t || t && !J.isFunction(t) && t
            };
            return i.duration = J.fx.off ? 0 : "number" == typeof i.duration ? i.duration : i.duration in J.fx.speeds ? J.fx.speeds[i.duration] : J.fx.speeds._default, null != i.queue && i.queue !== !0 || (i.queue = "fx"), i.old = i.complete, i.complete = function () {
                J.isFunction(i.old) && i.old.call(this), i.queue && J.dequeue(this, i.queue)
            }, i
        }, J.easing = {
            linear: function (e) {
                return e
            }, swing: function (e) {
                return .5 - Math.cos(e * Math.PI) / 2
            }
        }, J.timers = [], J.fx = L.prototype.init, J.fx.tick = function () {
            for (var e, t = J.timers, n = 0; n < t.length; n++)e = t[n], !e() && t[n] === e && t.splice(n--, 1);
            t.length || J.fx.stop()
        }, J.fx.timer = function (e) {
            e() && J.timers.push(e) && !zt && (zt = setInterval(J.fx.tick, J.fx.interval))
        }, J.fx.interval = 13, J.fx.stop = function () {
            clearInterval(zt), zt = null
        }, J.fx.speeds = {
            slow: 600,
            fast: 200,
            _default: 400
        }, J.fx.step = {}, J.expr && J.expr.filters && (J.expr.filters.animated = function (e) {
            return J.grep(J.timers, function (t) {
                return e === t.elem
            }).length
        });
        var Jt = /^(?:body|html)$/i;
        J.fn.offset = function (e) {
            if (arguments.length)return e === t ? this : this.each(function (t) {
                J.offset.setOffset(this, e, t)
            });
            var n, i, r, o, a, s, l, c, d, u, f = this[0], h = f && f.ownerDocument;
            if (h)return (r = h.body) === f ? J.offset.bodyOffset(f) : (i = h.documentElement, J.contains(i, f) ? (n = f.getBoundingClientRect(), o = O(h), a = i.clientTop || r.clientTop || 0, s = i.clientLeft || r.clientLeft || 0, l = o.pageYOffset || i.scrollTop, c = o.pageXOffset || i.scrollLeft, d = n.top + l - a, u = n.left + c - s, {
                top: d,
                left: u
            }) : {top: 0, left: 0})
        }, J.offset = {
            bodyOffset: function (e) {
                var t = e.offsetTop, n = e.offsetLeft;
                return J.support.doesNotIncludeMarginInBodyOffset && (t += parseFloat(J.css(e, "marginTop")) || 0, n += parseFloat(J.css(e, "marginLeft")) || 0), {
                    top: t,
                    left: n
                }
            }, setOffset: function (e, t, n) {
                var i = J.css(e, "position");
                "static" === i && (e.style.position = "relative");
                var r, o, a = J(e), s = a.offset(), l = J.css(e, "top"), c = J.css(e, "left"), d = ("absolute" === i || "fixed" === i) && J.inArray("auto", [l, c]) > -1, u = {}, f = {};
                d ? (f = a.position(), r = f.top, o = f.left) : (r = parseFloat(l) || 0, o = parseFloat(c) || 0), J.isFunction(t) && (t = t.call(e, n, s)), null != t.top && (u.top = t.top - s.top + r), null != t.left && (u.left = t.left - s.left + o), "using" in t ? t.using.call(e, u) : a.css(u)
            }
        }, J.fn.extend({
            position: function () {
                if (this[0]) {
                    var e = this[0], t = this.offsetParent(), n = this.offset(), i = Jt.test(t[0].nodeName) ? {
                        top: 0,
                        left: 0
                    } : t.offset();
                    return n.top -= parseFloat(J.css(e, "marginTop")) || 0, n.left -= parseFloat(J.css(e, "marginLeft")) || 0, i.top += parseFloat(J.css(t[0], "borderTopWidth")) || 0, i.left += parseFloat(J.css(t[0], "borderLeftWidth")) || 0, {
                        top: n.top - i.top,
                        left: n.left - i.left
                    }
                }
            }, offsetParent: function () {
                return this.map(function () {
                    for (var e = this.offsetParent || F.body; e && !Jt.test(e.nodeName) && "static" === J.css(e, "position");)e = e.offsetParent;
                    return e || F.body
                })
            }
        }), J.each({scrollLeft: "pageXOffset", scrollTop: "pageYOffset"}, function (e, n) {
            var i = /Y/.test(n);
            J.fn[e] = function (r) {
                return J.access(this, function (e, r, o) {
                    var a = O(e);
                    return o === t ? a ? n in a ? a[n] : a.document.documentElement[r] : e[r] : void(a ? a.scrollTo(i ? J(a).scrollLeft() : o, i ? o : J(a).scrollTop()) : e[r] = o)
                }, e, r, arguments.length, null)
            }
        }), J.each({Height: "height", Width: "width"}, function (e, n) {
            J.each({padding: "inner" + e, content: n, "": "outer" + e}, function (i, r) {
                J.fn[r] = function (r, o) {
                    var a = arguments.length && (i || "boolean" != typeof r), s = i || (r === !0 || o === !0 ? "margin" : "border");
                    return J.access(this, function (n, i, r) {
                        var o;
                        return J.isWindow(n) ? n.document.documentElement["client" + e] : 9 === n.nodeType ? (o = n.documentElement, Math.max(n.body["scroll" + e], o["scroll" + e], n.body["offset" + e], o["offset" + e], o["client" + e])) : r === t ? J.css(n, i, r, s) : J.style(n, i, r, s)
                    }, n, a ? r : t, a)
                }
            })
        }), e.jQuery = e.$ = J, "function" == typeof define && define.amd && define.amd.jQuery && define("jquery", [], function () {
            return J
        })
    }(window), function (e, t, n) {
        "use strict";
        function i(e, t) {
            return t = t || Error, function () {
                var n, i, r = arguments[0], o = "[" + (e ? e + ":" : "") + r + "] ", a = arguments[1], s = arguments;
                for (n = o + a.replace(/\{\d+\}/g, function (e) {
                        var t = +e.slice(1, -1);
                        return t + 2 < s.length ? fe(s[t + 2]) : e
                    }), n = n + "\nhttp://errors.angularjs.org/1.3.12/" + (e ? e + "/" : "") + r, i = 2; i < arguments.length; i++)n = n + (2 == i ? "?" : "&") + "p" + (i - 2) + "=" + encodeURIComponent(fe(arguments[i]));
                return new t(n)
            }
        }

        function r(e) {
            if (null == e || T(e))return !1;
            var t = e.length;
            return !(e.nodeType !== vi || !t) || (w(e) || di(e) || 0 === t || "number" == typeof t && t > 0 && t - 1 in e)
        }

        function o(e, t, n) {
            var i, a;
            if (e)if ($(e))for (i in e)"prototype" == i || "length" == i || "name" == i || e.hasOwnProperty && !e.hasOwnProperty(i) || t.call(n, e[i], i, e); else if (di(e) || r(e)) {
                var s = "object" != typeof e;
                for (i = 0, a = e.length; i < a; i++)(s || i in e) && t.call(n, e[i], i, e)
            } else if (e.forEach && e.forEach !== o)e.forEach(t, n, e); else for (i in e)e.hasOwnProperty(i) && t.call(n, e[i], i, e);
            return e
        }

        function a(e) {
            return Object.keys(e).sort()
        }

        function s(e, t, n) {
            for (var i = a(e), r = 0; r < i.length; r++)t.call(n, e[i[r]], i[r]);
            return i
        }

        function l(e) {
            return function (t, n) {
                e(n, t)
            }
        }

        function c() {
            return ++li
        }

        function d(e, t) {
            t ? e.$$hashKey = t : delete e.$$hashKey
        }

        function u(e) {
            for (var t = e.$$hashKey, n = 1, i = arguments.length; n < i; n++) {
                var r = arguments[n];
                if (r)for (var o = Object.keys(r), a = 0, s = o.length; a < s; a++) {
                    var l = o[a];
                    e[l] = r[l]
                }
            }
            return d(e, t), e
        }

        function f(e) {
            return parseInt(e, 10)
        }

        function h(e, t) {
            return u(Object.create(e), t)
        }

        function p() {
        }

        function m(e) {
            return e
        }

        function g(e) {
            return function () {
                return e
            }
        }

        function v(e) {
            return "undefined" == typeof e
        }

        function y(e) {
            return "undefined" != typeof e
        }

        function b(e) {
            return null !== e && "object" == typeof e
        }

        function w(e) {
            return "string" == typeof e
        }

        function C(e) {
            return "number" == typeof e
        }

        function x(e) {
            return "[object Date]" === oi.call(e)
        }

        function $(e) {
            return "function" == typeof e
        }

        function N(e) {
            return "[object RegExp]" === oi.call(e)
        }

        function T(e) {
            return e && e.window === e
        }

        function k(e) {
            return e && e.$evalAsync && e.$watch
        }

        function E(e) {
            return "[object File]" === oi.call(e)
        }

        function S(e) {
            return "[object FormData]" === oi.call(e)
        }

        function U(e) {
            return "[object Blob]" === oi.call(e)
        }

        function D(e) {
            return "boolean" == typeof e
        }

        function A(e) {
            return e && $(e.then)
        }

        function B(e) {
            return !(!e || !(e.nodeName || e.prop && e.attr && e.find))
        }

        function _(e) {
            var t, n = {}, i = e.split(",");
            for (t = 0; t < i.length; t++)n[i[t]] = !0;
            return n
        }

        function M(e) {
            return Yn(e.nodeName || e[0] && e[0].nodeName)
        }

        function I(e, t) {
            var n = e.indexOf(t);
            return n >= 0 && e.splice(n, 1), t
        }

        function L(e, t, n, i) {
            if (T(e) || k(e))throw ai("cpws", "Can't copy! Making copies of Window or Scope instances is not supported.");
            if (t) {
                if (e === t)throw ai("cpi", "Can't copy! Source and destination are identical.");
                if (n = n || [], i = i || [], b(e)) {
                    var r = n.indexOf(e);
                    if (r !== -1)return i[r];
                    n.push(e), i.push(t)
                }
                var a;
                if (di(e)) {
                    t.length = 0;
                    for (var s = 0; s < e.length; s++)a = L(e[s], null, n, i), b(e[s]) && (n.push(e[s]), i.push(a)), t.push(a)
                } else {
                    var l = t.$$hashKey;
                    di(t) ? t.length = 0 : o(t, function (e, n) {
                        delete t[n]
                    });
                    for (var c in e)e.hasOwnProperty(c) && (a = L(e[c], null, n, i), b(e[c]) && (n.push(e[c]), i.push(a)), t[c] = a);
                    d(t, l)
                }
            } else if (t = e, e)if (di(e))t = L(e, [], n, i); else if (x(e))t = new Date(e.getTime()); else if (N(e))t = new RegExp(e.source, e.toString().match(/[^\/]*$/)[0]), t.lastIndex = e.lastIndex; else if (b(e)) {
                var u = Object.create(Object.getPrototypeOf(e));
                t = L(e, u, n, i)
            }
            return t
        }

        function R(e, t) {
            if (di(e)) {
                t = t || [];
                for (var n = 0, i = e.length; n < i; n++)t[n] = e[n]
            } else if (b(e)) {
                t = t || {};
                for (var r in e)"$" === r.charAt(0) && "$" === r.charAt(1) || (t[r] = e[r])
            }
            return t || e
        }

        function O(e, t) {
            if (e === t)return !0;
            if (null === e || null === t)return !1;
            if (e !== e && t !== t)return !0;
            var i, r, o, a = typeof e, s = typeof t;
            if (a == s && "object" == a) {
                if (!di(e)) {
                    if (x(e))return !!x(t) && O(e.getTime(), t.getTime());
                    if (N(e) && N(t))return e.toString() == t.toString();
                    if (k(e) || k(t) || T(e) || T(t) || di(t))return !1;
                    o = {};
                    for (r in e)if ("$" !== r.charAt(0) && !$(e[r])) {
                        if (!O(e[r], t[r]))return !1;
                        o[r] = !0
                    }
                    for (r in t)if (!o.hasOwnProperty(r) && "$" !== r.charAt(0) && t[r] !== n && !$(t[r]))return !1;
                    return !0
                }
                if (!di(t))return !1;
                if ((i = e.length) == t.length) {
                    for (r = 0; r < i; r++)if (!O(e[r], t[r]))return !1;
                    return !0
                }
            }
            return !1;
        }

        function P(e, t, n) {
            return e.concat(ni.call(t, n))
        }

        function H(e, t) {
            return ni.call(e, t || 0)
        }

        function F(e, t) {
            var n = arguments.length > 2 ? H(arguments, 2) : [];
            return !$(t) || t instanceof RegExp ? t : n.length ? function () {
                return arguments.length ? t.apply(e, P(n, arguments, 0)) : t.apply(e, n)
            } : function () {
                return arguments.length ? t.apply(e, arguments) : t.call(e)
            }
        }

        function j(e, i) {
            var r = i;
            return "string" == typeof e && "$" === e.charAt(0) && "$" === e.charAt(1) ? r = n : T(i) ? r = "$WINDOW" : i && t === i ? r = "$DOCUMENT" : k(i) && (r = "$SCOPE"), r
        }

        function V(e, t) {
            return "undefined" == typeof e ? n : (C(t) || (t = t ? 2 : null), JSON.stringify(e, j, t))
        }

        function q(e) {
            return w(e) ? JSON.parse(e) : e
        }

        function W(e) {
            e = Zn(e).clone();
            try {
                e.empty()
            } catch (e) {
            }
            var t = Zn("<div>").append(e).html();
            try {
                return e[0].nodeType === yi ? Yn(t) : t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/, function (e, t) {
                    return "<" + Yn(t)
                })
            } catch (e) {
                return Yn(t)
            }
        }

        function z(e) {
            try {
                return decodeURIComponent(e)
            } catch (e) {
            }
        }

        function Y(e) {
            var t, n, i = {};
            return o((e || "").split("&"), function (e) {
                if (e && (t = e.replace(/\+/g, "%20").split("="), n = z(t[0]), y(n))) {
                    var r = !y(t[1]) || z(t[1]);
                    Xn.call(i, n) ? di(i[n]) ? i[n].push(r) : i[n] = [i[n], r] : i[n] = r
                }
            }), i
        }

        function X(e) {
            var t = [];
            return o(e, function (e, n) {
                di(e) ? o(e, function (e) {
                    t.push(K(n, !0) + (e === !0 ? "" : "=" + K(e, !0)))
                }) : t.push(K(n, !0) + (e === !0 ? "" : "=" + K(e, !0)))
            }), t.length ? t.join("&") : ""
        }

        function G(e) {
            return K(e, !0).replace(/%26/gi, "&").replace(/%3D/gi, "=").replace(/%2B/gi, "+")
        }

        function K(e, t) {
            return encodeURIComponent(e).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%3B/gi, ";").replace(/%20/g, t ? "%20" : "+")
        }

        function Q(e, t) {
            var n, i, r = pi.length;
            for (e = Zn(e), i = 0; i < r; ++i)if (n = pi[i] + t, w(n = e.attr(n)))return n;
            return null
        }

        function J(e, t) {
            var n, i, r = {};
            o(pi, function (t) {
                var r = t + "app";
                !n && e.hasAttribute && e.hasAttribute(r) && (n = e, i = e.getAttribute(r))
            }), o(pi, function (t) {
                var r, o = t + "app";
                !n && (r = e.querySelector("[" + o.replace(":", "\\:") + "]")) && (n = r, i = r.getAttribute(o))
            }), n && (r.strictDi = null !== Q(n, "strict-di"), t(n, i ? [i] : [], r))
        }

        function Z(n, i, r) {
            b(r) || (r = {});
            var a = {strictDi: !1};
            r = u(a, r);
            var s = function () {
                if (n = Zn(n), n.injector()) {
                    var e = n[0] === t ? "document" : W(n);
                    throw ai("btstrpd", "App Already Bootstrapped with this Element '{0}'", e.replace(/</, "&lt;").replace(/>/, "&gt;"))
                }
                i = i || [], i.unshift(["$provide", function (e) {
                    e.value("$rootElement", n)
                }]), r.debugInfoEnabled && i.push(["$compileProvider", function (e) {
                    e.debugInfoEnabled(!0)
                }]), i.unshift("ng");
                var o = qe(i, r.strictDi);
                return o.invoke(["$rootScope", "$rootElement", "$compile", "$injector", function (e, t, n, i) {
                    e.$apply(function () {
                        t.data("$injector", i), n(t)(e)
                    })
                }]), o
            }, l = /^NG_ENABLE_DEBUG_INFO!/, c = /^NG_DEFER_BOOTSTRAP!/;
            return e && l.test(e.name) && (r.debugInfoEnabled = !0, e.name = e.name.replace(l, "")), e && !c.test(e.name) ? s() : (e.name = e.name.replace(c, ""), si.resumeBootstrap = function (e) {
                return o(e, function (e) {
                    i.push(e)
                }), s()
            }, void($(si.resumeDeferredBootstrap) && si.resumeDeferredBootstrap()))
        }

        function ee() {
            e.name = "NG_ENABLE_DEBUG_INFO!" + e.name, e.location.reload()
        }

        function te(e) {
            var t = si.element(e).injector();
            if (!t)throw ai("test", "no injector found for element argument to getTestability");
            return t.get("$$testability")
        }

        function ne(e, t) {
            return t = t || "_", e.replace(mi, function (e, n) {
                return (n ? t : "") + e.toLowerCase()
            })
        }

        function ie() {
            var t;
            gi || (ei = e.jQuery, ei && ei.fn.on ? (Zn = ei, u(ei.fn, {
                scope: Li.scope,
                isolateScope: Li.isolateScope,
                controller: Li.controller,
                injector: Li.injector,
                inheritedData: Li.inheritedData
            }), t = ei.cleanData, ei.cleanData = function (e) {
                var n;
                if (ci)ci = !1; else for (var i, r = 0; null != (i = e[r]); r++)n = ei._data(i, "events"), n && n.$destroy && ei(i).triggerHandler("$destroy");
                t(e)
            }) : Zn = we, si.element = Zn, gi = !0)
        }

        function re(e, t, n) {
            if (!e)throw ai("areq", "Argument '{0}' is {1}", t || "?", n || "required");
            return e
        }

        function oe(e, t, n) {
            return n && di(e) && (e = e[e.length - 1]), re($(e), t, "not a function, got " + (e && "object" == typeof e ? e.constructor.name || "Object" : typeof e)), e
        }

        function ae(e, t) {
            if ("hasOwnProperty" === e)throw ai("badname", "hasOwnProperty is not a valid {0} name", t)
        }

        function se(e, t, n) {
            if (!t)return e;
            for (var i, r = t.split("."), o = e, a = r.length, s = 0; s < a; s++)i = r[s], e && (e = (o = e)[i]);
            return !n && $(e) ? F(o, e) : e
        }

        function le(e) {
            var t = e[0], n = e[e.length - 1], i = [t];
            do {
                if (t = t.nextSibling, !t)break;
                i.push(t)
            } while (t !== n);
            return Zn(i)
        }

        function ce() {
            return Object.create(null)
        }

        function de(e) {
            function t(e, t, n) {
                return e[t] || (e[t] = n())
            }

            var n = i("$injector"), r = i("ng"), o = t(e, "angular", Object);
            return o.$$minErr = o.$$minErr || i, t(o, "module", function () {
                var e = {};
                return function (i, o, a) {
                    var s = function (e, t) {
                        if ("hasOwnProperty" === e)throw r("badname", "hasOwnProperty is not a valid {0} name", t)
                    };
                    return s(i, "module"), o && e.hasOwnProperty(i) && (e[i] = null), t(e, i, function () {
                        function e(e, n, i, r) {
                            return r || (r = t), function () {
                                return r[i || "push"]([e, n, arguments]), c
                            }
                        }

                        if (!o)throw n("nomod", "Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.", i);
                        var t = [], r = [], s = [], l = e("$injector", "invoke", "push", r), c = {
                            _invokeQueue: t,
                            _configBlocks: r,
                            _runBlocks: s,
                            requires: o,
                            name: i,
                            provider: e("$provide", "provider"),
                            factory: e("$provide", "factory"),
                            service: e("$provide", "service"),
                            value: e("$provide", "value"),
                            constant: e("$provide", "constant", "unshift"),
                            animation: e("$animateProvider", "register"),
                            filter: e("$filterProvider", "register"),
                            controller: e("$controllerProvider", "register"),
                            directive: e("$compileProvider", "directive"),
                            config: l,
                            run: function (e) {
                                return s.push(e), this
                            }
                        };
                        return a && l(a), c
                    })
                }
            })
        }

        function ue(e) {
            var t = [];
            return JSON.stringify(e, function (e, n) {
                if (n = j(e, n), b(n)) {
                    if (t.indexOf(n) >= 0)return "<<already seen>>";
                    t.push(n)
                }
                return n
            })
        }

        function fe(e) {
            return "function" == typeof e ? e.toString().replace(/ \{[\s\S]*$/, "") : "undefined" == typeof e ? "undefined" : "string" != typeof e ? ue(e) : e
        }

        function he(t) {
            u(t, {
                bootstrap: Z,
                copy: L,
                extend: u,
                equals: O,
                element: Zn,
                forEach: o,
                injector: qe,
                noop: p,
                bind: F,
                toJson: V,
                fromJson: q,
                identity: m,
                isUndefined: v,
                isDefined: y,
                isString: w,
                isFunction: $,
                isObject: b,
                isNumber: C,
                isElement: B,
                isArray: di,
                version: xi,
                isDate: x,
                lowercase: Yn,
                uppercase: Gn,
                callbacks: {counter: 0},
                getTestability: te,
                $$minErr: i,
                $$csp: hi,
                reloadWithDebugInfo: ee
            }), ti = de(e);
            try {
                ti("ngLocale")
            } catch (e) {
                ti("ngLocale", []).provider("$locale", gt)
            }
            ti("ng", ["ngLocale"], ["$provide", function (e) {
                e.provider({$$sanitizeUri: Xt}), e.provider("$compile", Qe).directive({
                    a: Sr,
                    input: Wr,
                    textarea: Wr,
                    form: _r,
                    script: Io,
                    select: Oo,
                    style: Ho,
                    option: Po,
                    ngBind: Xr,
                    ngBindHtml: Kr,
                    ngBindTemplate: Gr,
                    ngClass: Jr,
                    ngClassEven: eo,
                    ngClassOdd: Zr,
                    ngCloak: to,
                    ngController: no,
                    ngForm: Mr,
                    ngHide: Uo,
                    ngIf: oo,
                    ngInclude: ao,
                    ngInit: lo,
                    ngNonBindable: $o,
                    ngPluralize: No,
                    ngRepeat: To,
                    ngShow: So,
                    ngStyle: Do,
                    ngSwitch: Ao,
                    ngSwitchWhen: Bo,
                    ngSwitchDefault: _o,
                    ngOptions: Ro,
                    ngTransclude: Mo,
                    ngModel: wo,
                    ngList: co,
                    ngChange: Qr,
                    pattern: jo,
                    ngPattern: jo,
                    required: Fo,
                    ngRequired: Fo,
                    minlength: qo,
                    ngMinlength: qo,
                    maxlength: Vo,
                    ngMaxlength: Vo,
                    ngValue: Yr,
                    ngModelOptions: xo
                }).directive({ngInclude: so}).directive(Ur).directive(io), e.provider({
                    $anchorScroll: We,
                    $animate: zi,
                    $browser: Xe,
                    $cacheFactory: Ge,
                    $controller: tt,
                    $document: nt,
                    $exceptionHandler: it,
                    $filter: sn,
                    $interpolate: pt,
                    $interval: mt,
                    $http: dt,
                    $httpBackend: ft,
                    $location: Dt,
                    $log: At,
                    $parse: jt,
                    $rootScope: Yt,
                    $q: Vt,
                    $$q: qt,
                    $sce: Jt,
                    $sceDelegate: Qt,
                    $sniffer: Zt,
                    $templateCache: Ke,
                    $templateRequest: en,
                    $$testability: tn,
                    $timeout: nn,
                    $window: an,
                    $$rAF: zt,
                    $$asyncCallback: ze,
                    $$jqLite: Pe
                })
            }])
        }

        function pe() {
            return ++Ni
        }

        function me(e) {
            return e.replace(Ei, function (e, t, n, i) {
                return i ? n.toUpperCase() : n
            }).replace(Si, "Moz$1")
        }

        function ge(e) {
            return !Bi.test(e)
        }

        function ve(e) {
            var t = e.nodeType;
            return t === vi || !t || t === wi
        }

        function ye(e, t) {
            var n, i, r, a, s = t.createDocumentFragment(), l = [];
            if (ge(e))l.push(t.createTextNode(e)); else {
                for (n = n || s.appendChild(t.createElement("div")), i = (_i.exec(e) || ["", ""])[1].toLowerCase(), r = Ii[i] || Ii._default, n.innerHTML = r[1] + e.replace(Mi, "<$1></$2>") + r[2], a = r[0]; a--;)n = n.lastChild;
                l = P(l, n.childNodes), n = s.firstChild, n.textContent = ""
            }
            return s.textContent = "", s.innerHTML = "", o(l, function (e) {
                s.appendChild(e)
            }), s
        }

        function be(e, n) {
            n = n || t;
            var i;
            return (i = Ai.exec(e)) ? [n.createElement(i[1])] : (i = ye(e, n)) ? i.childNodes : []
        }

        function we(e) {
            if (e instanceof we)return e;
            var t;
            if (w(e) && (e = ui(e), t = !0), !(this instanceof we)) {
                if (t && "<" != e.charAt(0))throw Di("nosel", "Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");
                return new we(e)
            }
            t ? De(this, be(e)) : De(this, e)
        }

        function Ce(e) {
            return e.cloneNode(!0)
        }

        function xe(e, t) {
            if (t || Ne(e), e.querySelectorAll)for (var n = e.querySelectorAll("*"), i = 0, r = n.length; i < r; i++)Ne(n[i])
        }

        function $e(e, t, n, i) {
            if (y(i))throw Di("offargs", "jqLite#off() does not support the `selector` argument");
            var r = Te(e), a = r && r.events, s = r && r.handle;
            if (s)if (t)o(t.split(" "), function (t) {
                if (y(n)) {
                    var i = a[t];
                    if (I(i || [], n), i && i.length > 0)return
                }
                ki(e, t, s), delete a[t]
            }); else for (t in a)"$destroy" !== t && ki(e, t, s), delete a[t]
        }

        function Ne(e, t) {
            var i = e.ng339, r = i && $i[i];
            if (r) {
                if (t)return void delete r.data[t];
                r.handle && (r.events.$destroy && r.handle({}, "$destroy"), $e(e)), delete $i[i], e.ng339 = n
            }
        }

        function Te(e, t) {
            var i = e.ng339, r = i && $i[i];
            return t && !r && (e.ng339 = i = pe(), r = $i[i] = {events: {}, data: {}, handle: n}), r
        }

        function ke(e, t, n) {
            if (ve(e)) {
                var i = y(n), r = !i && t && !b(t), o = !t, a = Te(e, !r), s = a && a.data;
                if (i)s[t] = n; else {
                    if (o)return s;
                    if (r)return s && s[t];
                    u(s, t)
                }
            }
        }

        function Ee(e, t) {
            return !!e.getAttribute && (" " + (e.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").indexOf(" " + t + " ") > -1
        }

        function Se(e, t) {
            t && e.setAttribute && o(t.split(" "), function (t) {
                e.setAttribute("class", ui((" " + (e.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").replace(" " + ui(t) + " ", " ")))
            })
        }

        function Ue(e, t) {
            if (t && e.setAttribute) {
                var n = (" " + (e.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ");
                o(t.split(" "), function (e) {
                    e = ui(e), n.indexOf(" " + e + " ") === -1 && (n += e + " ")
                }), e.setAttribute("class", ui(n))
            }
        }

        function De(e, t) {
            if (t)if (t.nodeType)e[e.length++] = t; else {
                var n = t.length;
                if ("number" == typeof n && t.window !== t) {
                    if (n)for (var i = 0; i < n; i++)e[e.length++] = t[i]
                } else e[e.length++] = t
            }
        }

        function Ae(e, t) {
            return Be(e, "$" + (t || "ngController") + "Controller")
        }

        function Be(e, t, i) {
            e.nodeType == wi && (e = e.documentElement);
            for (var r = di(t) ? t : [t]; e;) {
                for (var o = 0, a = r.length; o < a; o++)if ((i = Zn.data(e, r[o])) !== n)return i;
                e = e.parentNode || e.nodeType === Ci && e.host
            }
        }

        function _e(e) {
            for (xe(e, !0); e.firstChild;)e.removeChild(e.firstChild)
        }

        function Me(e, t) {
            t || xe(e);
            var n = e.parentNode;
            n && n.removeChild(e)
        }

        function Ie(t, n) {
            n = n || e, "complete" === n.document.readyState ? n.setTimeout(t) : Zn(n).on("load", t)
        }

        function Le(e, t) {
            var n = Ri[t.toLowerCase()];
            return n && Oi[M(e)] && n
        }

        function Re(e, t) {
            var n = e.nodeName;
            return ("INPUT" === n || "TEXTAREA" === n) && Pi[t]
        }

        function Oe(e, t) {
            var n = function (n, i) {
                n.isDefaultPrevented = function () {
                    return n.defaultPrevented
                };
                var r = t[i || n.type], o = r ? r.length : 0;
                if (o) {
                    if (v(n.immediatePropagationStopped)) {
                        var a = n.stopImmediatePropagation;
                        n.stopImmediatePropagation = function () {
                            n.immediatePropagationStopped = !0, n.stopPropagation && n.stopPropagation(), a && a.call(n)
                        }
                    }
                    n.isImmediatePropagationStopped = function () {
                        return n.immediatePropagationStopped === !0
                    }, o > 1 && (r = R(r));
                    for (var s = 0; s < o; s++)n.isImmediatePropagationStopped() || r[s].call(e, n)
                }
            };
            return n.elem = e, n
        }

        function Pe() {
            this.$get = function () {
                return u(we, {
                    hasClass: function (e, t) {
                        return e.attr && (e = e[0]), Ee(e, t)
                    }, addClass: function (e, t) {
                        return e.attr && (e = e[0]), Ue(e, t)
                    }, removeClass: function (e, t) {
                        return e.attr && (e = e[0]), Se(e, t)
                    }
                })
            }
        }

        function He(e, t) {
            var n = e && e.$$hashKey;
            if (n)return "function" == typeof n && (n = e.$$hashKey()), n;
            var i = typeof e;
            return n = "function" == i || "object" == i && null !== e ? e.$$hashKey = i + ":" + (t || c)() : i + ":" + e
        }

        function Fe(e, t) {
            if (t) {
                var n = 0;
                this.nextUid = function () {
                    return ++n
                }
            }
            o(e, this.put, this)
        }

        function je(e) {
            var t = e.toString().replace(Vi, ""), n = t.match(Hi);
            return n ? "function(" + (n[1] || "").replace(/[\s\r\n]+/, " ") + ")" : "fn"
        }

        function Ve(e, t, n) {
            var i, r, a, s;
            if ("function" == typeof e) {
                if (!(i = e.$inject)) {
                    if (i = [], e.length) {
                        if (t)throw w(n) && n || (n = e.name || je(e)), qi("strictdi", "{0} is not using explicit annotation and cannot be invoked in strict mode", n);
                        r = e.toString().replace(Vi, ""), a = r.match(Hi), o(a[1].split(Fi), function (e) {
                            e.replace(ji, function (e, t, n) {
                                i.push(n)
                            })
                        })
                    }
                    e.$inject = i
                }
            } else di(e) ? (s = e.length - 1, oe(e[s], "fn"), i = e.slice(0, s)) : oe(e, "fn", !0);
            return i
        }

        function qe(e, t) {
            function i(e) {
                return function (t, n) {
                    return b(t) ? void o(t, l(e)) : e(t, n)
                }
            }

            function r(e, t) {
                if (ae(e, "service"), ($(t) || di(t)) && (t = k.instantiate(t)), !t.$get)throw qi("pget", "Provider '{0}' must define $get factory method.", e);
                return T[e + C] = t
            }

            function a(e, t) {
                return function () {
                    var n = S.invoke(t, this);
                    if (v(n))throw qi("undef", "Provider '{0}' must return a value from $get factory method.", e);
                    return n
                }
            }

            function s(e, t, n) {
                return r(e, {$get: n !== !1 ? a(e, t) : t})
            }

            function c(e, t) {
                return s(e, ["$injector", function (e) {
                    return e.instantiate(t)
                }])
            }

            function d(e, t) {
                return s(e, g(t), !1)
            }

            function u(e, t) {
                ae(e, "constant"), T[e] = t, E[e] = t
            }

            function f(e, t) {
                var n = k.get(e + C), i = n.$get;
                n.$get = function () {
                    var e = S.invoke(i, n);
                    return S.invoke(t, null, {$delegate: e})
                }
            }

            function h(e) {
                var t, n = [];
                return o(e, function (e) {
                    function i(e) {
                        var t, n;
                        for (t = 0, n = e.length; t < n; t++) {
                            var i = e[t], r = k.get(i[0]);
                            r[i[1]].apply(r, i[2])
                        }
                    }

                    if (!N.get(e)) {
                        N.put(e, !0);
                        try {
                            w(e) ? (t = ti(e), n = n.concat(h(t.requires)).concat(t._runBlocks), i(t._invokeQueue), i(t._configBlocks)) : $(e) ? n.push(k.invoke(e)) : di(e) ? n.push(k.invoke(e)) : oe(e, "module")
                        } catch (t) {
                            throw di(e) && (e = e[e.length - 1]), t.message && t.stack && t.stack.indexOf(t.message) == -1 && (t = t.message + "\n" + t.stack), qi("modulerr", "Failed to instantiate module {0} due to:\n{1}", e, t.stack || t.message || t)
                        }
                    }
                }), n
            }

            function m(e, n) {
                function i(t, i) {
                    if (e.hasOwnProperty(t)) {
                        if (e[t] === y)throw qi("cdep", "Circular dependency found: {0}", t + " <- " + x.join(" <- "));
                        return e[t]
                    }
                    try {
                        return x.unshift(t), e[t] = y, e[t] = n(t, i)
                    } catch (n) {
                        throw e[t] === y && delete e[t], n
                    } finally {
                        x.shift()
                    }
                }

                function r(e, n, r, o) {
                    "string" == typeof r && (o = r, r = null);
                    var a, s, l, c = [], d = qe.$$annotate(e, t, o);
                    for (s = 0, a = d.length; s < a; s++) {
                        if (l = d[s], "string" != typeof l)throw qi("itkn", "Incorrect injection token! Expected service name as string, got {0}", l);
                        c.push(r && r.hasOwnProperty(l) ? r[l] : i(l, o))
                    }
                    return di(e) && (e = e[a]), e.apply(n, c)
                }

                function o(e, t, n) {
                    var i = Object.create((di(e) ? e[e.length - 1] : e).prototype || null), o = r(e, i, t, n);
                    return b(o) || $(o) ? o : i
                }

                return {
                    invoke: r, instantiate: o, get: i, annotate: qe.$$annotate, has: function (t) {
                        return T.hasOwnProperty(t + C) || e.hasOwnProperty(t)
                    }
                }
            }

            t = t === !0;
            var y = {}, C = "Provider", x = [], N = new Fe([], !0), T = {
                $provide: {
                    provider: i(r),
                    factory: i(s),
                    service: i(c),
                    value: i(d),
                    constant: i(u),
                    decorator: f
                }
            }, k = T.$injector = m(T, function (e, t) {
                throw si.isString(t) && x.push(t), qi("unpr", "Unknown provider: {0}", x.join(" <- "))
            }), E = {}, S = E.$injector = m(E, function (e, t) {
                var i = k.get(e + C, t);
                return S.invoke(i.$get, i, n, e)
            });
            return o(h(e), function (e) {
                S.invoke(e || p)
            }), S
        }

        function We() {
            var e = !0;
            this.disableAutoScrolling = function () {
                e = !1
            }, this.$get = ["$window", "$location", "$rootScope", function (t, n, i) {
                function r(e) {
                    var t = null;
                    return Array.prototype.some.call(e, function (e) {
                        if ("a" === M(e))return t = e, !0
                    }), t
                }

                function o() {
                    var e = s.yOffset;
                    if ($(e))e = e(); else if (B(e)) {
                        var n = e[0], i = t.getComputedStyle(n);
                        e = "fixed" !== i.position ? 0 : n.getBoundingClientRect().bottom
                    } else C(e) || (e = 0);
                    return e
                }

                function a(e) {
                    if (e) {
                        e.scrollIntoView();
                        var n = o();
                        if (n) {
                            var i = e.getBoundingClientRect().top;
                            t.scrollBy(0, i - n)
                        }
                    } else t.scrollTo(0, 0)
                }

                function s() {
                    var e, t = n.hash();
                    t ? (e = l.getElementById(t)) ? a(e) : (e = r(l.getElementsByName(t))) ? a(e) : "top" === t && a(null) : a(null)
                }

                var l = t.document;
                return e && i.$watch(function () {
                    return n.hash()
                }, function (e, t) {
                    e === t && "" === e || Ie(function () {
                        i.$evalAsync(s)
                    })
                }), s
            }]
        }

        function ze() {
            this.$get = ["$$rAF", "$timeout", function (e, t) {
                return e.supported ? function (t) {
                    return e(t)
                } : function (e) {
                    return t(e, 0, !1)
                }
            }]
        }

        function Ye(e, t, i, r) {
            function a(e) {
                try {
                    e.apply(null, H(arguments, 1))
                } finally {
                    if ($--, 0 === $)for (; N.length;)try {
                        N.pop()()
                    } catch (e) {
                        i.error(e)
                    }
                }
            }

            function s(e) {
                var t = e.indexOf("#");
                return t === -1 ? "" : e.substr(t + 1)
            }

            function l(e, t) {
                !function n() {
                    o(k, function (e) {
                        e()
                    }), T = t(n, e)
                }()
            }

            function c() {
                d(), u()
            }

            function d() {
                E = e.history.state, E = v(E) ? null : E, O(E, M) && (E = M), M = E
            }

            function u() {
                U === h.url() && S === E || (U = h.url(), S = E, o(B, function (e) {
                    e(h.url(), E)
                }))
            }

            function f(e) {
                try {
                    return decodeURIComponent(e)
                } catch (t) {
                    return e
                }
            }

            var h = this, m = t[0], g = e.location, y = e.history, b = e.setTimeout, C = e.clearTimeout, x = {};
            h.isMock = !1;
            var $ = 0, N = [];
            h.$$completeOutstandingRequest = a, h.$$incOutstandingRequestCount = function () {
                $++
            }, h.notifyWhenNoOutstandingRequests = function (e) {
                o(k, function (e) {
                    e()
                }), 0 === $ ? e() : N.push(e)
            };
            var T, k = [];
            h.addPollFn = function (e) {
                return v(T) && l(100, b), k.push(e), e
            };
            var E, S, U = g.href, D = t.find("base"), A = null;
            d(), S = E, h.url = function (t, n, i) {
                if (v(i) && (i = null), g !== e.location && (g = e.location), y !== e.history && (y = e.history), t) {
                    var o = S === i;
                    if (U === t && (!r.history || o))return h;
                    var a = U && Ct(U) === Ct(t);
                    return U = t, S = i, !r.history || a && o ? (a || (A = t), n ? g.replace(t) : a ? g.hash = s(t) : g.href = t) : (y[n ? "replaceState" : "pushState"](i, "", t), d(), S = E), h
                }
                return A || g.href.replace(/%27/g, "'")
            }, h.state = function () {
                return E
            };
            var B = [], _ = !1, M = null;
            h.onUrlChange = function (t) {
                return _ || (r.history && Zn(e).on("popstate", c), Zn(e).on("hashchange", c), _ = !0), B.push(t), t
            }, h.$$checkUrlChange = u, h.baseHref = function () {
                var e = D.attr("href");
                return e ? e.replace(/^(https?\:)?\/\/[^\/]*/, "") : ""
            };
            var I = {}, L = "", R = h.baseHref();
            h.cookies = function (e, t) {
                var r, o, a, s, l;
                if (!e) {
                    if (m.cookie !== L)for (L = m.cookie, o = L.split("; "), I = {}, s = 0; s < o.length; s++)a = o[s], l = a.indexOf("="), l > 0 && (e = f(a.substring(0, l)), I[e] === n && (I[e] = f(a.substring(l + 1))));
                    return I
                }
                t === n ? m.cookie = encodeURIComponent(e) + "=;path=" + R + ";expires=Thu, 01 Jan 1970 00:00:00 GMT" : w(t) && (r = (m.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(t) + ";path=" + R).length + 1, r > 4096 && i.warn("Cookie '" + e + "' possibly not set or overflowed because it was too large (" + r + " > 4096 bytes)!"))
            }, h.defer = function (e, t) {
                var n;
                return $++, n = b(function () {
                    delete x[n], a(e)
                }, t || 0), x[n] = !0, n
            }, h.defer.cancel = function (e) {
                return !!x[e] && (delete x[e], C(e), a(p), !0)
            }
        }

        function Xe() {
            this.$get = ["$window", "$log", "$sniffer", "$document", function (e, t, n, i) {
                return new Ye(e, i, t, n)
            }]
        }

        function Ge() {
            this.$get = function () {
                function e(e, n) {
                    function r(e) {
                        e != f && (h ? h == e && (h = e.n) : h = e, o(e.n, e.p), o(e, f), f = e, f.n = null)
                    }

                    function o(e, t) {
                        e != t && (e && (e.p = t), t && (t.n = e))
                    }

                    if (e in t)throw i("$cacheFactory")("iid", "CacheId '{0}' is already taken!", e);
                    var a = 0, s = u({}, n, {id: e}), l = {}, c = n && n.capacity || Number.MAX_VALUE, d = {}, f = null, h = null;
                    return t[e] = {
                        put: function (e, t) {
                            if (c < Number.MAX_VALUE) {
                                var n = d[e] || (d[e] = {key: e});
                                r(n)
                            }
                            if (!v(t))return e in l || a++, l[e] = t, a > c && this.remove(h.key), t
                        }, get: function (e) {
                            if (c < Number.MAX_VALUE) {
                                var t = d[e];
                                if (!t)return;
                                r(t)
                            }
                            return l[e]
                        }, remove: function (e) {
                            if (c < Number.MAX_VALUE) {
                                var t = d[e];
                                if (!t)return;
                                t == f && (f = t.p), t == h && (h = t.n), o(t.n, t.p), delete d[e]
                            }
                            delete l[e], a--
                        }, removeAll: function () {
                            l = {}, a = 0, d = {}, f = h = null
                        }, destroy: function () {
                            l = null, s = null, d = null, delete t[e]
                        }, info: function () {
                            return u({}, s, {size: a})
                        }
                    }
                }

                var t = {};
                return e.info = function () {
                    var e = {};
                    return o(t, function (t, n) {
                        e[n] = t.info()
                    }), e
                }, e.get = function (e) {
                    return t[e]
                }, e
            }
        }

        function Ke() {
            this.$get = ["$cacheFactory", function (e) {
                return e("templates")
            }]
        }

        function Qe(e, i) {
            function r(e, t) {
                var n = /^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/, i = {};
                return o(e, function (e, r) {
                    var o = e.match(n);
                    if (!o)throw Yi("iscp", "Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}", t, r, e);
                    i[r] = {mode: o[1][0], collection: "*" === o[2], optional: "?" === o[3], attrName: o[4] || r}
                }), i
            }

            var a = {}, s = "Directive", c = /^\s*directive\:\s*([\w\-]+)\s+(.*)$/, d = /(([\w\-]+)(?:\:([^;]+))?;?)/, f = _("ngSrc,ngSrcset,src,srcset"), v = /^(?:(\^\^?)?(\?)?(\^\^?)?)?/, C = /^(on[a-z]+|formaction)$/;
            this.directive = function t(n, i) {
                return ae(n, "directive"), w(n) ? (re(i, "directiveFactory"), a.hasOwnProperty(n) || (a[n] = [], e.factory(n + s, ["$injector", "$exceptionHandler", function (e, t) {
                    var i = [];
                    return o(a[n], function (o, a) {
                        try {
                            var s = e.invoke(o);
                            $(s) ? s = {compile: g(s)} : !s.compile && s.link && (s.compile = g(s.link)), s.priority = s.priority || 0, s.index = a, s.name = s.name || n, s.require = s.require || s.controller && s.name, s.restrict = s.restrict || "EA", b(s.scope) && (s.$$isolateBindings = r(s.scope, s.name)), i.push(s)
                        } catch (e) {
                            t(e)
                        }
                    }), i
                }])), a[n].push(i)) : o(n, l(t)), this
            }, this.aHrefSanitizationWhitelist = function (e) {
                return y(e) ? (i.aHrefSanitizationWhitelist(e), this) : i.aHrefSanitizationWhitelist()
            }, this.imgSrcSanitizationWhitelist = function (e) {
                return y(e) ? (i.imgSrcSanitizationWhitelist(e), this) : i.imgSrcSanitizationWhitelist()
            };
            var x = !0;
            this.debugInfoEnabled = function (e) {
                return y(e) ? (x = e, this) : x
            }, this.$get = ["$injector", "$interpolate", "$exceptionHandler", "$templateRequest", "$parse", "$controller", "$rootScope", "$document", "$sce", "$animate", "$$sanitizeUri", function (e, i, r, l, g, y, N, T, E, S, U) {
                function D(e, t) {
                    try {
                        e.addClass(t)
                    } catch (e) {
                    }
                }

                function A(e, t, n, i, r) {
                    e instanceof Zn || (e = Zn(e)), o(e, function (t, n) {
                        t.nodeType == yi && t.nodeValue.match(/\S+/) && (e[n] = Zn(t).wrap("<span></span>").parent()[0])
                    });
                    var a = _(e, t, e, n, i, r);
                    A.$$addScopeClass(e);
                    var s = null;
                    return function (t, n, i) {
                        re(t, "scope"), i = i || {};
                        var r = i.parentBoundTranscludeFn, o = i.transcludeControllers, l = i.futureParentElement;
                        r && r.$$boundTransclude && (r = r.$$boundTransclude), s || (s = B(l));
                        var c;
                        if (c = "html" !== s ? Zn(J(s, Zn("<div>").append(e).html())) : n ? Li.clone.call(e) : e, o)for (var d in o)c.data("$" + d + "Controller", o[d].instance);
                        return A.$$addScopeInfo(c, t), n && n(c, t), a && a(t, c, c, r), c
                    }
                }

                function B(e) {
                    var t = e && e[0];
                    return t && "foreignobject" !== M(t) && t.toString().match(/SVG/) ? "svg" : "html"
                }

                function _(e, t, i, r, o, a) {
                    function s(e, i, r, o) {
                        var a, s, l, c, d, u, f, h, g;
                        if (p) {
                            var v = i.length;
                            for (g = new Array(v), d = 0; d < m.length; d += 3)f = m[d], g[f] = i[f]
                        } else g = i;
                        for (d = 0, u = m.length; d < u;)l = g[m[d++]], a = m[d++], s = m[d++], a ? (a.scope ? (c = e.$new(), A.$$addScopeInfo(Zn(l), c)) : c = e, h = a.transcludeOnThisElement ? L(e, a.transclude, o, a.elementTranscludeOnThisElement) : !a.templateOnThisElement && o ? o : !o && t ? L(e, t) : null, a(s, c, l, r, h)) : s && s(e, l.childNodes, n, o)
                    }

                    for (var l, c, d, u, f, h, p, m = [], g = 0; g < e.length; g++)l = new ae, c = R(e[g], [], l, 0 === g ? r : n, o), d = c.length ? j(c, e[g], l, t, i, null, [], [], a) : null, d && d.scope && A.$$addScopeClass(l.$$element), f = d && d.terminal || !(u = e[g].childNodes) || !u.length ? null : _(u, d ? (d.transcludeOnThisElement || !d.templateOnThisElement) && d.transclude : t), (d || f) && (m.push(g, d, f), h = !0, p = p || d), a = null;
                    return h ? s : null
                }

                function L(e, t, n, i) {
                    var r = function (i, r, o, a, s) {
                        return i || (i = e.$new(!1, s), i.$$transcluded = !0), t(i, r, {
                            parentBoundTranscludeFn: n,
                            transcludeControllers: o,
                            futureParentElement: a
                        })
                    };
                    return r
                }

                function R(e, t, n, i, r) {
                    var o, a, s = e.nodeType, l = n.$attr;
                    switch (s) {
                        case vi:
                            q(t, Je(M(e)), "E", i, r);
                            for (var u, f, h, p, m, g, v = e.attributes, y = 0, C = v && v.length; y < C; y++) {
                                var x = !1, $ = !1;
                                u = v[y], f = u.name, m = ui(u.value), p = Je(f), (g = ue.test(p)) && (f = f.replace(Xi, "").substr(8).replace(/_(.)/g, function (e, t) {
                                    return t.toUpperCase()
                                }));
                                var N = p.replace(/(Start|End)$/, "");
                                z(N) && p === N + "Start" && (x = f, $ = f.substr(0, f.length - 5) + "end", f = f.substr(0, f.length - 6)), h = Je(f.toLowerCase()), l[h] = f, !g && n.hasOwnProperty(h) || (n[h] = m, Le(e, h) && (n[h] = !0)), ee(e, t, m, h, g), q(t, h, "A", i, r, x, $)
                            }
                            if (a = e.className, b(a) && (a = a.animVal), w(a) && "" !== a)for (; o = d.exec(a);)h = Je(o[2]), q(t, h, "C", i, r) && (n[h] = ui(o[3])), a = a.substr(o.index + o[0].length);
                            break;
                        case yi:
                            Q(t, e.nodeValue);
                            break;
                        case bi:
                            try {
                                o = c.exec(e.nodeValue), o && (h = Je(o[1]), q(t, h, "M", i, r) && (n[h] = ui(o[2])))
                            } catch (e) {
                            }
                    }
                    return t.sort(G), t
                }

                function P(e, t, n) {
                    var i = [], r = 0;
                    if (t && e.hasAttribute && e.hasAttribute(t)) {
                        do {
                            if (!e)throw Yi("uterdir", "Unterminated attribute, found '{0}' but no matching '{1}' found.", t, n);
                            e.nodeType == vi && (e.hasAttribute(t) && r++, e.hasAttribute(n) && r--), i.push(e), e = e.nextSibling
                        } while (r > 0)
                    } else i.push(e);
                    return Zn(i)
                }

                function F(e, t, n) {
                    return function (i, r, o, a, s) {
                        return r = P(r[0], t, n), e(i, r, o, a, s)
                    }
                }

                function j(e, a, s, l, c, d, u, f, h) {
                    function p(e, t, n, i) {
                        e && (n && (e = F(e, n, i)), e.require = T.require, e.directiveName = E, (M === T || T.$$isolateScope) && (e = ie(e, {isolateScope: !0})), u.push(e)), t && (n && (t = F(t, n, i)), t.require = T.require, t.directiveName = E, (M === T || T.$$isolateScope) && (t = ie(t, {isolateScope: !0})), f.push(t))
                    }

                    function m(e, t, n, i) {
                        var r, a, s = "data", l = !1, c = n;
                        if (w(t)) {
                            if (a = t.match(v), t = t.substring(a[0].length), a[3] && (a[1] ? a[3] = null : a[1] = a[3]), "^" === a[1] ? s = "inheritedData" : "^^" === a[1] && (s = "inheritedData", c = n.parent()), "?" === a[2] && (l = !0), r = null, i && "data" === s && (r = i[t]) && (r = r.instance), r = r || c[s]("$" + t + "Controller"), !r && !l)throw Yi("ctreq", "Controller '{0}', required by directive '{1}', can't be found!", t, e);
                            return r || null
                        }
                        return di(t) && (r = [], o(t, function (t) {
                            r.push(m(e, t, n, i))
                        })), r
                    }

                    function C(e, t, r, l, c) {
                        function d(e, t, i) {
                            var r;
                            return k(e) || (i = t, t = e, e = n), z && (r = C), i || (i = z ? $.parent() : $), c(e, t, r, i, U)
                        }

                        var h, p, v, b, w, C, x, $, T;
                        if (a === r ? (T = s, $ = s.$$element) : ($ = Zn(r), T = new ae($, s)), M && (w = t.$new(!0)), c && (x = d, x.$$boundTransclude = c), _ && (N = {}, C = {}, o(_, function (e) {
                                var n, i = {
                                    $scope: e === M || e.$$isolateScope ? w : t,
                                    $element: $,
                                    $attrs: T,
                                    $transclude: x
                                };
                                b = e.controller, "@" == b && (b = T[e.name]), n = y(b, i, !0, e.controllerAs), C[e.name] = n, z || $.data("$" + e.name + "Controller", n.instance), N[e.name] = n
                            })), M) {
                            A.$$addScopeInfo($, w, !0, !(I && (I === M || I === M.$$originalDirective))), A.$$addScopeClass($, !0);
                            var E = N && N[M.name], S = w;
                            E && E.identifier && M.bindToController === !0 && (S = E.instance), o(w.$$isolateBindings = M.$$isolateBindings, function (e, n) {
                                var r, o, a, s, l = e.attrName, c = e.optional, d = e.mode;
                                switch (d) {
                                    case"@":
                                        T.$observe(l, function (e) {
                                            S[n] = e
                                        }), T.$$observers[l].$$scope = t, T[l] && (S[n] = i(T[l])(t));
                                        break;
                                    case"=":
                                        if (c && !T[l])return;
                                        o = g(T[l]), s = o.literal ? O : function (e, t) {
                                            return e === t || e !== e && t !== t
                                        }, a = o.assign || function () {
                                                throw r = S[n] = o(t), Yi("nonassign", "Expression '{0}' used with directive '{1}' is non-assignable!", T[l], M.name)
                                            }, r = S[n] = o(t);
                                        var u = function (e) {
                                            return s(e, S[n]) || (s(e, r) ? a(t, e = S[n]) : S[n] = e), r = e
                                        };
                                        u.$stateful = !0;
                                        var f;
                                        f = e.collection ? t.$watchCollection(T[l], u) : t.$watch(g(T[l], u), null, o.literal), w.$on("$destroy", f);
                                        break;
                                    case"&":
                                        o = g(T[l]), S[n] = function (e) {
                                            return o(t, e)
                                        }
                                }
                            })
                        }
                        for (N && (o(N, function (e) {
                            e()
                        }), N = null), h = 0, p = u.length; h < p; h++)v = u[h], oe(v, v.isolateScope ? w : t, $, T, v.require && m(v.directiveName, v.require, $, C), x);
                        var U = t;
                        for (M && (M.template || null === M.templateUrl) && (U = w), e && e(U, r.childNodes, n, c), h = f.length - 1; h >= 0; h--)v = f[h], oe(v, v.isolateScope ? w : t, $, T, v.require && m(v.directiveName, v.require, $, C), x)
                    }

                    h = h || {};
                    for (var x, N, T, E, S, U, D, B = -Number.MAX_VALUE, _ = h.controllerDirectives, M = h.newIsolateScopeDirective, I = h.templateDirective, L = h.nonTlbTranscludeDirective, j = !1, q = !1, z = h.hasElementTranscludeDirective, G = s.$$element = Zn(a), Q = d, Z = l, ee = 0, ne = e.length; ee < ne; ee++) {
                        T = e[ee];
                        var re = T.$$start, se = T.$$end;
                        if (re && (G = P(a, re, se)), S = n, B > T.priority)break;
                        if ((D = T.scope) && (T.templateUrl || (b(D) ? (K("new/isolated scope", M || x, T, G), M = T) : K("new/isolated scope", M, T, G)), x = x || T), E = T.name, !T.templateUrl && T.controller && (D = T.controller, _ = _ || {}, K("'" + E + "' controller", _[E], T, G), _[E] = T), (D = T.transclude) && (j = !0, T.$$tlb || (K("transclusion", L, T, G), L = T), "element" == D ? (z = !0, B = T.priority, S = G, G = s.$$element = Zn(t.createComment(" " + E + ": " + s[E] + " ")), a = G[0], te(c, H(S), a), Z = A(S, l, B, Q && Q.name, {nonTlbTranscludeDirective: L})) : (S = Zn(Ce(a)).contents(), G.empty(), Z = A(S, l))), T.template)if (q = !0, K("template", I, T, G), I = T, D = $(T.template) ? T.template(G, s) : T.template, D = de(D), T.replace) {
                            if (Q = T, S = ge(D) ? [] : et(J(T.templateNamespace, ui(D))), a = S[0], 1 != S.length || a.nodeType !== vi)throw Yi("tplrt", "Template for directive '{0}' must have exactly one root element. {1}", E, "");
                            te(c, G, a);
                            var le = {$attr: {}}, ce = R(a, [], le), ue = e.splice(ee + 1, e.length - (ee + 1));
                            M && V(ce), e = e.concat(ce).concat(ue), Y(s, le), ne = e.length
                        } else G.html(D);
                        if (T.templateUrl)q = !0, K("template", I, T, G), I = T, T.replace && (Q = T), C = X(e.splice(ee, e.length - ee), G, s, c, j && Z, u, f, {
                            controllerDirectives: _,
                            newIsolateScopeDirective: M,
                            templateDirective: I,
                            nonTlbTranscludeDirective: L
                        }), ne = e.length; else if (T.compile)try {
                            U = T.compile(G, s, Z), $(U) ? p(null, U, re, se) : U && p(U.pre, U.post, re, se)
                        } catch (e) {
                            r(e, W(G))
                        }
                        T.terminal && (C.terminal = !0, B = Math.max(B, T.priority))
                    }
                    return C.scope = x && x.scope === !0, C.transcludeOnThisElement = j, C.elementTranscludeOnThisElement = z, C.templateOnThisElement = q, C.transclude = Z, h.hasElementTranscludeDirective = z, C
                }

                function V(e) {
                    for (var t = 0, n = e.length; t < n; t++)e[t] = h(e[t], {$$isolateScope: !0})
                }

                function q(t, i, o, l, c, d, u) {
                    if (i === c)return null;
                    var f = null;
                    if (a.hasOwnProperty(i))for (var p, m = e.get(i + s), g = 0, v = m.length; g < v; g++)try {
                        p = m[g], (l === n || l > p.priority) && p.restrict.indexOf(o) != -1 && (d && (p = h(p, {
                            $$start: d,
                            $$end: u
                        })), t.push(p), f = p)
                    } catch (e) {
                        r(e)
                    }
                    return f
                }

                function z(t) {
                    if (a.hasOwnProperty(t))for (var n, i = e.get(t + s), r = 0, o = i.length; r < o; r++)if (n = i[r], n.multiElement)return !0;
                    return !1
                }

                function Y(e, t) {
                    var n = t.$attr, i = e.$attr, r = e.$$element;
                    o(e, function (i, r) {
                        "$" != r.charAt(0) && (t[r] && t[r] !== i && (i += ("style" === r ? ";" : " ") + t[r]), e.$set(r, i, !0, n[r]))
                    }), o(t, function (t, o) {
                        "class" == o ? (D(r, t), e.class = (e.class ? e.class + " " : "") + t) : "style" == o ? (r.attr("style", r.attr("style") + ";" + t), e.style = (e.style ? e.style + ";" : "") + t) : "$" == o.charAt(0) || e.hasOwnProperty(o) || (e[o] = t, i[o] = n[o])
                    })
                }

                function X(e, t, n, i, r, a, s, c) {
                    var d, u, f = [], p = t[0], m = e.shift(), g = h(m, {
                        templateUrl: null,
                        transclude: null,
                        replace: null,
                        $$originalDirective: m
                    }), v = $(m.templateUrl) ? m.templateUrl(t, n) : m.templateUrl, y = m.templateNamespace;
                    return t.empty(), l(E.getTrustedResourceUrl(v)).then(function (l) {
                        var h, w, C, x;
                        if (l = de(l), m.replace) {
                            if (C = ge(l) ? [] : et(J(y, ui(l))), h = C[0], 1 != C.length || h.nodeType !== vi)throw Yi("tplrt", "Template for directive '{0}' must have exactly one root element. {1}", m.name, v);
                            w = {$attr: {}}, te(i, t, h);
                            var $ = R(h, [], w);
                            b(m.scope) && V($), e = $.concat(e), Y(n, w)
                        } else h = p, t.html(l);
                        for (e.unshift(g), d = j(e, h, n, r, t, m, a, s, c), o(i, function (e, n) {
                            e == h && (i[n] = t[0])
                        }), u = _(t[0].childNodes, r); f.length;) {
                            var N = f.shift(), T = f.shift(), k = f.shift(), E = f.shift(), S = t[0];
                            if (!N.$$destroyed) {
                                if (T !== p) {
                                    var U = T.className;
                                    c.hasElementTranscludeDirective && m.replace || (S = Ce(h)), te(k, Zn(T), S), D(Zn(S), U)
                                }
                                x = d.transcludeOnThisElement ? L(N, d.transclude, E) : E, d(u, N, S, i, x)
                            }
                        }
                        f = null
                    }), function (e, t, n, i, r) {
                        var o = r;
                        t.$$destroyed || (f ? f.push(t, n, i, o) : (d.transcludeOnThisElement && (o = L(t, d.transclude, r)), d(u, t, n, i, o)))
                    }
                }

                function G(e, t) {
                    var n = t.priority - e.priority;
                    return 0 !== n ? n : e.name !== t.name ? e.name < t.name ? -1 : 1 : e.index - t.index
                }

                function K(e, t, n, i) {
                    if (t)throw Yi("multidir", "Multiple directives [{0}, {1}] asking for {2} on: {3}", t.name, n.name, e, W(i))
                }

                function Q(e, t) {
                    var n = i(t, !0);
                    n && e.push({
                        priority: 0, compile: function (e) {
                            var t = e.parent(), i = !!t.length;
                            return i && A.$$addBindingClass(t), function (e, t) {
                                var r = t.parent();
                                i || A.$$addBindingClass(r), A.$$addBindingInfo(r, n.expressions), e.$watch(n, function (e) {
                                    t[0].nodeValue = e
                                })
                            }
                        }
                    })
                }

                function J(e, n) {
                    switch (e = Yn(e || "html")) {
                        case"svg":
                        case"math":
                            var i = t.createElement("div");
                            return i.innerHTML = "<" + e + ">" + n + "</" + e + ">", i.childNodes[0].childNodes;
                        default:
                            return n
                    }
                }

                function Z(e, t) {
                    if ("srcdoc" == t)return E.HTML;
                    var n = M(e);
                    return "xlinkHref" == t || "form" == n && "action" == t || "img" != n && ("src" == t || "ngSrc" == t) ? E.RESOURCE_URL : void 0
                }

                function ee(e, t, n, r, o) {
                    var a = Z(e, r);
                    o = f[r] || o;
                    var s = i(n, !0, a, o);
                    if (s) {
                        if ("multiple" === r && "select" === M(e))throw Yi("selmulti", "Binding to the 'multiple' attribute is not supported. Element: {0}", W(e));
                        t.push({
                            priority: 100, compile: function () {
                                return {
                                    pre: function (e, t, l) {
                                        var c = l.$$observers || (l.$$observers = {});
                                        if (C.test(r))throw Yi("nodomevents", "Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");
                                        var d = l[r];
                                        d !== n && (s = d && i(d, !0, a, o), n = d), s && (l[r] = s(e), (c[r] || (c[r] = [])).$$inter = !0, (l.$$observers && l.$$observers[r].$$scope || e).$watch(s, function (e, t) {
                                            "class" === r && e != t ? l.$updateClass(e, t) : l.$set(r, e)
                                        }))
                                    }
                                }
                            }
                        })
                    }
                }

                function te(e, n, i) {
                    var r, o, a = n[0], s = n.length, l = a.parentNode;
                    if (e)for (r = 0, o = e.length; r < o; r++)if (e[r] == a) {
                        e[r++] = i;
                        for (var c = r, d = c + s - 1, u = e.length; c < u; c++, d++)d < u ? e[c] = e[d] : delete e[c];
                        e.length -= s - 1, e.context === a && (e.context = i);
                        break
                    }
                    l && l.replaceChild(i, a);
                    var f = t.createDocumentFragment();
                    f.appendChild(a), Zn(i).data(Zn(a).data()), ei ? (ci = !0, ei.cleanData([a])) : delete Zn.cache[a[Zn.expando]];
                    for (var h = 1, p = n.length; h < p; h++) {
                        var m = n[h];
                        Zn(m).remove(), f.appendChild(m), delete n[h]
                    }
                    n[0] = i, n.length = 1
                }

                function ie(e, t) {
                    return u(function () {
                        return e.apply(null, arguments)
                    }, e, t)
                }

                function oe(e, t, n, i, o, a) {
                    try {
                        e(t, n, i, o, a)
                    } catch (e) {
                        r(e, W(n))
                    }
                }

                var ae = function (e, t) {
                    if (t) {
                        var n, i, r, o = Object.keys(t);
                        for (n = 0, i = o.length; n < i; n++)r = o[n], this[r] = t[r]
                    } else this.$attr = {};
                    this.$$element = e
                };
                ae.prototype = {
                    $normalize: Je, $addClass: function (e) {
                        e && e.length > 0 && S.addClass(this.$$element, e)
                    }, $removeClass: function (e) {
                        e && e.length > 0 && S.removeClass(this.$$element, e);
                    }, $updateClass: function (e, t) {
                        var n = Ze(e, t);
                        n && n.length && S.addClass(this.$$element, n);
                        var i = Ze(t, e);
                        i && i.length && S.removeClass(this.$$element, i)
                    }, $set: function (e, t, i, a) {
                        var s, l = this.$$element[0], c = Le(l, e), d = Re(l, e), u = e;
                        if (c ? (this.$$element.prop(e, t), a = c) : d && (this[d] = t, u = d), this[e] = t, a ? this.$attr[e] = a : (a = this.$attr[e], a || (this.$attr[e] = a = ne(e, "-"))), s = M(this.$$element), "a" === s && "href" === e || "img" === s && "src" === e)this[e] = t = U(t, "src" === e); else if ("img" === s && "srcset" === e) {
                            for (var f = "", h = ui(t), p = /(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/, m = /\s/.test(h) ? p : /(,)/, g = h.split(m), v = Math.floor(g.length / 2), y = 0; y < v; y++) {
                                var b = 2 * y;
                                f += U(ui(g[b]), !0), f += " " + ui(g[b + 1])
                            }
                            var w = ui(g[2 * y]).split(/\s/);
                            f += U(ui(w[0]), !0), 2 === w.length && (f += " " + ui(w[1])), this[e] = t = f
                        }
                        i !== !1 && (null === t || t === n ? this.$$element.removeAttr(a) : this.$$element.attr(a, t));
                        var C = this.$$observers;
                        C && o(C[u], function (e) {
                            try {
                                e(t)
                            } catch (e) {
                                r(e)
                            }
                        })
                    }, $observe: function (e, t) {
                        var n = this, i = n.$$observers || (n.$$observers = ce()), r = i[e] || (i[e] = []);
                        return r.push(t), N.$evalAsync(function () {
                            !r.$$inter && n.hasOwnProperty(e) && t(n[e])
                        }), function () {
                            I(r, t)
                        }
                    }
                };
                var se = i.startSymbol(), le = i.endSymbol(), de = "{{" == se || "}}" == le ? m : function (e) {
                    return e.replace(/\{\{/g, se).replace(/}}/g, le)
                }, ue = /^ngAttr[A-Z]/;
                return A.$$addBindingInfo = x ? function (e, t) {
                    var n = e.data("$binding") || [];
                    di(t) ? n = n.concat(t) : n.push(t), e.data("$binding", n)
                } : p, A.$$addBindingClass = x ? function (e) {
                    D(e, "ng-binding")
                } : p, A.$$addScopeInfo = x ? function (e, t, n, i) {
                    var r = n ? i ? "$isolateScopeNoTemplate" : "$isolateScope" : "$scope";
                    e.data(r, t)
                } : p, A.$$addScopeClass = x ? function (e, t) {
                    D(e, t ? "ng-isolate-scope" : "ng-scope")
                } : p, A
            }]
        }

        function Je(e) {
            return me(e.replace(Xi, ""))
        }

        function Ze(e, t) {
            var n = "", i = e.split(/\s+/), r = t.split(/\s+/);
            e:for (var o = 0; o < i.length; o++) {
                for (var a = i[o], s = 0; s < r.length; s++)if (a == r[s])continue e;
                n += (n.length > 0 ? " " : "") + a
            }
            return n
        }

        function et(e) {
            e = Zn(e);
            var t = e.length;
            if (t <= 1)return e;
            for (; t--;) {
                var n = e[t];
                n.nodeType === bi && ii.call(e, t, 1)
            }
            return e
        }

        function tt() {
            var e = {}, t = !1, r = /^(\S+)(\s+as\s+(\w+))?$/;
            this.register = function (t, n) {
                ae(t, "controller"), b(t) ? u(e, t) : e[t] = n
            }, this.allowGlobals = function () {
                t = !0
            }, this.$get = ["$injector", "$window", function (o, a) {
                function s(e, t, n, r) {
                    if (!e || !b(e.$scope))throw i("$controller")("noscp", "Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.", r, t);
                    e.$scope[t] = n
                }

                return function (i, l, c, d) {
                    var f, h, p, m;
                    if (c = c === !0, d && w(d) && (m = d), w(i)) {
                        if (h = i.match(r), !h)throw Gi("ctrlfmt", "Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.", i);
                        p = h[1], m = m || h[3], i = e.hasOwnProperty(p) ? e[p] : se(l.$scope, p, !0) || (t ? se(a, p, !0) : n), oe(i, p, !0)
                    }
                    if (c) {
                        var g = (di(i) ? i[i.length - 1] : i).prototype;
                        return f = Object.create(g || null), m && s(l, m, f, p || i.name), u(function () {
                            return o.invoke(i, f, l, p), f
                        }, {instance: f, identifier: m})
                    }
                    return f = o.instantiate(i, l, p), m && s(l, m, f, p || i.name), f
                }
            }]
        }

        function nt() {
            this.$get = ["$window", function (e) {
                return Zn(e.document)
            }]
        }

        function it() {
            this.$get = ["$log", function (e) {
                return function (t, n) {
                    e.error.apply(e, arguments)
                }
            }]
        }

        function rt(e, t) {
            if (w(e)) {
                var n = e.replace(er, "").trim();
                if (n) {
                    var i = t("Content-Type");
                    (i && 0 === i.indexOf(Ki) || ot(n)) && (e = q(n))
                }
            }
            return e
        }

        function ot(e) {
            var t = e.match(Ji);
            return t && Zi[t[0]].test(e)
        }

        function at(e) {
            var t, n, i, r = ce();
            return e ? (o(e.split("\n"), function (e) {
                i = e.indexOf(":"), t = Yn(ui(e.substr(0, i))), n = ui(e.substr(i + 1)), t && (r[t] = r[t] ? r[t] + ", " + n : n)
            }), r) : r
        }

        function st(e) {
            var t = b(e) ? e : n;
            return function (n) {
                if (t || (t = at(e)), n) {
                    var i = t[Yn(n)];
                    return void 0 === i && (i = null), i
                }
                return t
            }
        }

        function lt(e, t, n, i) {
            return $(i) ? i(e, t, n) : (o(i, function (i) {
                e = i(e, t, n)
            }), e)
        }

        function ct(e) {
            return 200 <= e && e < 300
        }

        function dt() {
            var e = this.defaults = {
                transformResponse: [rt],
                transformRequest: [function (e) {
                    return !b(e) || E(e) || U(e) || S(e) ? e : V(e)
                }],
                headers: {common: {Accept: "application/json, text/plain, */*"}, post: R(Qi), put: R(Qi), patch: R(Qi)},
                xsrfCookieName: "XSRF-TOKEN",
                xsrfHeaderName: "X-XSRF-TOKEN"
            }, t = !1;
            this.useApplyAsync = function (e) {
                return y(e) ? (t = !!e, this) : t
            };
            var r = this.interceptors = [];
            this.$get = ["$httpBackend", "$browser", "$cacheFactory", "$rootScope", "$q", "$injector", function (a, l, c, d, f, h) {
                function p(t) {
                    function r(e) {
                        var t = u({}, e);
                        return e.data ? t.data = lt(e.data, e.headers, e.status, l.transformResponse) : t.data = e.data, ct(e.status) ? t : f.reject(t)
                    }

                    function a(e) {
                        var t, n = {};
                        return o(e, function (e, i) {
                            $(e) ? (t = e(), null != t && (n[i] = t)) : n[i] = e
                        }), n
                    }

                    function s(t) {
                        var n, i, r, o = e.headers, s = u({}, t.headers);
                        o = u({}, o.common, o[Yn(t.method)]);
                        e:for (n in o) {
                            i = Yn(n);
                            for (r in s)if (Yn(r) === i)continue e;
                            s[n] = o[n]
                        }
                        return a(s)
                    }

                    if (!si.isObject(t))throw i("$http")("badreq", "Http request configuration must be an object.  Received: {0}", t);
                    var l = u({
                        method: "get",
                        transformRequest: e.transformRequest,
                        transformResponse: e.transformResponse
                    }, t);
                    l.headers = s(t), l.method = Gn(l.method);
                    var c = function (t) {
                        var i = t.headers, a = lt(t.data, st(i), n, t.transformRequest);
                        return v(a) && o(i, function (e, t) {
                            "content-type" === Yn(t) && delete i[t]
                        }), v(t.withCredentials) && !v(e.withCredentials) && (t.withCredentials = e.withCredentials), C(t, a).then(r, r)
                    }, d = [c, n], h = f.when(l);
                    for (o(k, function (e) {
                        (e.request || e.requestError) && d.unshift(e.request, e.requestError), (e.response || e.responseError) && d.push(e.response, e.responseError)
                    }); d.length;) {
                        var p = d.shift(), m = d.shift();
                        h = h.then(p, m)
                    }
                    return h.success = function (e) {
                        return h.then(function (t) {
                            e(t.data, t.status, t.headers, l)
                        }), h
                    }, h.error = function (e) {
                        return h.then(null, function (t) {
                            e(t.data, t.status, t.headers, l)
                        }), h
                    }, h
                }

                function m(e) {
                    o(arguments, function (e) {
                        p[e] = function (t, n) {
                            return p(u(n || {}, {method: e, url: t}))
                        }
                    })
                }

                function g(e) {
                    o(arguments, function (e) {
                        p[e] = function (t, n, i) {
                            return p(u(i || {}, {method: e, url: t, data: n}))
                        }
                    })
                }

                function C(i, r) {
                    function o(e, n, i, r) {
                        function o() {
                            s(n, e, i, r)
                        }

                        h && (ct(e) ? h.put(x, [e, n, at(i), r]) : h.remove(x)), t ? d.$applyAsync(o) : (o(), d.$$phase || d.$apply())
                    }

                    function s(e, t, n, r) {
                        t = Math.max(t, 0), (ct(t) ? g.resolve : g.reject)({
                            data: e,
                            status: t,
                            headers: st(n),
                            config: i,
                            statusText: r
                        })
                    }

                    function c(e) {
                        s(e.data, e.status, R(e.headers()), e.statusText)
                    }

                    function u() {
                        var e = p.pendingRequests.indexOf(i);
                        e !== -1 && p.pendingRequests.splice(e, 1)
                    }

                    var h, m, g = f.defer(), w = g.promise, C = i.headers, x = N(i.url, i.params);
                    if (p.pendingRequests.push(i), w.then(u, u), !i.cache && !e.cache || i.cache === !1 || "GET" !== i.method && "JSONP" !== i.method || (h = b(i.cache) ? i.cache : b(e.cache) ? e.cache : T), h && (m = h.get(x), y(m) ? A(m) ? m.then(c, c) : di(m) ? s(m[1], m[0], R(m[2]), m[3]) : s(m, 200, {}, "OK") : h.put(x, w)), v(m)) {
                        var $ = on(i.url) ? l.cookies()[i.xsrfCookieName || e.xsrfCookieName] : n;
                        $ && (C[i.xsrfHeaderName || e.xsrfHeaderName] = $), a(i.method, x, r, o, C, i.timeout, i.withCredentials, i.responseType)
                    }
                    return w
                }

                function N(e, t) {
                    if (!t)return e;
                    var n = [];
                    return s(t, function (e, t) {
                        null === e || v(e) || (di(e) || (e = [e]), o(e, function (e) {
                            b(e) && (e = x(e) ? e.toISOString() : V(e)), n.push(K(t) + "=" + K(e))
                        }))
                    }), n.length > 0 && (e += (e.indexOf("?") == -1 ? "?" : "&") + n.join("&")), e
                }

                var T = c("$http"), k = [];
                return o(r, function (e) {
                    k.unshift(w(e) ? h.get(e) : h.invoke(e))
                }), p.pendingRequests = [], m("get", "delete", "head", "jsonp"), g("post", "put", "patch"), p.defaults = e, p
            }]
        }

        function ut() {
            return new e.XMLHttpRequest
        }

        function ft() {
            this.$get = ["$browser", "$window", "$document", function (e, t, n) {
                return ht(e, ut, e.defer, t.angular.callbacks, n[0])
            }]
        }

        function ht(e, t, i, r, a) {
            function s(e, t, n) {
                var i = a.createElement("script"), o = null;
                return i.type = "text/javascript", i.src = e, i.async = !0, o = function (e) {
                    ki(i, "load", o), ki(i, "error", o), a.body.removeChild(i), i = null;
                    var s = -1, l = "unknown";
                    e && ("load" !== e.type || r[t].called || (e = {type: "error"}), l = e.type, s = "error" === e.type ? 404 : 200), n && n(s, l)
                }, Ti(i, "load", o), Ti(i, "error", o), a.body.appendChild(i), o
            }

            return function (a, l, c, d, u, f, h, m) {
                function g() {
                    w && w(), C && C.abort()
                }

                function v(t, r, o, a, s) {
                    $ !== n && i.cancel($), w = C = null, t(r, o, a, s), e.$$completeOutstandingRequest(p)
                }

                if (e.$$incOutstandingRequestCount(), l = l || e.url(), "jsonp" == Yn(a)) {
                    var b = "_" + (r.counter++).toString(36);
                    r[b] = function (e) {
                        r[b].data = e, r[b].called = !0
                    };
                    var w = s(l.replace("JSON_CALLBACK", "angular.callbacks." + b), b, function (e, t) {
                        v(d, e, r[b].data, "", t), r[b] = p
                    })
                } else {
                    var C = t();
                    C.open(a, l, !0), o(u, function (e, t) {
                        y(e) && C.setRequestHeader(t, e)
                    }), C.onload = function () {
                        var e = C.statusText || "", t = "response" in C ? C.response : C.responseText, n = 1223 === C.status ? 204 : C.status;
                        0 === n && (n = t ? 200 : "file" == rn(l).protocol ? 404 : 0), v(d, n, t, C.getAllResponseHeaders(), e)
                    };
                    var x = function () {
                        v(d, -1, null, null, "")
                    };
                    if (C.onerror = x, C.onabort = x, h && (C.withCredentials = !0), m)try {
                        C.responseType = m
                    } catch (e) {
                        if ("json" !== m)throw e
                    }
                    C.send(c || null)
                }
                if (f > 0)var $ = i(g, f); else A(f) && f.then(g)
            }
        }

        function pt() {
            var e = "{{", t = "}}";
            this.startSymbol = function (t) {
                return t ? (e = t, this) : e
            }, this.endSymbol = function (e) {
                return e ? (t = e, this) : t
            }, this.$get = ["$parse", "$exceptionHandler", "$sce", function (n, i, r) {
                function o(e) {
                    return "\\\\\\" + e
                }

                function a(o, a, f, h) {
                    function p(n) {
                        return n.replace(c, e).replace(d, t)
                    }

                    function m(e) {
                        try {
                            return e = U(e), h && !y(e) ? e : D(e)
                        } catch (e) {
                            var t = tr("interr", "Can't interpolate: {0}\n{1}", o, e.toString());
                            i(t)
                        }
                    }

                    h = !!h;
                    for (var g, b, w, C = 0, x = [], N = [], T = o.length, k = [], E = []; C < T;) {
                        if ((g = o.indexOf(e, C)) == -1 || (b = o.indexOf(t, g + s)) == -1) {
                            C !== T && k.push(p(o.substring(C)));
                            break
                        }
                        C !== g && k.push(p(o.substring(C, g))), w = o.substring(g + s, b), x.push(w), N.push(n(w, m)), C = b + l, E.push(k.length), k.push("")
                    }
                    if (f && k.length > 1)throw tr("noconcat", "Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce", o);
                    if (!a || x.length) {
                        var S = function (e) {
                            for (var t = 0, n = x.length; t < n; t++) {
                                if (h && v(e[t]))return;
                                k[E[t]] = e[t]
                            }
                            return k.join("")
                        }, U = function (e) {
                            return f ? r.getTrusted(f, e) : r.valueOf(e)
                        }, D = function (e) {
                            if (null == e)return "";
                            switch (typeof e) {
                                case"string":
                                    break;
                                case"number":
                                    e = "" + e;
                                    break;
                                default:
                                    e = V(e)
                            }
                            return e
                        };
                        return u(function (e) {
                            var t = 0, n = x.length, r = new Array(n);
                            try {
                                for (; t < n; t++)r[t] = N[t](e);
                                return S(r)
                            } catch (e) {
                                var a = tr("interr", "Can't interpolate: {0}\n{1}", o, e.toString());
                                i(a)
                            }
                        }, {
                            exp: o, expressions: x, $$watchDelegate: function (e, t, n) {
                                var i;
                                return e.$watchGroup(N, function (n, r) {
                                    var o = S(n);
                                    $(t) && t.call(this, o, n !== r ? i : o, e), i = o
                                }, n)
                            }
                        })
                    }
                }

                var s = e.length, l = t.length, c = new RegExp(e.replace(/./g, o), "g"), d = new RegExp(t.replace(/./g, o), "g");
                return a.startSymbol = function () {
                    return e
                }, a.endSymbol = function () {
                    return t
                }, a
            }]
        }

        function mt() {
            this.$get = ["$rootScope", "$window", "$q", "$$q", function (e, t, n, i) {
                function r(r, a, s, l) {
                    var c = t.setInterval, d = t.clearInterval, u = 0, f = y(l) && !l, h = (f ? i : n).defer(), p = h.promise;
                    return s = y(s) ? s : 0, p.then(null, null, r), p.$$intervalId = c(function () {
                        h.notify(u++), s > 0 && u >= s && (h.resolve(u), d(p.$$intervalId), delete o[p.$$intervalId]), f || e.$apply()
                    }, a), o[p.$$intervalId] = h, p
                }

                var o = {};
                return r.cancel = function (e) {
                    return !!(e && e.$$intervalId in o) && (o[e.$$intervalId].reject("canceled"), t.clearInterval(e.$$intervalId), delete o[e.$$intervalId], !0)
                }, r
            }]
        }

        function gt() {
            this.$get = function () {
                return {
                    id: "en-us",
                    NUMBER_FORMATS: {
                        DECIMAL_SEP: ".",
                        GROUP_SEP: ",",
                        PATTERNS: [{
                            minInt: 1,
                            minFrac: 0,
                            maxFrac: 3,
                            posPre: "",
                            posSuf: "",
                            negPre: "-",
                            negSuf: "",
                            gSize: 3,
                            lgSize: 3
                        }, {
                            minInt: 1,
                            minFrac: 2,
                            maxFrac: 2,
                            posPre: "Â¤",
                            posSuf: "",
                            negPre: "(Â¤",
                            negSuf: ")",
                            gSize: 3,
                            lgSize: 3
                        }],
                        CURRENCY_SYM: "$"
                    },
                    DATETIME_FORMATS: {
                        MONTH: "January,February,March,April,May,June,July,August,September,October,November,December".split(","),
                        SHORTMONTH: "Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),
                        DAY: "Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),
                        SHORTDAY: "Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),
                        AMPMS: ["AM", "PM"],
                        medium: "MMM d, y h:mm:ss a",
                        short: "M/d/yy h:mm a",
                        fullDate: "EEEE, MMMM d, y",
                        longDate: "MMMM d, y",
                        mediumDate: "MMM d, y",
                        shortDate: "M/d/yy",
                        mediumTime: "h:mm:ss a",
                        shortTime: "h:mm a"
                    },
                    pluralCat: function (e) {
                        return 1 === e ? "one" : "other"
                    }
                }
            }
        }

        function vt(e) {
            for (var t = e.split("/"), n = t.length; n--;)t[n] = G(t[n]);
            return t.join("/")
        }

        function yt(e, t) {
            var n = rn(e);
            t.$$protocol = n.protocol, t.$$host = n.hostname, t.$$port = f(n.port) || ir[n.protocol] || null
        }

        function bt(e, t) {
            var n = "/" !== e.charAt(0);
            n && (e = "/" + e);
            var i = rn(e);
            t.$$path = decodeURIComponent(n && "/" === i.pathname.charAt(0) ? i.pathname.substring(1) : i.pathname), t.$$search = Y(i.search), t.$$hash = decodeURIComponent(i.hash), t.$$path && "/" != t.$$path.charAt(0) && (t.$$path = "/" + t.$$path)
        }

        function wt(e, t) {
            if (0 === t.indexOf(e))return t.substr(e.length)
        }

        function Ct(e) {
            var t = e.indexOf("#");
            return t == -1 ? e : e.substr(0, t)
        }

        function xt(e) {
            return e.replace(/(#.+)|#$/, "$1")
        }

        function $t(e) {
            return e.substr(0, Ct(e).lastIndexOf("/") + 1)
        }

        function Nt(e) {
            return e.substring(0, e.indexOf("/", e.indexOf("//") + 2))
        }

        function Tt(e, t) {
            this.$$html5 = !0, t = t || "";
            var i = $t(e);
            yt(e, this), this.$$parse = function (e) {
                var t = wt(i, e);
                if (!w(t))throw rr("ipthprfx", 'Invalid url "{0}", missing path prefix "{1}".', e, i);
                bt(t, this), this.$$path || (this.$$path = "/"), this.$$compose()
            }, this.$$compose = function () {
                var e = X(this.$$search), t = this.$$hash ? "#" + G(this.$$hash) : "";
                this.$$url = vt(this.$$path) + (e ? "?" + e : "") + t, this.$$absUrl = i + this.$$url.substr(1)
            }, this.$$parseLinkUrl = function (r, o) {
                if (o && "#" === o[0])return this.hash(o.slice(1)), !0;
                var a, s, l;
                return (a = wt(e, r)) !== n ? (s = a, l = (a = wt(t, a)) !== n ? i + (wt("/", a) || a) : e + s) : (a = wt(i, r)) !== n ? l = i + a : i == r + "/" && (l = i), l && this.$$parse(l), !!l
            }
        }

        function kt(e, t) {
            var n = $t(e);
            yt(e, this), this.$$parse = function (i) {
                function r(e, t, n) {
                    var i, r = /^\/[A-Z]:(\/.*)/;
                    return 0 === t.indexOf(n) && (t = t.replace(n, "")), r.exec(t) ? e : (i = r.exec(e), i ? i[1] : e)
                }

                var o, a = wt(e, i) || wt(n, i);
                "#" === a.charAt(0) ? (o = wt(t, a), v(o) && (o = a)) : o = this.$$html5 ? a : "", bt(o, this), this.$$path = r(this.$$path, o, e), this.$$compose()
            }, this.$$compose = function () {
                var n = X(this.$$search), i = this.$$hash ? "#" + G(this.$$hash) : "";
                this.$$url = vt(this.$$path) + (n ? "?" + n : "") + i, this.$$absUrl = e + (this.$$url ? t + this.$$url : "")
            }, this.$$parseLinkUrl = function (t, n) {
                return Ct(e) == Ct(t) && (this.$$parse(t), !0)
            }
        }

        function Et(e, t) {
            this.$$html5 = !0, kt.apply(this, arguments);
            var n = $t(e);
            this.$$parseLinkUrl = function (i, r) {
                if (r && "#" === r[0])return this.hash(r.slice(1)), !0;
                var o, a;
                return e == Ct(i) ? o = i : (a = wt(n, i)) ? o = e + t + a : n === i + "/" && (o = n), o && this.$$parse(o), !!o
            }, this.$$compose = function () {
                var n = X(this.$$search), i = this.$$hash ? "#" + G(this.$$hash) : "";
                this.$$url = vt(this.$$path) + (n ? "?" + n : "") + i, this.$$absUrl = e + t + this.$$url
            }
        }

        function St(e) {
            return function () {
                return this[e]
            }
        }

        function Ut(e, t) {
            return function (n) {
                return v(n) ? this[e] : (this[e] = t(n), this.$$compose(), this)
            }
        }

        function Dt() {
            var e = "", t = {enabled: !1, requireBase: !0, rewriteLinks: !0};
            this.hashPrefix = function (t) {
                return y(t) ? (e = t, this) : e
            }, this.html5Mode = function (e) {
                return D(e) ? (t.enabled = e, this) : b(e) ? (D(e.enabled) && (t.enabled = e.enabled), D(e.requireBase) && (t.requireBase = e.requireBase), D(e.rewriteLinks) && (t.rewriteLinks = e.rewriteLinks), this) : t
            }, this.$get = ["$rootScope", "$browser", "$sniffer", "$rootElement", "$window", function (n, i, r, o, a) {
                function s(e, t, n) {
                    var r = c.url(), o = c.$$state;
                    try {
                        i.url(e, t, n), c.$$state = i.state()
                    } catch (e) {
                        throw c.url(r), c.$$state = o, e
                    }
                }

                function l(e, t) {
                    n.$broadcast("$locationChangeSuccess", c.absUrl(), e, c.$$state, t)
                }

                var c, d, u, f = i.baseHref(), h = i.url();
                if (t.enabled) {
                    if (!f && t.requireBase)throw rr("nobase", "$location in HTML5 mode requires a <base> tag to be present!");
                    u = Nt(h) + (f || "/"), d = r.history ? Tt : Et
                } else u = Ct(h), d = kt;
                c = new d(u, "#" + e), c.$$parseLinkUrl(h, h), c.$$state = i.state();
                var p = /^\s*(javascript|mailto):/i;
                o.on("click", function (e) {
                    if (t.rewriteLinks && !e.ctrlKey && !e.metaKey && !e.shiftKey && 2 != e.which && 2 != e.button) {
                        for (var r = Zn(e.target); "a" !== M(r[0]);)if (r[0] === o[0] || !(r = r.parent())[0])return;
                        var s = r.prop("href"), l = r.attr("href") || r.attr("xlink:href");
                        b(s) && "[object SVGAnimatedString]" === s.toString() && (s = rn(s.animVal).href), p.test(s) || !s || r.attr("target") || e.isDefaultPrevented() || c.$$parseLinkUrl(s, l) && (e.preventDefault(), c.absUrl() != i.url() && (n.$apply(), a.angular["ff-684208-preventDefault"] = !0))
                    }
                }), c.absUrl() != h && i.url(c.absUrl(), !0);
                var m = !0;
                return i.onUrlChange(function (e, t) {
                    n.$evalAsync(function () {
                        var i, r = c.absUrl(), o = c.$$state;
                        c.$$parse(e), c.$$state = t, i = n.$broadcast("$locationChangeStart", e, r, t, o).defaultPrevented, c.absUrl() === e && (i ? (c.$$parse(r), c.$$state = o, s(r, !1, o)) : (m = !1, l(r, o)))
                    }), n.$$phase || n.$digest()
                }), n.$watch(function () {
                    var e = xt(i.url()), t = xt(c.absUrl()), o = i.state(), a = c.$$replace, d = e !== t || c.$$html5 && r.history && o !== c.$$state;
                    (m || d) && (m = !1, n.$evalAsync(function () {
                        var t = c.absUrl(), i = n.$broadcast("$locationChangeStart", t, e, c.$$state, o).defaultPrevented;
                        c.absUrl() === t && (i ? (c.$$parse(e), c.$$state = o) : (d && s(t, a, o === c.$$state ? null : c.$$state), l(e, o)))
                    })), c.$$replace = !1
                }), c
            }]
        }

        function At() {
            var e = !0, t = this;
            this.debugEnabled = function (t) {
                return y(t) ? (e = t, this) : e
            }, this.$get = ["$window", function (n) {
                function i(e) {
                    return e instanceof Error && (e.stack ? e = e.message && e.stack.indexOf(e.message) === -1 ? "Error: " + e.message + "\n" + e.stack : e.stack : e.sourceURL && (e = e.message + "\n" + e.sourceURL + ":" + e.line)), e
                }

                function r(e) {
                    var t = n.console || {}, r = t[e] || t.log || p, a = !1;
                    try {
                        a = !!r.apply
                    } catch (e) {
                    }
                    return a ? function () {
                        var e = [];
                        return o(arguments, function (t) {
                            e.push(i(t))
                        }), r.apply(t, e)
                    } : function (e, t) {
                        r(e, null == t ? "" : t)
                    }
                }

                return {
                    log: r("log"), info: r("info"), warn: r("warn"), error: r("error"), debug: function () {
                        var n = r("debug");
                        return function () {
                            e && n.apply(t, arguments)
                        }
                    }()
                }
            }]
        }

        function Bt(e, t) {
            if ("__defineGetter__" === e || "__defineSetter__" === e || "__lookupGetter__" === e || "__lookupSetter__" === e || "__proto__" === e)throw ar("isecfld", "Attempting to access a disallowed field in Angular expressions! Expression: {0}", t);
            return e
        }

        function _t(e, t) {
            if (e) {
                if (e.constructor === e)throw ar("isecfn", "Referencing Function in Angular expressions is disallowed! Expression: {0}", t);
                if (e.window === e)throw ar("isecwindow", "Referencing the Window in Angular expressions is disallowed! Expression: {0}", t);
                if (e.children && (e.nodeName || e.prop && e.attr && e.find))throw ar("isecdom", "Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}", t);
                if (e === Object)throw ar("isecobj", "Referencing Object in Angular expressions is disallowed! Expression: {0}", t)
            }
            return e
        }

        function Mt(e, t) {
            if (e) {
                if (e.constructor === e)throw ar("isecfn", "Referencing Function in Angular expressions is disallowed! Expression: {0}", t);
                if (e === sr || e === lr || e === cr)throw ar("isecff", "Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}", t)
            }
        }

        function It(e) {
            return e.constant
        }

        function Lt(e, t, n, i, r) {
            _t(e, r), _t(t, r);
            for (var o, a = n.split("."), s = 0; a.length > 1; s++) {
                o = Bt(a.shift(), r);
                var l = 0 === s && t && t[o] || e[o];
                l || (l = {}, e[o] = l), e = _t(l, r)
            }
            return o = Bt(a.shift(), r), _t(e[o], r), e[o] = i, i
        }

        function Rt(e) {
            return "constructor" == e
        }

        function Ot(e, t, i, r, o, a, s) {
            Bt(e, a), Bt(t, a), Bt(i, a), Bt(r, a), Bt(o, a);
            var l = function (e) {
                return _t(e, a)
            }, c = s || Rt(e) ? l : m, d = s || Rt(t) ? l : m, u = s || Rt(i) ? l : m, f = s || Rt(r) ? l : m, h = s || Rt(o) ? l : m;
            return function (a, s) {
                var l = s && s.hasOwnProperty(e) ? s : a;
                return null == l ? l : (l = c(l[e]), t ? null == l ? n : (l = d(l[t]), i ? null == l ? n : (l = u(l[i]), r ? null == l ? n : (l = f(l[r]), o ? null == l ? n : l = h(l[o]) : l) : l) : l) : l)
            }
        }

        function Pt(e, t) {
            return function (n, i) {
                return e(n, i, _t, t)
            }
        }

        function Ht(e, t, i) {
            var r = t.expensiveChecks, a = r ? gr : mr, s = a[e];
            if (s)return s;
            var l = e.split("."), c = l.length;
            if (t.csp)s = c < 6 ? Ot(l[0], l[1], l[2], l[3], l[4], i, r) : function (e, t) {
                var o, a = 0;
                do o = Ot(l[a++], l[a++], l[a++], l[a++], l[a++], i, r)(e, t), t = n, e = o; while (a < c);
                return o
            }; else {
                var d = "";
                r && (d += "s = eso(s, fe);\nl = eso(l, fe);\n");
                var u = r;
                o(l, function (e, t) {
                    Bt(e, i);
                    var n = (t ? "s" : '((l&&l.hasOwnProperty("' + e + '"))?l:s)') + "." + e;
                    (r || Rt(e)) && (n = "eso(" + n + ", fe)", u = !0), d += "if(s == null) return undefined;\ns=" + n + ";\n"
                }), d += "return s;";
                var f = new Function("s", "l", "eso", "fe", d);
                f.toString = g(d), u && (f = Pt(f, i)), s = f
            }
            return s.sharedGetter = !0, s.assign = function (t, n, i) {
                return Lt(t, i, e, n, e)
            }, a[e] = s, s
        }

        function Ft(e) {
            return $(e.valueOf) ? e.valueOf() : vr.call(e)
        }

        function jt() {
            var e = ce(), t = ce();
            this.$get = ["$filter", "$sniffer", function (n, i) {
                function r(e) {
                    var t = e;
                    return e.sharedGetter && (t = function (t, n) {
                        return e(t, n)
                    }, t.literal = e.literal, t.constant = e.constant, t.assign = e.assign), t
                }

                function a(e, t) {
                    for (var n = 0, i = e.length; n < i; n++) {
                        var r = e[n];
                        r.constant || (r.inputs ? a(r.inputs, t) : t.indexOf(r) === -1 && t.push(r))
                    }
                    return t
                }

                function s(e, t) {
                    return null == e || null == t ? e === t : ("object" != typeof e || (e = Ft(e), "object" != typeof e)) && (e === t || e !== e && t !== t)
                }

                function l(e, t, n, i) {
                    var r, o = i.$$inputs || (i.$$inputs = a(i.inputs, []));
                    if (1 === o.length) {
                        var l = s;
                        return o = o[0], e.$watch(function (e) {
                            var t = o(e);
                            return s(t, l) || (r = i(e), l = t && Ft(t)), r
                        }, t, n)
                    }
                    for (var c = [], d = 0, u = o.length; d < u; d++)c[d] = s;
                    return e.$watch(function (e) {
                        for (var t = !1, n = 0, a = o.length; n < a; n++) {
                            var l = o[n](e);
                            (t || (t = !s(l, c[n]))) && (c[n] = l && Ft(l))
                        }
                        return t && (r = i(e)), r
                    }, t, n)
                }

                function c(e, t, n, i) {
                    var r, o;
                    return r = e.$watch(function (e) {
                        return i(e)
                    }, function (e, n, i) {
                        o = e, $(t) && t.apply(this, arguments), y(e) && i.$$postDigest(function () {
                            y(o) && r()
                        })
                    }, n)
                }

                function d(e, t, n, i) {
                    function r(e) {
                        var t = !0;
                        return o(e, function (e) {
                            y(e) || (t = !1)
                        }), t
                    }

                    var a, s;
                    return a = e.$watch(function (e) {
                        return i(e)
                    }, function (e, n, i) {
                        s = e, $(t) && t.call(this, e, n, i), r(e) && i.$$postDigest(function () {
                            r(s) && a()
                        })
                    }, n)
                }

                function u(e, t, n, i) {
                    var r;
                    return r = e.$watch(function (e) {
                        return i(e)
                    }, function (e, n, i) {
                        $(t) && t.apply(this, arguments), r()
                    }, n)
                }

                function f(e, t) {
                    if (!t)return e;
                    var n = e.$$watchDelegate, i = n !== d && n !== c, r = i ? function (n, i) {
                        var r = e(n, i);
                        return t(r, n, i)
                    } : function (n, i) {
                        var r = e(n, i), o = t(r, n, i);
                        return y(r) ? o : r
                    };
                    return e.$$watchDelegate && e.$$watchDelegate !== l ? r.$$watchDelegate = e.$$watchDelegate : t.$stateful || (r.$$watchDelegate = l, r.inputs = [e]), r
                }

                var h = {csp: i.csp, expensiveChecks: !1}, m = {csp: i.csp, expensiveChecks: !0};
                return function (i, o, a) {
                    var s, g, v;
                    switch (typeof i) {
                        case"string":
                            v = i = i.trim();
                            var y = a ? t : e;
                            if (s = y[v], !s) {
                                ":" === i.charAt(0) && ":" === i.charAt(1) && (g = !0, i = i.substring(2));
                                var b = a ? m : h, w = new hr(b), C = new pr(w, n, b);
                                s = C.parse(i), s.constant ? s.$$watchDelegate = u : g ? (s = r(s), s.$$watchDelegate = s.literal ? d : c) : s.inputs && (s.$$watchDelegate = l), y[v] = s
                            }
                            return f(s, o);
                        case"function":
                            return f(i, o);
                        default:
                            return f(p, o)
                    }
                }
            }]
        }

        function Vt() {
            this.$get = ["$rootScope", "$exceptionHandler", function (e, t) {
                return Wt(function (t) {
                    e.$evalAsync(t)
                }, t)
            }]
        }

        function qt() {
            this.$get = ["$browser", "$exceptionHandler", function (e, t) {
                return Wt(function (t) {
                    e.defer(t)
                }, t)
            }]
        }

        function Wt(e, t) {
            function r(e, t, n) {
                function i(t) {
                    return function (n) {
                        r || (r = !0, t.call(e, n))
                    }
                }

                var r = !1;
                return [i(t), i(n)]
            }

            function a() {
                this.$$state = {status: 0}
            }

            function s(e, t) {
                return function (n) {
                    t.call(e, n)
                }
            }

            function l(e) {
                var i, r, o;
                o = e.pending, e.processScheduled = !1, e.pending = n;
                for (var a = 0, s = o.length; a < s; ++a) {
                    r = o[a][0], i = o[a][e.status];
                    try {
                        $(i) ? r.resolve(i(e.value)) : 1 === e.status ? r.resolve(e.value) : r.reject(e.value)
                    } catch (e) {
                        r.reject(e), t(e)
                    }
                }
            }

            function c(t) {
                !t.processScheduled && t.pending && (t.processScheduled = !0, e(function () {
                    l(t)
                }))
            }

            function d() {
                this.promise = new a, this.resolve = s(this, this.resolve), this.reject = s(this, this.reject), this.notify = s(this, this.notify)
            }

            function u(e) {
                var t = new d, n = 0, i = di(e) ? [] : {};
                return o(e, function (e, r) {
                    n++, v(e).then(function (e) {
                        i.hasOwnProperty(r) || (i[r] = e, --n || t.resolve(i))
                    }, function (e) {
                        i.hasOwnProperty(r) || t.reject(e)
                    })
                }), 0 === n && t.resolve(i), t.promise
            }

            var f = i("$q", TypeError), h = function () {
                return new d
            };
            a.prototype = {
                then: function (e, t, n) {
                    var i = new d;
                    return this.$$state.pending = this.$$state.pending || [], this.$$state.pending.push([i, e, t, n]), this.$$state.status > 0 && c(this.$$state), i.promise
                }, catch: function (e) {
                    return this.then(null, e)
                }, finally: function (e, t) {
                    return this.then(function (t) {
                        return g(t, !0, e)
                    }, function (t) {
                        return g(t, !1, e)
                    }, t)
                }
            }, d.prototype = {
                resolve: function (e) {
                    this.promise.$$state.status || (e === this.promise ? this.$$reject(f("qcycle", "Expected promise to be resolved with value other than itself '{0}'", e)) : this.$$resolve(e))
                }, $$resolve: function (e) {
                    var n, i;
                    i = r(this, this.$$resolve, this.$$reject);
                    try {
                        (b(e) || $(e)) && (n = e && e.then), $(n) ? (this.promise.$$state.status = -1, n.call(e, i[0], i[1], this.notify)) : (this.promise.$$state.value = e, this.promise.$$state.status = 1, c(this.promise.$$state))
                    } catch (e) {
                        i[1](e), t(e)
                    }
                }, reject: function (e) {
                    this.promise.$$state.status || this.$$reject(e)
                }, $$reject: function (e) {
                    this.promise.$$state.value = e, this.promise.$$state.status = 2, c(this.promise.$$state)
                }, notify: function (n) {
                    var i = this.promise.$$state.pending;
                    this.promise.$$state.status <= 0 && i && i.length && e(function () {
                        for (var e, r, o = 0, a = i.length; o < a; o++) {
                            r = i[o][0], e = i[o][3];
                            try {
                                r.notify($(e) ? e(n) : n)
                            } catch (e) {
                                t(e)
                            }
                        }
                    })
                }
            };
            var p = function (e) {
                var t = new d;
                return t.reject(e), t.promise
            }, m = function (e, t) {
                var n = new d;
                return t ? n.resolve(e) : n.reject(e), n.promise
            }, g = function (e, t, n) {
                var i = null;
                try {
                    $(n) && (i = n())
                } catch (e) {
                    return m(e, !1)
                }
                return A(i) ? i.then(function () {
                    return m(e, t)
                }, function (e) {
                    return m(e, !1)
                }) : m(e, t)
            }, v = function (e, t, n, i) {
                var r = new d;
                return r.resolve(e), r.promise.then(t, n, i)
            }, y = function e(t) {
                function n(e) {
                    r.resolve(e)
                }

                function i(e) {
                    r.reject(e)
                }

                if (!$(t))throw f("norslvr", "Expected resolverFn, got '{0}'", t);
                if (!(this instanceof e))return new e(t);
                var r = new d;
                return t(n, i), r.promise
            };
            return y.defer = h, y.reject = p, y.when = v, y.all = u, y
        }

        function zt() {
            this.$get = ["$window", "$timeout", function (e, t) {
                var n = e.requestAnimationFrame || e.webkitRequestAnimationFrame, i = e.cancelAnimationFrame || e.webkitCancelAnimationFrame || e.webkitCancelRequestAnimationFrame, r = !!n, o = r ? function (e) {
                    var t = n(e);
                    return function () {
                        i(t)
                    }
                } : function (e) {
                    var n = t(e, 16.66, !1);
                    return function () {
                        t.cancel(n)
                    }
                };
                return o.supported = r, o
            }]
        }

        function Yt() {
            var e = 10, t = i("$rootScope"), n = null, a = null;
            this.digestTtl = function (t) {
                return arguments.length && (e = t), e
            }, this.$get = ["$injector", "$exceptionHandler", "$parse", "$browser", function (i, s, l, d) {
                function u() {
                    this.$id = c(), this.$$phase = this.$parent = this.$$watchers = this.$$nextSibling = this.$$prevSibling = this.$$childHead = this.$$childTail = null, this.$root = this, this.$$destroyed = !1, this.$$listeners = {}, this.$$listenerCount = {}, this.$$isolateBindings = null
                }

                function f(e) {
                    if (C.$$phase)throw t("inprog", "{0} already in progress", C.$$phase);
                    C.$$phase = e
                }

                function h() {
                    C.$$phase = null
                }

                function m(e, t, n) {
                    do e.$$listenerCount[n] -= t, 0 === e.$$listenerCount[n] && delete e.$$listenerCount[n]; while (e = e.$parent)
                }

                function g() {
                }

                function y() {
                    for (; T.length;)try {
                        T.shift()()
                    } catch (e) {
                        s(e)
                    }
                    a = null
                }

                function w() {
                    null === a && (a = d.defer(function () {
                        C.$apply(y)
                    }))
                }

                u.prototype = {
                    constructor: u, $new: function (e, t) {
                        function n() {
                            i.$$destroyed = !0
                        }

                        var i;
                        return t = t || this, e ? (i = new u, i.$root = this.$root) : (this.$$ChildScope || (this.$$ChildScope = function () {
                            this.$$watchers = this.$$nextSibling = this.$$childHead = this.$$childTail = null, this.$$listeners = {}, this.$$listenerCount = {}, this.$id = c(), this.$$ChildScope = null
                        }, this.$$ChildScope.prototype = this), i = new this.$$ChildScope), i.$parent = t, i.$$prevSibling = t.$$childTail, t.$$childHead ? (t.$$childTail.$$nextSibling = i, t.$$childTail = i) : t.$$childHead = t.$$childTail = i, (e || t != this) && i.$on("$destroy", n), i
                    }, $watch: function (e, t, i) {
                        var r = l(e);
                        if (r.$$watchDelegate)return r.$$watchDelegate(this, t, i, r);
                        var o = this, a = o.$$watchers, s = {fn: t, last: g, get: r, exp: e, eq: !!i};
                        return n = null, $(t) || (s.fn = p), a || (a = o.$$watchers = []), a.unshift(s), function () {
                            I(a, s), n = null
                        }
                    }, $watchGroup: function (e, t) {
                        function n() {
                            l = !1, c ? (c = !1, t(r, r, s)) : t(r, i, s)
                        }

                        var i = new Array(e.length), r = new Array(e.length), a = [], s = this, l = !1, c = !0;
                        if (!e.length) {
                            var d = !0;
                            return s.$evalAsync(function () {
                                d && t(r, r, s)
                            }), function () {
                                d = !1
                            }
                        }
                        return 1 === e.length ? this.$watch(e[0], function (e, n, o) {
                            r[0] = e, i[0] = n, t(r, e === n ? r : i, o)
                        }) : (o(e, function (e, t) {
                            var o = s.$watch(e, function (e, o) {
                                r[t] = e, i[t] = o, l || (l = !0, s.$evalAsync(n))
                            });
                            a.push(o)
                        }), function () {
                            for (; a.length;)a.shift()()
                        })
                    }, $watchCollection: function (e, t) {
                        function n(e) {
                            o = e;
                            var t, n, i, s, l;
                            if (!v(o)) {
                                if (b(o))if (r(o)) {
                                    a !== h && (a = h, g = a.length = 0, u++), t = o.length, g !== t && (u++, a.length = g = t);
                                    for (var c = 0; c < t; c++)l = a[c], s = o[c], i = l !== l && s !== s, i || l === s || (u++, a[c] = s)
                                } else {
                                    a !== p && (a = p = {}, g = 0, u++), t = 0;
                                    for (n in o)o.hasOwnProperty(n) && (t++, s = o[n], l = a[n], n in a ? (i = l !== l && s !== s, i || l === s || (u++, a[n] = s)) : (g++, a[n] = s, u++));
                                    if (g > t) {
                                        u++;
                                        for (n in a)o.hasOwnProperty(n) || (g--, delete a[n])
                                    }
                                } else a !== o && (a = o, u++);
                                return u
                            }
                        }

                        function i() {
                            if (m ? (m = !1, t(o, o, c)) : t(o, s, c), d)if (b(o))if (r(o)) {
                                s = new Array(o.length);
                                for (var e = 0; e < o.length; e++)s[e] = o[e]
                            } else {
                                s = {};
                                for (var n in o)Xn.call(o, n) && (s[n] = o[n])
                            } else s = o
                        }

                        n.$stateful = !0;
                        var o, a, s, c = this, d = t.length > 1, u = 0, f = l(e, n), h = [], p = {}, m = !0, g = 0;
                        return this.$watch(f, i)
                    }, $digest: function () {
                        var i, r, o, l, c, u, p, m, v, b, w = e, T = this, k = [];
                        f("$digest"), d.$$checkUrlChange(), this === C && null !== a && (d.defer.cancel(a), y()), n = null;
                        do {
                            for (u = !1, m = T; x.length;) {
                                try {
                                    b = x.shift(), b.scope.$eval(b.expression, b.locals)
                                } catch (e) {
                                    s(e)
                                }
                                n = null
                            }
                            e:do {
                                if (l = m.$$watchers)for (c = l.length; c--;)try {
                                    if (i = l[c])if ((r = i.get(m)) === (o = i.last) || (i.eq ? O(r, o) : "number" == typeof r && "number" == typeof o && isNaN(r) && isNaN(o))) {
                                        if (i === n) {
                                            u = !1;
                                            break e
                                        }
                                    } else u = !0, n = i, i.last = i.eq ? L(r, null) : r, i.fn(r, o === g ? r : o, m), w < 5 && (v = 4 - w, k[v] || (k[v] = []), k[v].push({
                                        msg: $(i.exp) ? "fn: " + (i.exp.name || i.exp.toString()) : i.exp,
                                        newVal: r,
                                        oldVal: o
                                    }))
                                } catch (e) {
                                    s(e)
                                }
                                if (!(p = m.$$childHead || m !== T && m.$$nextSibling))for (; m !== T && !(p = m.$$nextSibling);)m = m.$parent
                            } while (m = p);
                            if ((u || x.length) && !w--)throw h(), t("infdig", "{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}", e, k)
                        } while (u || x.length);
                        for (h(); N.length;)try {
                            N.shift()()
                        } catch (e) {
                            s(e)
                        }
                    }, $destroy: function () {
                        if (!this.$$destroyed) {
                            var e = this.$parent;
                            if (this.$broadcast("$destroy"), this.$$destroyed = !0, this !== C) {
                                for (var t in this.$$listenerCount)m(this, this.$$listenerCount[t], t);
                                e.$$childHead == this && (e.$$childHead = this.$$nextSibling), e.$$childTail == this && (e.$$childTail = this.$$prevSibling), this.$$prevSibling && (this.$$prevSibling.$$nextSibling = this.$$nextSibling), this.$$nextSibling && (this.$$nextSibling.$$prevSibling = this.$$prevSibling), this.$destroy = this.$digest = this.$apply = this.$evalAsync = this.$applyAsync = p, this.$on = this.$watch = this.$watchGroup = function () {
                                    return p
                                }, this.$$listeners = {}, this.$parent = this.$$nextSibling = this.$$prevSibling = this.$$childHead = this.$$childTail = this.$root = this.$$watchers = null
                            }
                        }
                    }, $eval: function (e, t) {
                        return l(e)(this, t)
                    }, $evalAsync: function (e, t) {
                        C.$$phase || x.length || d.defer(function () {
                            x.length && C.$digest()
                        }), x.push({scope: this, expression: e, locals: t})
                    }, $$postDigest: function (e) {
                        N.push(e)
                    }, $apply: function (e) {
                        try {
                            return f("$apply"), this.$eval(e)
                        } catch (e) {
                            s(e)
                        } finally {
                            h();
                            try {
                                C.$digest()
                            } catch (e) {
                                throw s(e), e
                            }
                        }
                    }, $applyAsync: function (e) {
                        function t() {
                            n.$eval(e)
                        }

                        var n = this;
                        e && T.push(t), w()
                    }, $on: function (e, t) {
                        var n = this.$$listeners[e];
                        n || (this.$$listeners[e] = n = []), n.push(t);
                        var i = this;
                        do i.$$listenerCount[e] || (i.$$listenerCount[e] = 0), i.$$listenerCount[e]++; while (i = i.$parent);
                        var r = this;
                        return function () {
                            var i = n.indexOf(t);
                            i !== -1 && (n[i] = null, m(r, 1, e))
                        }
                    }, $emit: function (e, t) {
                        var n, i, r, o = [], a = this, l = !1, c = {
                            name: e, targetScope: a, stopPropagation: function () {
                                l = !0
                            }, preventDefault: function () {
                                c.defaultPrevented = !0
                            }, defaultPrevented: !1
                        }, d = P([c], arguments, 1);
                        do {
                            for (n = a.$$listeners[e] || o, c.currentScope = a, i = 0, r = n.length; i < r; i++)if (n[i])try {
                                n[i].apply(null, d)
                            } catch (e) {
                                s(e)
                            } else n.splice(i, 1), i--, r--;
                            if (l)return c.currentScope = null, c;
                            a = a.$parent
                        } while (a);
                        return c.currentScope = null, c
                    }, $broadcast: function (e, t) {
                        var n = this, i = n, r = n, o = {
                            name: e, targetScope: n, preventDefault: function () {
                                o.defaultPrevented = !0
                            }, defaultPrevented: !1
                        };
                        if (!n.$$listenerCount[e])return o;
                        for (var a, l, c, d = P([o], arguments, 1); i = r;) {
                            for (o.currentScope = i, a = i.$$listeners[e] || [], l = 0, c = a.length; l < c; l++)if (a[l])try {
                                a[l].apply(null, d)
                            } catch (e) {
                                s(e)
                            } else a.splice(l, 1), l--, c--;
                            if (!(r = i.$$listenerCount[e] && i.$$childHead || i !== n && i.$$nextSibling))for (; i !== n && !(r = i.$$nextSibling);)i = i.$parent
                        }
                        return o.currentScope = null, o
                    }
                };
                var C = new u, x = C.$$asyncQueue = [], N = C.$$postDigestQueue = [], T = C.$$applyAsyncQueue = [];
                return C
            }]
        }

        function Xt() {
            var e = /^\s*(https?|ftp|mailto|tel|file):/, t = /^\s*((https?|ftp|file|blob):|data:image\/)/;
            this.aHrefSanitizationWhitelist = function (t) {
                return y(t) ? (e = t, this) : e
            }, this.imgSrcSanitizationWhitelist = function (e) {
                return y(e) ? (t = e, this) : t
            }, this.$get = function () {
                return function (n, i) {
                    var r, o = i ? t : e;
                    return r = rn(n).href, "" === r || r.match(o) ? n : "unsafe:" + r
                }
            }
        }

        function Gt(e) {
            if ("self" === e)return e;
            if (w(e)) {
                if (e.indexOf("***") > -1)throw yr("iwcard", "Illegal sequence *** in string matcher.  String: {0}", e);
                return e = fi(e).replace("\\*\\*", ".*").replace("\\*", "[^:/.?&;]*"), new RegExp("^" + e + "$")
            }
            if (N(e))return new RegExp("^" + e.source + "$");
            throw yr("imatcher", 'Matchers may only be "self", string patterns or RegExp objects')
        }

        function Kt(e) {
            var t = [];
            return y(e) && o(e, function (e) {
                t.push(Gt(e))
            }), t
        }

        function Qt() {
            this.SCE_CONTEXTS = br;
            var e = ["self"], t = [];
            this.resourceUrlWhitelist = function (t) {
                return arguments.length && (e = Kt(t)), e
            }, this.resourceUrlBlacklist = function (e) {
                return arguments.length && (t = Kt(e)), t
            }, this.$get = ["$injector", function (i) {
                function r(e, t) {
                    return "self" === e ? on(t) : !!e.exec(t.href)
                }

                function o(n) {
                    var i, o, a = rn(n.toString()), s = !1;
                    for (i = 0, o = e.length; i < o; i++)if (r(e[i], a)) {
                        s = !0;
                        break
                    }
                    if (s)for (i = 0, o = t.length; i < o; i++)if (r(t[i], a)) {
                        s = !1;
                        break
                    }
                    return s
                }

                function a(e) {
                    var t = function (e) {
                        this.$$unwrapTrustedValue = function () {
                            return e
                        }
                    };
                    return e && (t.prototype = new e), t.prototype.valueOf = function () {
                        return this.$$unwrapTrustedValue()
                    }, t.prototype.toString = function () {
                        return this.$$unwrapTrustedValue().toString()
                    }, t
                }

                function s(e, t) {
                    var i = f.hasOwnProperty(e) ? f[e] : null;
                    if (!i)throw yr("icontext", "Attempted to trust a value in invalid context. Context: {0}; Value: {1}", e, t);
                    if (null === t || t === n || "" === t)return t;
                    if ("string" != typeof t)throw yr("itype", "Attempted to trust a non-string value in a content requiring a string: Context: {0}", e);
                    return new i(t)
                }

                function l(e) {
                    return e instanceof u ? e.$$unwrapTrustedValue() : e
                }

                function c(e, t) {
                    if (null === t || t === n || "" === t)return t;
                    var i = f.hasOwnProperty(e) ? f[e] : null;
                    if (i && t instanceof i)return t.$$unwrapTrustedValue();
                    if (e === br.RESOURCE_URL) {
                        if (o(t))return t;
                        throw yr("insecurl", "Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}", t.toString())
                    }
                    if (e === br.HTML)return d(t);
                    throw yr("unsafe", "Attempting to use an unsafe value in a safe context.")
                }

                var d = function (e) {
                    throw yr("unsafe", "Attempting to use an unsafe value in a safe context.")
                };
                i.has("$sanitize") && (d = i.get("$sanitize"));
                var u = a(), f = {};
                return f[br.HTML] = a(u), f[br.CSS] = a(u), f[br.URL] = a(u), f[br.JS] = a(u), f[br.RESOURCE_URL] = a(f[br.URL]), {
                    trustAs: s,
                    getTrusted: c,
                    valueOf: l
                }
            }]
        }

        function Jt() {
            var e = !0;
            this.enabled = function (t) {
                return arguments.length && (e = !!t), e
            }, this.$get = ["$parse", "$sceDelegate", function (t, n) {
                if (e && Jn < 8)throw yr("iequirks", "Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");
                var i = R(br);
                i.isEnabled = function () {
                    return e
                }, i.trustAs = n.trustAs, i.getTrusted = n.getTrusted, i.valueOf = n.valueOf, e || (i.trustAs = i.getTrusted = function (e, t) {
                    return t
                }, i.valueOf = m), i.parseAs = function (e, n) {
                    var r = t(n);
                    return r.literal && r.constant ? r : t(n, function (t) {
                        return i.getTrusted(e, t)
                    })
                };
                var r = i.parseAs, a = i.getTrusted, s = i.trustAs;
                return o(br, function (e, t) {
                    var n = Yn(t);
                    i[me("parse_as_" + n)] = function (t) {
                        return r(e, t)
                    }, i[me("get_trusted_" + n)] = function (t) {
                        return a(e, t)
                    }, i[me("trust_as_" + n)] = function (t) {
                        return s(e, t)
                    }
                }), i
            }]
        }

        function Zt() {
            this.$get = ["$window", "$document", function (e, t) {
                var n, i, r = {}, o = f((/android (\d+)/.exec(Yn((e.navigator || {}).userAgent)) || [])[1]), a = /Boxee/i.test((e.navigator || {}).userAgent), s = t[0] || {}, l = /^(Moz|webkit|ms)(?=[A-Z])/, c = s.body && s.body.style, d = !1, u = !1;
                if (c) {
                    for (var h in c)if (i = l.exec(h)) {
                        n = i[0], n = n.substr(0, 1).toUpperCase() + n.substr(1);
                        break
                    }
                    n || (n = "WebkitOpacity" in c && "webkit"), d = !!("transition" in c || n + "Transition" in c), u = !!("animation" in c || n + "Animation" in c), !o || d && u || (d = w(s.body.style.webkitTransition), u = w(s.body.style.webkitAnimation))
                }
                return {
                    history: !(!e.history || !e.history.pushState || o < 4 || a), hasEvent: function (e) {
                        if ("input" === e && Jn <= 11)return !1;
                        if (v(r[e])) {
                            var t = s.createElement("div");
                            r[e] = "on" + e in t
                        }
                        return r[e]
                    }, csp: hi(), vendorPrefix: n, transitions: d, animations: u, android: o
                }
            }]
        }

        function en() {
            this.$get = ["$templateCache", "$http", "$q", function (e, t, n) {
                function i(r, o) {
                    function a(e) {
                        if (!o)throw Yi("tpload", "Failed to load template: {0}", r);
                        return n.reject(e)
                    }

                    i.totalPendingRequests++;
                    var s = t.defaults && t.defaults.transformResponse;
                    di(s) ? s = s.filter(function (e) {
                        return e !== rt
                    }) : s === rt && (s = null);
                    var l = {cache: e, transformResponse: s};
                    return t.get(r, l).finally(function () {
                        i.totalPendingRequests--
                    }).then(function (e) {
                        return e.data
                    }, a)
                }

                return i.totalPendingRequests = 0, i
            }]
        }

        function tn() {
            this.$get = ["$rootScope", "$browser", "$location", function (e, t, n) {
                var i = {};
                return i.findBindings = function (e, t, n) {
                    var i = e.getElementsByClassName("ng-binding"), r = [];
                    return o(i, function (e) {
                        var i = si.element(e).data("$binding");
                        i && o(i, function (i) {
                            if (n) {
                                var o = new RegExp("(^|\\s)" + fi(t) + "(\\s|\\||$)");
                                o.test(i) && r.push(e)
                            } else i.indexOf(t) != -1 && r.push(e)
                        })
                    }), r
                }, i.findModels = function (e, t, n) {
                    for (var i = ["ng-", "data-ng-", "ng\\:"], r = 0; r < i.length; ++r) {
                        var o = n ? "=" : "*=", a = "[" + i[r] + "model" + o + '"' + t + '"]', s = e.querySelectorAll(a);
                        if (s.length)return s
                    }
                }, i.getLocation = function () {
                    return n.url()
                }, i.setLocation = function (t) {
                    t !== n.url() && (n.url(t), e.$digest())
                }, i.whenStable = function (e) {
                    t.notifyWhenNoOutstandingRequests(e)
                }, i
            }]
        }

        function nn() {
            this.$get = ["$rootScope", "$browser", "$q", "$$q", "$exceptionHandler", function (e, t, n, i, r) {
                function o(o, s, l) {
                    var c, d = y(l) && !l, u = (d ? i : n).defer(), f = u.promise;
                    return c = t.defer(function () {
                        try {
                            u.resolve(o())
                        } catch (e) {
                            u.reject(e), r(e)
                        } finally {
                            delete a[f.$$timeoutId]
                        }
                        d || e.$apply()
                    }, s), f.$$timeoutId = c, a[c] = u, f
                }

                var a = {};
                return o.cancel = function (e) {
                    return !!(e && e.$$timeoutId in a) && (a[e.$$timeoutId].reject("canceled"), delete a[e.$$timeoutId], t.defer.cancel(e.$$timeoutId))
                }, o
            }]
        }

        function rn(e) {
            var t = e;
            return Jn && (wr.setAttribute("href", t), t = wr.href), wr.setAttribute("href", t), {
                href: wr.href,
                protocol: wr.protocol ? wr.protocol.replace(/:$/, "") : "",
                host: wr.host,
                search: wr.search ? wr.search.replace(/^\?/, "") : "",
                hash: wr.hash ? wr.hash.replace(/^#/, "") : "",
                hostname: wr.hostname,
                port: wr.port,
                pathname: "/" === wr.pathname.charAt(0) ? wr.pathname : "/" + wr.pathname
            }
        }

        function on(e) {
            var t = w(e) ? rn(e) : e;
            return t.protocol === Cr.protocol && t.host === Cr.host
        }

        function an() {
            this.$get = g(e)
        }

        function sn(e) {
            function t(i, r) {
                if (b(i)) {
                    var a = {};
                    return o(i, function (e, n) {
                        a[n] = t(n, e)
                    }), a
                }
                return e.factory(i + n, r)
            }

            var n = "Filter";
            this.register = t, this.$get = ["$injector", function (e) {
                return function (t) {
                    return e.get(t + n)
                }
            }], t("currency", un), t("date", xn), t("filter", ln), t("json", $n), t("limitTo", Nn), t("lowercase", kr), t("number", fn), t("orderBy", Tn), t("uppercase", Er)
        }

        function ln() {
            return function (e, t, n) {
                if (!di(e))return e;
                var i, r;
                switch (typeof t) {
                    case"function":
                        i = t;
                        break;
                    case"boolean":
                    case"number":
                    case"string":
                        r = !0;
                    case"object":
                        i = cn(t, n, r);
                        break;
                    default:
                        return e
                }
                return e.filter(i)
            }
        }

        function cn(e, t, n) {
            var i, r = b(e) && "$" in e;
            return t === !0 ? t = O : $(t) || (t = function (e, t) {
                return !b(e) && !b(t) && (e = Yn("" + e), t = Yn("" + t), e.indexOf(t) !== -1)
            }), i = function (i) {
                return r && !b(i) ? dn(i, e.$, t, !1) : dn(i, e, t, n)
            }
        }

        function dn(e, t, n, i, r) {
            var o = typeof e, a = typeof t;
            if ("string" === a && "!" === t.charAt(0))return !dn(e, t.substring(1), n, i);
            if (di(e))return e.some(function (e) {
                return dn(e, t, n, i)
            });
            switch (o) {
                case"object":
                    var s;
                    if (i) {
                        for (s in e)if ("$" !== s.charAt(0) && dn(e[s], t, n, !0))return !0;
                        return !r && dn(e, t, n, !1)
                    }
                    if ("object" === a) {
                        for (s in t) {
                            var l = t[s];
                            if (!$(l)) {
                                var c = "$" === s, d = c ? e : e[s];
                                if (!dn(d, l, n, c, c))return !1
                            }
                        }
                        return !0
                    }
                    return n(e, t);
                case"function":
                    return !1;
                default:
                    return n(e, t)
            }
        }

        function un(e) {
            var t = e.NUMBER_FORMATS;
            return function (e, n, i) {
                return v(n) && (n = t.CURRENCY_SYM), v(i) && (i = t.PATTERNS[1].maxFrac), null == e ? e : hn(e, t.PATTERNS[1], t.GROUP_SEP, t.DECIMAL_SEP, i).replace(/\u00A4/g, n)
            }
        }

        function fn(e) {
            var t = e.NUMBER_FORMATS;
            return function (e, n) {
                return null == e ? e : hn(e, t.PATTERNS[0], t.GROUP_SEP, t.DECIMAL_SEP, n)
            }
        }

        function hn(e, t, n, i, r) {
            if (!isFinite(e) || b(e))return "";
            var o = e < 0;
            e = Math.abs(e);
            var a = e + "", s = "", l = [], c = !1;
            if (a.indexOf("e") !== -1) {
                var d = a.match(/([\d\.]+)e(-?)(\d+)/);
                d && "-" == d[2] && d[3] > r + 1 ? e = 0 : (s = a, c = !0)
            }
            if (c)r > 0 && e < 1 && (s = e.toFixed(r), e = parseFloat(s)); else {
                var u = (a.split(xr)[1] || "").length;
                v(r) && (r = Math.min(Math.max(t.minFrac, u), t.maxFrac)), e = +(Math.round(+(e.toString() + "e" + r)).toString() + "e" + -r);
                var f = ("" + e).split(xr), h = f[0];
                f = f[1] || "";
                var p, m = 0, g = t.lgSize, y = t.gSize;
                if (h.length >= g + y)for (m = h.length - g, p = 0; p < m; p++)(m - p) % y === 0 && 0 !== p && (s += n), s += h.charAt(p);
                for (p = m; p < h.length; p++)(h.length - p) % g === 0 && 0 !== p && (s += n), s += h.charAt(p);
                for (; f.length < r;)f += "0";
                r && "0" !== r && (s += i + f.substr(0, r))
            }
            return 0 === e && (o = !1), l.push(o ? t.negPre : t.posPre, s, o ? t.negSuf : t.posSuf), l.join("")
        }

        function pn(e, t, n) {
            var i = "";
            for (e < 0 && (i = "-", e = -e), e = "" + e; e.length < t;)e = "0" + e;
            return n && (e = e.substr(e.length - t)), i + e
        }

        function mn(e, t, n, i) {
            return n = n || 0, function (r) {
                var o = r["get" + e]();
                return (n > 0 || o > -n) && (o += n), 0 === o && n == -12 && (o = 12), pn(o, t, i)
            }
        }

        function gn(e, t) {
            return function (n, i) {
                var r = n["get" + e](), o = Gn(t ? "SHORT" + e : e);
                return i[o][r]
            }
        }

        function vn(e) {
            var t = -1 * e.getTimezoneOffset(), n = t >= 0 ? "+" : "";
            return n += pn(Math[t > 0 ? "floor" : "ceil"](t / 60), 2) + pn(Math.abs(t % 60), 2)
        }

        function yn(e) {
            var t = new Date(e, 0, 1).getDay();
            return new Date(e, 0, (t <= 4 ? 5 : 12) - t)
        }

        function bn(e) {
            return new Date(e.getFullYear(), e.getMonth(), e.getDate() + (4 - e.getDay()))
        }

        function wn(e) {
            return function (t) {
                var n = yn(t.getFullYear()), i = bn(t), r = +i - +n, o = 1 + Math.round(r / 6048e5);
                return pn(o, e)
            }
        }

        function Cn(e, t) {
            return e.getHours() < 12 ? t.AMPMS[0] : t.AMPMS[1]
        }

        function xn(e) {
            function t(e) {
                var t;
                if (t = e.match(n)) {
                    var i = new Date(0), r = 0, o = 0, a = t[8] ? i.setUTCFullYear : i.setFullYear, s = t[8] ? i.setUTCHours : i.setHours;
                    t[9] && (r = f(t[9] + t[10]), o = f(t[9] + t[11])), a.call(i, f(t[1]), f(t[2]) - 1, f(t[3]));
                    var l = f(t[4] || 0) - r, c = f(t[5] || 0) - o, d = f(t[6] || 0), u = Math.round(1e3 * parseFloat("0." + (t[7] || 0)));
                    return s.call(i, l, c, d, u), i
                }
                return e
            }

            var n = /^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;
            return function (n, i, r) {
                var a, s, l = "", c = [];
                if (i = i || "mediumDate", i = e.DATETIME_FORMATS[i] || i, w(n) && (n = Tr.test(n) ? f(n) : t(n)), C(n) && (n = new Date(n)), !x(n))return n;
                for (; i;)s = Nr.exec(i), s ? (c = P(c, s, 1), i = c.pop()) : (c.push(i), i = null);
                return r && "UTC" === r && (n = new Date(n.getTime()), n.setMinutes(n.getMinutes() + n.getTimezoneOffset())), o(c, function (t) {
                    a = $r[t], l += a ? a(n, e.DATETIME_FORMATS) : t.replace(/(^'|'$)/g, "").replace(/''/g, "'")
                }), l
            }
        }

        function $n() {
            return function (e, t) {
                return v(t) && (t = 2), V(e, t)
            }
        }

        function Nn() {
            return function (e, t) {
                return C(e) && (e = e.toString()), di(e) || w(e) ? (t = Math.abs(Number(t)) === 1 / 0 ? Number(t) : f(t), t ? t > 0 ? e.slice(0, t) : e.slice(t) : w(e) ? "" : []) : e
            }
        }

        function Tn(e) {
            return function (t, n, i) {
                function o(e, t) {
                    for (var i = 0; i < n.length; i++) {
                        var r = n[i](e, t);
                        if (0 !== r)return r
                    }
                    return 0
                }

                function a(e, t) {
                    return t ? function (t, n) {
                        return e(n, t)
                    } : e
                }

                function s(e) {
                    switch (typeof e) {
                        case"number":
                        case"boolean":
                        case"string":
                            return !0;
                        default:
                            return !1
                    }
                }

                function l(e) {
                    return null === e ? "null" : "function" == typeof e.valueOf && (e = e.valueOf(), s(e)) ? e : "function" == typeof e.toString && (e = e.toString(), s(e)) ? e : ""
                }

                function c(e, t) {
                    var n = typeof e, i = typeof t;
                    return n === i && "object" === n && (e = l(e), t = l(t)), n === i ? ("string" === n && (e = e.toLowerCase(), t = t.toLowerCase()), e === t ? 0 : e < t ? -1 : 1) : n < i ? -1 : 1
                }

                return r(t) ? (n = di(n) ? n : [n], 0 === n.length && (n = ["+"]), n = n.map(function (t) {
                    var n = !1, i = t || m;
                    if (w(t)) {
                        if ("+" != t.charAt(0) && "-" != t.charAt(0) || (n = "-" == t.charAt(0), t = t.substring(1)), "" === t)return a(c, n);
                        if (i = e(t), i.constant) {
                            var r = i();
                            return a(function (e, t) {
                                return c(e[r], t[r])
                            }, n)
                        }
                    }
                    return a(function (e, t) {
                        return c(i(e), i(t))
                    }, n)
                }), ni.call(t).sort(a(o, i))) : t
            }
        }

        function kn(e) {
            return $(e) && (e = {link: e}), e.restrict = e.restrict || "AC", g(e)
        }

        function En(e, t) {
            e.$name = t
        }

        function Sn(e, t, i, r, a) {
            var s = this, l = [], c = s.$$parentForm = e.parent().controller("form") || Dr;
            s.$error = {}, s.$$success = {}, s.$pending = n, s.$name = a(t.name || t.ngForm || "")(i), s.$dirty = !1, s.$pristine = !0, s.$valid = !0, s.$invalid = !1, s.$submitted = !1, c.$addControl(s), s.$rollbackViewValue = function () {
                o(l, function (e) {
                    e.$rollbackViewValue()
                })
            }, s.$commitViewValue = function () {
                o(l, function (e) {
                    e.$commitViewValue()
                })
            }, s.$addControl = function (e) {
                ae(e.$name, "input"), l.push(e), e.$name && (s[e.$name] = e)
            }, s.$$renameControl = function (e, t) {
                var n = e.$name;
                s[n] === e && delete s[n], s[t] = e, e.$name = t
            }, s.$removeControl = function (e) {
                e.$name && s[e.$name] === e && delete s[e.$name], o(s.$pending, function (t, n) {
                    s.$setValidity(n, null, e)
                }), o(s.$error, function (t, n) {
                    s.$setValidity(n, null, e)
                }), o(s.$$success, function (t, n) {
                    s.$setValidity(n, null, e)
                }), I(l, e)
            }, Vn({
                ctrl: this, $element: e, set: function (e, t, n) {
                    var i = e[t];
                    if (i) {
                        var r = i.indexOf(n);
                        r === -1 && i.push(n)
                    } else e[t] = [n]
                }, unset: function (e, t, n) {
                    var i = e[t];
                    i && (I(i, n), 0 === i.length && delete e[t])
                }, parentForm: c, $animate: r
            }), s.$setDirty = function () {
                r.removeClass(e, ho), r.addClass(e, po), s.$dirty = !0, s.$pristine = !1, c.$setDirty()
            }, s.$setPristine = function () {
                r.setClass(e, ho, po + " " + Ar), s.$dirty = !1, s.$pristine = !0, s.$submitted = !1, o(l, function (e) {
                    e.$setPristine()
                })
            }, s.$setUntouched = function () {
                o(l, function (e) {
                    e.$setUntouched()
                })
            }, s.$setSubmitted = function () {
                r.addClass(e, Ar), s.$submitted = !0, c.$setSubmitted()
            }
        }

        function Un(e) {
            e.$formatters.push(function (t) {
                return e.$isEmpty(t) ? t : t.toString()
            })
        }

        function Dn(e, t, n, i, r, o) {
            An(e, t, n, i, r, o), Un(i)
        }

        function An(e, t, n, i, r, o) {
            var a = Yn(t[0].type);
            if (!r.android) {
                var s = !1;
                t.on("compositionstart", function (e) {
                    s = !0
                }), t.on("compositionend", function () {
                    s = !1, l()
                })
            }
            var l = function (e) {
                if (c && (o.defer.cancel(c), c = null), !s) {
                    var r = t.val(), l = e && e.type;
                    "password" === a || n.ngTrim && "false" === n.ngTrim || (r = ui(r)), (i.$viewValue !== r || "" === r && i.$$hasNativeValidators) && i.$setViewValue(r, l)
                }
            };
            if (r.hasEvent("input"))t.on("input", l); else {
                var c, d = function (e, t, n) {
                    c || (c = o.defer(function () {
                        c = null, t && t.value === n || l(e)
                    }))
                };
                t.on("keydown", function (e) {
                    var t = e.keyCode;
                    91 === t || 15 < t && t < 19 || 37 <= t && t <= 40 || d(e, this, this.value)
                }), r.hasEvent("paste") && t.on("paste cut", d)
            }
            t.on("change", l), i.$render = function () {
                t.val(i.$isEmpty(i.$viewValue) ? "" : i.$viewValue)
            }
        }

        function Bn(e, t) {
            if (x(e))return e;
            if (w(e)) {
                Fr.lastIndex = 0;
                var n = Fr.exec(e);
                if (n) {
                    var i = +n[1], r = +n[2], o = 0, a = 0, s = 0, l = 0, c = yn(i), d = 7 * (r - 1);
                    return t && (o = t.getHours(), a = t.getMinutes(), s = t.getSeconds(), l = t.getMilliseconds()), new Date(i, 0, c.getDate() + d, o, a, s, l)
                }
            }
            return NaN
        }

        function _n(e, t) {
            return function (n, i) {
                var r, a;
                if (x(n))return n;
                if (w(n)) {
                    if ('"' == n.charAt(0) && '"' == n.charAt(n.length - 1) && (n = n.substring(1, n.length - 1)), Ir.test(n))return new Date(n);
                    if (e.lastIndex = 0, r = e.exec(n))return r.shift(), a = i ? {
                        yyyy: i.getFullYear(),
                        MM: i.getMonth() + 1,
                        dd: i.getDate(),
                        HH: i.getHours(),
                        mm: i.getMinutes(),
                        ss: i.getSeconds(),
                        sss: i.getMilliseconds() / 1e3
                    } : {yyyy: 1970, MM: 1, dd: 1, HH: 0, mm: 0, ss: 0, sss: 0}, o(r, function (e, n) {
                        n < t.length && (a[t[n]] = +e)
                    }), new Date(a.yyyy, a.MM - 1, a.dd, a.HH, a.mm, a.ss || 0, 1e3 * a.sss || 0)
                }
                return NaN
            }
        }

        function Mn(e, t, i, r) {
            return function (o, a, s, l, c, d, u) {
                function f(e) {
                    return e && !(e.getTime && e.getTime() !== e.getTime())
                }

                function h(e) {
                    return y(e) ? x(e) ? e : i(e) : n
                }

                In(o, a, s, l), An(o, a, s, l, c, d);
                var p, m = l && l.$options && l.$options.timezone;
                if (l.$$parserName = e, l.$parsers.push(function (e) {
                        if (l.$isEmpty(e))return null;
                        if (t.test(e)) {
                            var r = i(e, p);
                            return "UTC" === m && r.setMinutes(r.getMinutes() - r.getTimezoneOffset()), r
                        }
                        return n
                    }), l.$formatters.push(function (e) {
                        if (e && !x(e))throw yo("datefmt", "Expected `{0}` to be a date", e);
                        if (f(e)) {
                            if (p = e, p && "UTC" === m) {
                                var t = 6e4 * p.getTimezoneOffset();
                                p = new Date(p.getTime() + t)
                            }
                            return u("date")(e, r, m)
                        }
                        return p = null, ""
                    }), y(s.min) || s.ngMin) {
                    var g;
                    l.$validators.min = function (e) {
                        return !f(e) || v(g) || i(e) >= g
                    }, s.$observe("min", function (e) {
                        g = h(e), l.$validate()
                    })
                }
                if (y(s.max) || s.ngMax) {
                    var b;
                    l.$validators.max = function (e) {
                        return !f(e) || v(b) || i(e) <= b
                    }, s.$observe("max", function (e) {
                        b = h(e), l.$validate()
                    })
                }
            }
        }

        function In(e, t, i, r) {
            var o = t[0], a = r.$$hasNativeValidators = b(o.validity);
            a && r.$parsers.push(function (e) {
                var i = t.prop(zn) || {};
                return i.badInput && !i.typeMismatch ? n : e
            })
        }

        function Ln(e, t, i, r, o, a) {
            if (In(e, t, i, r), An(e, t, i, r, o, a), r.$$parserName = "number", r.$parsers.push(function (e) {
                    return r.$isEmpty(e) ? null : Or.test(e) ? parseFloat(e) : n
                }), r.$formatters.push(function (e) {
                    if (!r.$isEmpty(e)) {
                        if (!C(e))throw yo("numfmt", "Expected `{0}` to be a number", e);
                        e = e.toString()
                    }
                    return e
                }), i.min || i.ngMin) {
                var s;
                r.$validators.min = function (e) {
                    return r.$isEmpty(e) || v(s) || e >= s
                }, i.$observe("min", function (e) {
                    y(e) && !C(e) && (e = parseFloat(e, 10)), s = C(e) && !isNaN(e) ? e : n, r.$validate()
                })
            }
            if (i.max || i.ngMax) {
                var l;
                r.$validators.max = function (e) {
                    return r.$isEmpty(e) || v(l) || e <= l
                }, i.$observe("max", function (e) {
                    y(e) && !C(e) && (e = parseFloat(e, 10)), l = C(e) && !isNaN(e) ? e : n, r.$validate()
                })
            }
        }

        function Rn(e, t, n, i, r, o) {
            An(e, t, n, i, r, o), Un(i), i.$$parserName = "url", i.$validators.url = function (e, t) {
                var n = e || t;
                return i.$isEmpty(n) || Lr.test(n)
            }
        }

        function On(e, t, n, i, r, o) {
            An(e, t, n, i, r, o), Un(i), i.$$parserName = "email", i.$validators.email = function (e, t) {
                var n = e || t;
                return i.$isEmpty(n) || Rr.test(n)
            }
        }

        function Pn(e, t, n, i) {
            v(n.name) && t.attr("name", c());
            var r = function (e) {
                t[0].checked && i.$setViewValue(n.value, e && e.type)
            };
            t.on("click", r), i.$render = function () {
                var e = n.value;
                t[0].checked = e == i.$viewValue
            }, n.$observe("value", i.$render)
        }

        function Hn(e, t, n, r, o) {
            var a;
            if (y(r)) {
                if (a = e(r), !a.constant)throw i("ngModel")("constexpr", "Expected constant expression for `{0}`, but saw `{1}`.", n, r);
                return a(t)
            }
            return o
        }

        function Fn(e, t, n, i, r, o, a, s) {
            var l = Hn(s, e, "ngTrueValue", n.ngTrueValue, !0), c = Hn(s, e, "ngFalseValue", n.ngFalseValue, !1), d = function (e) {
                i.$setViewValue(t[0].checked, e && e.type)
            };
            t.on("click", d), i.$render = function () {
                t[0].checked = i.$viewValue
            }, i.$isEmpty = function (e) {
                return e === !1
            }, i.$formatters.push(function (e) {
                return O(e, l)
            }), i.$parsers.push(function (e) {
                return e ? l : c
            })
        }

        function jn(e, t) {
            return e = "ngClass" + e, ["$animate", function (n) {
                function i(e, t) {
                    var n = [];
                    e:for (var i = 0; i < e.length; i++) {
                        for (var r = e[i], o = 0; o < t.length; o++)if (r == t[o])continue e;
                        n.push(r)
                    }
                    return n
                }

                function r(e) {
                    if (di(e))return e;
                    if (w(e))return e.split(" ");
                    if (b(e)) {
                        var t = [];
                        return o(e, function (e, n) {
                            e && (t = t.concat(n.split(" ")))
                        }), t
                    }
                    return e
                }

                return {
                    restrict: "AC", link: function (a, s, l) {
                        function c(e) {
                            var t = u(e, 1);
                            l.$addClass(t)
                        }

                        function d(e) {
                            var t = u(e, -1);
                            l.$removeClass(t)
                        }

                        function u(e, t) {
                            var n = s.data("$classCounts") || {}, i = [];
                            return o(e, function (e) {
                                (t > 0 || n[e]) && (n[e] = (n[e] || 0) + t, n[e] === +(t > 0) && i.push(e))
                            }), s.data("$classCounts", n), i.join(" ")
                        }

                        function f(e, t) {
                            var r = i(t, e), o = i(e, t);
                            r = u(r, 1), o = u(o, -1), r && r.length && n.addClass(s, r), o && o.length && n.removeClass(s, o)
                        }

                        function h(e) {
                            if (t === !0 || a.$index % 2 === t) {
                                var n = r(e || []);
                                if (p) {
                                    if (!O(e, p)) {
                                        var i = r(p);
                                        f(i, n)
                                    }
                                } else c(n)
                            }
                            p = R(e)
                        }

                        var p;
                        a.$watch(l[e], h, !0), l.$observe("class", function (t) {
                            h(a.$eval(l[e]))
                        }), "ngClass" !== e && a.$watch("$index", function (n, i) {
                            var o = 1 & n;
                            if (o !== (1 & i)) {
                                var s = r(a.$eval(l[e]));
                                o === t ? c(s) : d(s)
                            }
                        })
                    }
                }
            }]
        }

        function Vn(e) {
            function t(e, t, l) {
                t === n ? i("$pending", e, l) : r("$pending", e, l), D(t) ? t ? (u(s.$error, e, l), d(s.$$success, e, l)) : (d(s.$error, e, l), u(s.$$success, e, l)) : (u(s.$error, e, l), u(s.$$success, e, l)), s.$pending ? (o(vo, !0), s.$valid = s.$invalid = n, a("", null)) : (o(vo, !1), s.$valid = qn(s.$error), s.$invalid = !s.$valid, a("", s.$valid));
                var c;
                c = s.$pending && s.$pending[e] ? n : !s.$error[e] && (!!s.$$success[e] || null), a(e, c), f.$setValidity(e, c, s)
            }

            function i(e, t, n) {
                s[e] || (s[e] = {}), d(s[e], t, n)
            }

            function r(e, t, i) {
                s[e] && u(s[e], t, i), qn(s[e]) && (s[e] = n)
            }

            function o(e, t) {
                t && !c[e] ? (h.addClass(l, e), c[e] = !0) : !t && c[e] && (h.removeClass(l, e), c[e] = !1)
            }

            function a(e, t) {
                e = e ? "-" + ne(e, "-") : "", o(uo + e, t === !0), o(fo + e, t === !1)
            }

            var s = e.ctrl, l = e.$element, c = {}, d = e.set, u = e.unset, f = e.parentForm, h = e.$animate;
            c[fo] = !(c[uo] = l.hasClass(uo)), s.$setValidity = t
        }

        function qn(e) {
            if (e)for (var t in e)return !1;
            return !0
        }

        var Wn = /^\/(.+)\/([a-z]*)$/, zn = "validity", Yn = function (e) {
            return w(e) ? e.toLowerCase() : e
        }, Xn = Object.prototype.hasOwnProperty, Gn = function (e) {
            return w(e) ? e.toUpperCase() : e
        }, Kn = function (e) {
            return w(e) ? e.replace(/[A-Z]/g, function (e) {
                return String.fromCharCode(32 | e.charCodeAt(0))
            }) : e
        }, Qn = function (e) {
            return w(e) ? e.replace(/[a-z]/g, function (e) {
                return String.fromCharCode(e.charCodeAt(0) & -33)
            }) : e
        };
        "i" !== "I".toLowerCase() && (Yn = Kn, Gn = Qn);
        var Jn, Zn, ei, ti, ni = [].slice, ii = [].splice, ri = [].push, oi = Object.prototype.toString, ai = i("ng"), si = e.angular || (e.angular = {}), li = 0;
        Jn = t.documentMode, p.$inject = [], m.$inject = [];
        var ci, di = Array.isArray, ui = function (e) {
            return w(e) ? e.trim() : e
        }, fi = function (e) {
            return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08")
        }, hi = function () {
            if (y(hi.isActive_))return hi.isActive_;
            var e = !(!t.querySelector("[ng-csp]") && !t.querySelector("[data-ng-csp]"));
            if (!e)try {
                new Function("")
            } catch (t) {
                e = !0
            }
            return hi.isActive_ = e
        }, pi = ["ng-", "data-ng-", "ng:", "x-ng-"], mi = /[A-Z]/g, gi = !1, vi = 1, yi = 3, bi = 8, wi = 9, Ci = 11, xi = {
            full: "1.3.12",
            major: 1,
            minor: 3,
            dot: 12,
            codeName: "outlandish-knitting"
        };
        we.expando = "ng339";
        var $i = we.cache = {}, Ni = 1, Ti = function (e, t, n) {
            e.addEventListener(t, n, !1)
        }, ki = function (e, t, n) {
            e.removeEventListener(t, n, !1)
        };
        we._data = function (e) {
            return this.cache[e[this.expando]] || {}
        };
        var Ei = /([\:\-\_]+(.))/g, Si = /^moz([A-Z])/, Ui = {
            mouseleave: "mouseout",
            mouseenter: "mouseover"
        }, Di = i("jqLite"), Ai = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, Bi = /<|&#?\w+;/, _i = /<([\w:]+)/, Mi = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, Ii = {
            option: [1, '<select multiple="multiple">', "</select>"],
            thead: [1, "<table>", "</table>"],
            col: [2, "<table><colgroup>", "</colgroup></table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: [0, "", ""]
        };
        Ii.optgroup = Ii.option, Ii.tbody = Ii.tfoot = Ii.colgroup = Ii.caption = Ii.thead, Ii.th = Ii.td;
        var Li = we.prototype = {
            ready: function (n) {
                function i() {
                    r || (r = !0, n())
                }

                var r = !1;
                "complete" === t.readyState ? setTimeout(i) : (this.on("DOMContentLoaded", i), we(e).on("load", i))
            }, toString: function () {
                var e = [];
                return o(this, function (t) {
                    e.push("" + t)
                }), "[" + e.join(", ") + "]"
            }, eq: function (e) {
                return Zn(e >= 0 ? this[e] : this[this.length + e])
            }, length: 0, push: ri, sort: [].sort, splice: [].splice
        }, Ri = {};
        o("multiple,selected,checked,disabled,readOnly,required,open".split(","), function (e) {
            Ri[Yn(e)] = e
        });
        var Oi = {};
        o("input,select,option,textarea,button,form,details".split(","), function (e) {
            Oi[e] = !0
        });
        var Pi = {ngMinlength: "minlength", ngMaxlength: "maxlength", ngMin: "min", ngMax: "max", ngPattern: "pattern"};
        o({data: ke, removeData: Ne}, function (e, t) {
            we[t] = e
        }), o({
            data: ke, inheritedData: Be, scope: function (e) {
                return Zn.data(e, "$scope") || Be(e.parentNode || e, ["$isolateScope", "$scope"])
            }, isolateScope: function (e) {
                return Zn.data(e, "$isolateScope") || Zn.data(e, "$isolateScopeNoTemplate")
            }, controller: Ae, injector: function (e) {
                return Be(e, "$injector")
            }, removeAttr: function (e, t) {
                e.removeAttribute(t)
            }, hasClass: Ee, css: function (e, t, n) {
                return t = me(t), y(n) ? void(e.style[t] = n) : e.style[t]
            }, attr: function (e, t, i) {
                var r = Yn(t);
                if (Ri[r]) {
                    if (!y(i))return e[t] || (e.attributes.getNamedItem(t) || p).specified ? r : n;
                    i ? (e[t] = !0, e.setAttribute(t, r)) : (e[t] = !1, e.removeAttribute(r))
                } else if (y(i))e.setAttribute(t, i); else if (e.getAttribute) {
                    var o = e.getAttribute(t, 2);
                    return null === o ? n : o
                }
            }, prop: function (e, t, n) {
                return y(n) ? void(e[t] = n) : e[t]
            }, text: function () {
                function e(e, t) {
                    if (v(t)) {
                        var n = e.nodeType;
                        return n === vi || n === yi ? e.textContent : ""
                    }
                    e.textContent = t
                }

                return e.$dv = "", e
            }(), val: function (e, t) {
                if (v(t)) {
                    if (e.multiple && "select" === M(e)) {
                        var n = [];
                        return o(e.options, function (e) {
                            e.selected && n.push(e.value || e.text)
                        }), 0 === n.length ? null : n
                    }
                    return e.value
                }
                e.value = t
            }, html: function (e, t) {
                return v(t) ? e.innerHTML : (xe(e, !0), void(e.innerHTML = t))
            }, empty: _e
        }, function (e, t) {
            we.prototype[t] = function (t, i) {
                var r, o, a = this.length;
                if (e !== _e && (2 == e.length && e !== Ee && e !== Ae ? t : i) === n) {
                    if (b(t)) {
                        for (r = 0; r < a; r++)if (e === ke)e(this[r], t); else for (o in t)e(this[r], o, t[o]);
                        return this
                    }
                    for (var s = e.$dv, l = s === n ? Math.min(a, 1) : a, c = 0; c < l; c++) {
                        var d = e(this[c], t, i);
                        s = s ? s + d : d
                    }
                    return s
                }
                for (r = 0; r < a; r++)e(this[r], t, i);
                return this
            }
        }), o({
            removeData: Ne, on: function e(t, n, i, r) {
                if (y(r))throw Di("onargs", "jqLite#on() does not support the `selector` or `eventData` parameters");
                if (ve(t)) {
                    var o = Te(t, !0), a = o.events, s = o.handle;
                    s || (s = o.handle = Oe(t, a));
                    for (var l = n.indexOf(" ") >= 0 ? n.split(" ") : [n], c = l.length; c--;) {
                        n = l[c];
                        var d = a[n];
                        d || (a[n] = [], "mouseenter" === n || "mouseleave" === n ? e(t, Ui[n], function (e) {
                            var t = this, i = e.relatedTarget;
                            i && (i === t || t.contains(i)) || s(e, n)
                        }) : "$destroy" !== n && Ti(t, n, s), d = a[n]), d.push(i)
                    }
                }
            }, off: $e, one: function (e, t, n) {
                e = Zn(e), e.on(t, function i() {
                    e.off(t, n), e.off(t, i)
                }), e.on(t, n)
            }, replaceWith: function (e, t) {
                var n, i = e.parentNode;
                xe(e), o(new we(t), function (t) {
                    n ? i.insertBefore(t, n.nextSibling) : i.replaceChild(t, e), n = t
                })
            }, children: function (e) {
                var t = [];
                return o(e.childNodes, function (e) {
                    e.nodeType === vi && t.push(e)
                }), t
            }, contents: function (e) {
                return e.contentDocument || e.childNodes || []
            }, append: function (e, t) {
                var n = e.nodeType;
                if (n === vi || n === Ci) {
                    t = new we(t);
                    for (var i = 0, r = t.length; i < r; i++) {
                        var o = t[i];
                        e.appendChild(o)
                    }
                }
            }, prepend: function (e, t) {
                if (e.nodeType === vi) {
                    var n = e.firstChild;
                    o(new we(t), function (t) {
                        e.insertBefore(t, n)
                    })
                }
            }, wrap: function (e, t) {
                t = Zn(t).eq(0).clone()[0];
                var n = e.parentNode;
                n && n.replaceChild(t, e), t.appendChild(e)
            }, remove: Me, detach: function (e) {
                Me(e, !0)
            }, after: function (e, t) {
                var n = e, i = e.parentNode;
                t = new we(t);
                for (var r = 0, o = t.length; r < o; r++) {
                    var a = t[r];
                    i.insertBefore(a, n.nextSibling), n = a
                }
            }, addClass: Ue, removeClass: Se, toggleClass: function (e, t, n) {
                t && o(t.split(" "), function (t) {
                    var i = n;
                    v(i) && (i = !Ee(e, t)), (i ? Ue : Se)(e, t)
                })
            }, parent: function (e) {
                var t = e.parentNode;
                return t && t.nodeType !== Ci ? t : null
            }, next: function (e) {
                return e.nextElementSibling
            }, find: function (e, t) {
                return e.getElementsByTagName ? e.getElementsByTagName(t) : []
            }, clone: Ce, triggerHandler: function (e, t, n) {
                var i, r, a, s = t.type || t, l = Te(e), c = l && l.events, d = c && c[s];
                d && (i = {
                    preventDefault: function () {
                        this.defaultPrevented = !0
                    }, isDefaultPrevented: function () {
                        return this.defaultPrevented === !0
                    }, stopImmediatePropagation: function () {
                        this.immediatePropagationStopped = !0
                    }, isImmediatePropagationStopped: function () {
                        return this.immediatePropagationStopped === !0
                    }, stopPropagation: p, type: s, target: e
                }, t.type && (i = u(i, t)), r = R(d), a = n ? [i].concat(n) : [i], o(r, function (t) {
                    i.isImmediatePropagationStopped() || t.apply(e, a)
                }))
            }
        }, function (e, t) {
            we.prototype[t] = function (t, n, i) {
                for (var r, o = 0, a = this.length; o < a; o++)v(r) ? (r = e(this[o], t, n, i), y(r) && (r = Zn(r))) : De(r, e(this[o], t, n, i));
                return y(r) ? r : this
            }, we.prototype.bind = we.prototype.on, we.prototype.unbind = we.prototype.off
        }), Fe.prototype = {
            put: function (e, t) {
                this[He(e, this.nextUid)] = t
            }, get: function (e) {
                return this[He(e, this.nextUid)]
            }, remove: function (e) {
                var t = this[e = He(e, this.nextUid)];
                return delete this[e], t
            }
        };
        var Hi = /^function\s*[^\(]*\(\s*([^\)]*)\)/m, Fi = /,/, ji = /^\s*(_?)(\S+?)\1\s*$/, Vi = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm, qi = i("$injector");
        qe.$$annotate = Ve;
        var Wi = i("$animate"), zi = ["$provide", function (e) {
            this.$$selectors = {}, this.register = function (t, n) {
                var i = t + "-animation";
                if (t && "." != t.charAt(0))throw Wi("notcsel", "Expecting class selector starting with '.' got '{0}'.", t);
                this.$$selectors[t.substr(1)] = i, e.factory(i, n)
            }, this.classNameFilter = function (e) {
                return 1 === arguments.length && (this.$$classNameFilter = e instanceof RegExp ? e : null), this.$$classNameFilter
            }, this.$get = ["$$q", "$$asyncCallback", "$rootScope", function (e, t, n) {
                function i(t) {
                    var i, r = e.defer();
                    return r.promise.$$cancelFn = function () {
                        i && i()
                    }, n.$$postDigest(function () {
                        i = t(function () {
                            r.resolve()
                        })
                    }), r.promise
                }

                function r(e, t) {
                    var n = [], i = [], r = ce();
                    return o((e.attr("class") || "").split(/\s+/), function (e) {
                        r[e] = !0
                    }), o(t, function (e, t) {
                        var o = r[t];
                        e === !1 && o ? i.push(t) : e !== !0 || o || n.push(t)
                    }), n.length + i.length > 0 && [n.length ? n : null, i.length ? i : null]
                }

                function a(e, t, n) {
                    for (var i = 0, r = t.length; i < r; ++i) {
                        var o = t[i];
                        e[o] = n
                    }
                }

                function s() {
                    return c || (c = e.defer(), t(function () {
                        c.resolve(), c = null
                    })), c.promise
                }

                function l(e, t) {
                    if (si.isObject(t)) {
                        var n = u(t.from || {}, t.to || {});
                        e.css(n)
                    }
                }

                var c;
                return {
                    animate: function (e, t, n) {
                        return l(e, {from: t, to: n}), s()
                    }, enter: function (e, t, n, i) {
                        return l(e, i), n ? n.after(e) : t.prepend(e), s()
                    }, leave: function (e, t) {
                        return e.remove(), s()
                    }, move: function (e, t, n, i) {
                        return this.enter(e, t, n, i)
                    }, addClass: function (e, t, n) {
                        return this.setClass(e, t, [], n)
                    }, $$addClassImmediately: function (e, t, n) {
                        return e = Zn(e), t = w(t) ? t : di(t) ? t.join(" ") : "", o(e, function (e) {
                            Ue(e, t)
                        }), l(e, n), s()
                    }, removeClass: function (e, t, n) {
                        return this.setClass(e, [], t, n)
                    }, $$removeClassImmediately: function (e, t, n) {
                        return e = Zn(e), t = w(t) ? t : di(t) ? t.join(" ") : "", o(e, function (e) {
                            Se(e, t)
                        }), l(e, n), s()
                    }, setClass: function (e, t, n, o) {
                        var s = this, l = "$$animateClasses", c = !1;
                        e = Zn(e);
                        var d = e.data(l);
                        d ? o && d.options && (d.options = si.extend(d.options || {}, o)) : (d = {
                            classes: {},
                            options: o
                        }, c = !0);
                        var u = d.classes;
                        return t = di(t) ? t : t.split(" "), n = di(n) ? n : n.split(" "), a(u, t, !0), a(u, n, !1), c && (d.promise = i(function (t) {
                            var n = e.data(l);
                            if (e.removeData(l), n) {
                                var i = r(e, n.classes);
                                i && s.$$setClassImmediately(e, i[0], i[1], n.options)
                            }
                            t()
                        }), e.data(l, d)), d.promise
                    }, $$setClassImmediately: function (e, t, n, i) {
                        return t && this.$$addClassImmediately(e, t), n && this.$$removeClassImmediately(e, n), l(e, i), s()
                    }, enabled: p, cancel: p
                }
            }]
        }], Yi = i("$compile");
        Qe.$inject = ["$provide", "$$sanitizeUriProvider"];
        var Xi = /^((?:x|data)[\:\-_])/i, Gi = i("$controller"), Ki = "application/json", Qi = {"Content-Type": Ki + ";charset=utf-8"}, Ji = /^\[|^\{(?!\{)/, Zi = {
            "[": /]$/,
            "{": /}$/
        }, er = /^\)\]\}',?\n/, tr = i("$interpolate"), nr = /^([^\?#]*)(\?([^#]*))?(#(.*))?$/, ir = {
            http: 80,
            https: 443,
            ftp: 21
        }, rr = i("$location"), or = {
            $$html5: !1, $$replace: !1, absUrl: St("$$absUrl"), url: function (e) {
                if (v(e))return this.$$url;
                var t = nr.exec(e);
                return (t[1] || "" === e) && this.path(decodeURIComponent(t[1])), (t[2] || t[1] || "" === e) && this.search(t[3] || ""), this.hash(t[5] || ""), this
            }, protocol: St("$$protocol"), host: St("$$host"), port: St("$$port"), path: Ut("$$path", function (e) {
                return e = null !== e ? e.toString() : "", "/" == e.charAt(0) ? e : "/" + e
            }), search: function (e, t) {
                switch (arguments.length) {
                    case 0:
                        return this.$$search;
                    case 1:
                        if (w(e) || C(e))e = e.toString(), this.$$search = Y(e); else {
                            if (!b(e))throw rr("isrcharg", "The first argument of the `$location#search()` call must be a string or an object.");
                            e = L(e, {}), o(e, function (t, n) {
                                null == t && delete e[n]
                            }), this.$$search = e
                        }
                        break;
                    default:
                        v(t) || null === t ? delete this.$$search[e] : this.$$search[e] = t
                }
                return this.$$compose(), this
            }, hash: Ut("$$hash", function (e) {
                return null !== e ? e.toString() : ""
            }), replace: function () {
                return this.$$replace = !0, this
            }
        };
        o([Et, kt, Tt], function (e) {
            e.prototype = Object.create(or), e.prototype.state = function (t) {
                if (!arguments.length)return this.$$state;
                if (e !== Tt || !this.$$html5)throw rr("nostate", "History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");
                return this.$$state = v(t) ? null : t, this
            }
        });
        var ar = i("$parse"), sr = Function.prototype.call, lr = Function.prototype.apply, cr = Function.prototype.bind, dr = ce();
        o({
            null: function () {
                return null
            }, true: function () {
                return !0
            }, false: function () {
                return !1
            }, undefined: function () {
            }
        }, function (e, t) {
            e.constant = e.literal = e.sharedGetter = !0, dr[t] = e
        }), dr.this = function (e) {
            return e
        }, dr.this.sharedGetter = !0;
        var ur = u(ce(), {
            "+": function (e, t, i, r) {
                return i = i(e, t), r = r(e, t), y(i) ? y(r) ? i + r : i : y(r) ? r : n
            }, "-": function (e, t, n, i) {
                return n = n(e, t), i = i(e, t), (y(n) ? n : 0) - (y(i) ? i : 0)
            }, "*": function (e, t, n, i) {
                return n(e, t) * i(e, t)
            }, "/": function (e, t, n, i) {
                return n(e, t) / i(e, t)
            }, "%": function (e, t, n, i) {
                return n(e, t) % i(e, t)
            }, "===": function (e, t, n, i) {
                return n(e, t) === i(e, t)
            }, "!==": function (e, t, n, i) {
                return n(e, t) !== i(e, t)
            }, "==": function (e, t, n, i) {
                return n(e, t) == i(e, t)
            }, "!=": function (e, t, n, i) {
                return n(e, t) != i(e, t)
            }, "<": function (e, t, n, i) {
                return n(e, t) < i(e, t)
            }, ">": function (e, t, n, i) {
                return n(e, t) > i(e, t)
            }, "<=": function (e, t, n, i) {
                return n(e, t) <= i(e, t)
            }, ">=": function (e, t, n, i) {
                return n(e, t) >= i(e, t)
            }, "&&": function (e, t, n, i) {
                return n(e, t) && i(e, t)
            }, "||": function (e, t, n, i) {
                return n(e, t) || i(e, t)
            }, "!": function (e, t, n) {
                return !n(e, t)
            }, "=": !0, "|": !0
        }), fr = {n: "\n", f: "\f", r: "\r", t: "\t", v: "\v", "'": "'", '"': '"'}, hr = function (e) {
            this.options = e
        };
        hr.prototype = {
            constructor: hr, lex: function (e) {
                for (this.text = e, this.index = 0, this.tokens = []; this.index < this.text.length;) {
                    var t = this.text.charAt(this.index);
                    if ('"' === t || "'" === t)this.readString(t); else if (this.isNumber(t) || "." === t && this.isNumber(this.peek()))this.readNumber(); else if (this.isIdent(t))this.readIdent(); else if (this.is(t, "(){}[].,;:?"))this.tokens.push({
                        index: this.index,
                        text: t
                    }), this.index++; else if (this.isWhitespace(t))this.index++; else {
                        var n = t + this.peek(), i = n + this.peek(2), r = ur[t], o = ur[n], a = ur[i];
                        if (r || o || a) {
                            var s = a ? i : o ? n : t;
                            this.tokens.push({index: this.index, text: s, operator: !0}), this.index += s.length
                        } else this.throwError("Unexpected next character ", this.index, this.index + 1)
                    }
                }
                return this.tokens
            }, is: function (e, t) {
                return t.indexOf(e) !== -1
            }, peek: function (e) {
                var t = e || 1;
                return this.index + t < this.text.length && this.text.charAt(this.index + t)
            }, isNumber: function (e) {
                return "0" <= e && e <= "9" && "string" == typeof e
            }, isWhitespace: function (e) {
                return " " === e || "\r" === e || "\t" === e || "\n" === e || "\v" === e || "Â " === e
            }, isIdent: function (e) {
                return "a" <= e && e <= "z" || "A" <= e && e <= "Z" || "_" === e || "$" === e
            }, isExpOperator: function (e) {
                return "-" === e || "+" === e || this.isNumber(e)
            }, throwError: function (e, t, n) {
                n = n || this.index;
                var i = y(t) ? "s " + t + "-" + this.index + " [" + this.text.substring(t, n) + "]" : " " + n;
                throw ar("lexerr", "Lexer Error: {0} at column{1} in expression [{2}].", e, i, this.text)
            }, readNumber: function () {
                for (var e = "", t = this.index; this.index < this.text.length;) {
                    var n = Yn(this.text.charAt(this.index));
                    if ("." == n || this.isNumber(n))e += n; else {
                        var i = this.peek();
                        if ("e" == n && this.isExpOperator(i))e += n; else if (this.isExpOperator(n) && i && this.isNumber(i) && "e" == e.charAt(e.length - 1))e += n; else {
                            if (!this.isExpOperator(n) || i && this.isNumber(i) || "e" != e.charAt(e.length - 1))break;
                            this.throwError("Invalid exponent")
                        }
                    }
                    this.index++
                }
                this.tokens.push({index: t, text: e, constant: !0, value: Number(e)})
            }, readIdent: function () {
                for (var e = this.index; this.index < this.text.length;) {
                    var t = this.text.charAt(this.index);
                    if (!this.isIdent(t) && !this.isNumber(t))break;
                    this.index++
                }
                this.tokens.push({index: e, text: this.text.slice(e, this.index), identifier: !0})
            }, readString: function (e) {
                var t = this.index;
                this.index++;
                for (var n = "", i = e, r = !1; this.index < this.text.length;) {
                    var o = this.text.charAt(this.index);
                    if (i += o, r) {
                        if ("u" === o) {
                            var a = this.text.substring(this.index + 1, this.index + 5);
                            a.match(/[\da-f]{4}/i) || this.throwError("Invalid unicode escape [\\u" + a + "]"), this.index += 4, n += String.fromCharCode(parseInt(a, 16))
                        } else {
                            var s = fr[o];
                            n += s || o
                        }
                        r = !1
                    } else if ("\\" === o)r = !0; else {
                        if (o === e)return this.index++, void this.tokens.push({
                            index: t,
                            text: i,
                            constant: !0,
                            value: n
                        });
                        n += o
                    }
                    this.index++
                }
                this.throwError("Unterminated quote", t)
            }
        };
        var pr = function (e, t, n) {
            this.lexer = e, this.$filter = t, this.options = n
        };
        pr.ZERO = u(function () {
            return 0
        }, {sharedGetter: !0, constant: !0}), pr.prototype = {
            constructor: pr, parse: function (e) {
                this.text = e, this.tokens = this.lexer.lex(e);
                var t = this.statements();
                return 0 !== this.tokens.length && this.throwError("is an unexpected token", this.tokens[0]), t.literal = !!t.literal, t.constant = !!t.constant, t
            }, primary: function () {
                var e;
                this.expect("(") ? (e = this.filterChain(), this.consume(")")) : this.expect("[") ? e = this.arrayDeclaration() : this.expect("{") ? e = this.object() : this.peek().identifier && this.peek().text in dr ? e = dr[this.consume().text] : this.peek().identifier ? e = this.identifier() : this.peek().constant ? e = this.constant() : this.throwError("not a primary expression", this.peek());
                for (var t, n; t = this.expect("(", "[", ".");)"(" === t.text ? (e = this.functionCall(e, n), n = null) : "[" === t.text ? (n = e, e = this.objectIndex(e)) : "." === t.text ? (n = e, e = this.fieldAccess(e)) : this.throwError("IMPOSSIBLE");
                return e
            }, throwError: function (e, t) {
                throw ar("syntax", "Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].", t.text, e, t.index + 1, this.text, this.text.substring(t.index))
            }, peekToken: function () {
                if (0 === this.tokens.length)throw ar("ueoe", "Unexpected end of expression: {0}", this.text);
                return this.tokens[0]
            }, peek: function (e, t, n, i) {
                return this.peekAhead(0, e, t, n, i)
            }, peekAhead: function (e, t, n, i, r) {
                if (this.tokens.length > e) {
                    var o = this.tokens[e], a = o.text;
                    if (a === t || a === n || a === i || a === r || !t && !n && !i && !r)return o
                }
                return !1
            }, expect: function (e, t, n, i) {
                var r = this.peek(e, t, n, i);
                return !!r && (this.tokens.shift(), r)
            }, consume: function (e) {
                if (0 === this.tokens.length)throw ar("ueoe", "Unexpected end of expression: {0}", this.text);
                var t = this.expect(e);
                return t || this.throwError("is unexpected, expecting [" + e + "]", this.peek()), t
            }, unaryFn: function (e, t) {
                var n = ur[e];
                return u(function (e, i) {
                    return n(e, i, t)
                }, {constant: t.constant, inputs: [t]})
            }, binaryFn: function (e, t, n, i) {
                var r = ur[t];
                return u(function (t, i) {
                    return r(t, i, e, n)
                }, {constant: e.constant && n.constant, inputs: !i && [e, n]})
            }, identifier: function () {
                for (var e = this.consume().text; this.peek(".") && this.peekAhead(1).identifier && !this.peekAhead(2, "(");)e += this.consume().text + this.consume().text;
                return Ht(e, this.options, this.text)
            }, constant: function () {
                var e = this.consume().value;
                return u(function () {
                    return e
                }, {constant: !0, literal: !0})
            }, statements: function () {
                for (var e = []; ;)if (this.tokens.length > 0 && !this.peek("}", ")", ";", "]") && e.push(this.filterChain()), !this.expect(";"))return 1 === e.length ? e[0] : function (t, n) {
                    for (var i, r = 0, o = e.length; r < o; r++)i = e[r](t, n);
                    return i
                }
            }, filterChain: function () {
                for (var e, t = this.expression(); e = this.expect("|");)t = this.filter(t);
                return t
            }, filter: function (e) {
                var t, i, r = this.$filter(this.consume().text);
                if (this.peek(":"))for (t = [], i = []; this.expect(":");)t.push(this.expression());
                var o = [e].concat(t || []);
                return u(function (o, a) {
                    var s = e(o, a);
                    if (i) {
                        i[0] = s;
                        for (var l = t.length; l--;)i[l + 1] = t[l](o, a);
                        return r.apply(n, i)
                    }
                    return r(s)
                }, {constant: !r.$stateful && o.every(It), inputs: !r.$stateful && o})
            }, expression: function () {
                return this.assignment()
            }, assignment: function () {
                var e, t, n = this.ternary();
                return (t = this.expect("=")) ? (n.assign || this.throwError("implies assignment but [" + this.text.substring(0, t.index) + "] can not be assigned to", t), e = this.ternary(), u(function (t, i) {
                    return n.assign(t, e(t, i), i)
                }, {inputs: [n, e]})) : n
            }, ternary: function () {
                var e, t, n = this.logicalOR();
                if ((t = this.expect("?")) && (e = this.assignment(), this.consume(":"))) {
                    var i = this.assignment();
                    return u(function (t, r) {
                        return n(t, r) ? e(t, r) : i(t, r)
                    }, {constant: n.constant && e.constant && i.constant})
                }
                return n
            }, logicalOR: function () {
                for (var e, t = this.logicalAND(); e = this.expect("||");)t = this.binaryFn(t, e.text, this.logicalAND(), !0);
                return t
            }, logicalAND: function () {
                for (var e, t = this.equality(); e = this.expect("&&");)t = this.binaryFn(t, e.text, this.equality(), !0);
                return t
            }, equality: function () {
                for (var e, t = this.relational(); e = this.expect("==", "!=", "===", "!==");)t = this.binaryFn(t, e.text, this.relational());
                return t
            }, relational: function () {
                for (var e, t = this.additive(); e = this.expect("<", ">", "<=", ">=");)t = this.binaryFn(t, e.text, this.additive());
                return t
            }, additive: function () {
                for (var e, t = this.multiplicative(); e = this.expect("+", "-");)t = this.binaryFn(t, e.text, this.multiplicative());
                return t
            }, multiplicative: function () {
                for (var e, t = this.unary(); e = this.expect("*", "/", "%");)t = this.binaryFn(t, e.text, this.unary());
                return t
            }, unary: function () {
                var e;
                return this.expect("+") ? this.primary() : (e = this.expect("-")) ? this.binaryFn(pr.ZERO, e.text, this.unary()) : (e = this.expect("!")) ? this.unaryFn(e.text, this.unary()) : this.primary()
            }, fieldAccess: function (e) {
                var t = this.identifier();
                return u(function (i, r, o) {
                    var a = o || e(i, r);
                    return null == a ? n : t(a)
                }, {
                    assign: function (n, i, r) {
                        var o = e(n, r);
                        return o || e.assign(n, o = {}, r), t.assign(o, i)
                    }
                })
            }, objectIndex: function (e) {
                var t = this.text, i = this.expression();
                return this.consume("]"), u(function (r, o) {
                    var a, s = e(r, o), l = i(r, o);
                    return Bt(l, t), s ? a = _t(s[l], t) : n
                }, {
                    assign: function (n, r, o) {
                        var a = Bt(i(n, o), t), s = _t(e(n, o), t);
                        return s || e.assign(n, s = {}, o), s[a] = r
                    }
                })
            }, functionCall: function (e, t) {
                var i = [];
                if (")" !== this.peekToken().text)do i.push(this.expression()); while (this.expect(","));
                this.consume(")");
                var r = this.text, o = i.length ? [] : null;
                return function (a, s) {
                    var l = t ? t(a, s) : y(t) ? n : a, c = e(a, s, l) || p;
                    if (o)for (var d = i.length; d--;)o[d] = _t(i[d](a, s), r);
                    _t(l, r), Mt(c, r);
                    var u = c.apply ? c.apply(l, o) : c(o[0], o[1], o[2], o[3], o[4]);
                    return o && (o.length = 0), _t(u, r)
                }
            }, arrayDeclaration: function () {
                var e = [];
                if ("]" !== this.peekToken().text)do {
                    if (this.peek("]"))break;
                    e.push(this.expression())
                } while (this.expect(","));
                return this.consume("]"), u(function (t, n) {
                    for (var i = [], r = 0, o = e.length; r < o; r++)i.push(e[r](t, n));
                    return i
                }, {literal: !0, constant: e.every(It), inputs: e})
            }, object: function () {
                var e = [], t = [];
                if ("}" !== this.peekToken().text)do {
                    if (this.peek("}"))break;
                    var n = this.consume();
                    n.constant ? e.push(n.value) : n.identifier ? e.push(n.text) : this.throwError("invalid key", n), this.consume(":"), t.push(this.expression())
                } while (this.expect(","));
                return this.consume("}"), u(function (n, i) {
                    for (var r = {}, o = 0, a = t.length; o < a; o++)r[e[o]] = t[o](n, i);
                    return r
                }, {literal: !0, constant: t.every(It), inputs: t})
            }
        };
        var mr = ce(), gr = ce(), vr = Object.prototype.valueOf, yr = i("$sce"), br = {
            HTML: "html",
            CSS: "css",
            URL: "url",
            RESOURCE_URL: "resourceUrl",
            JS: "js"
        }, Yi = i("$compile"), wr = t.createElement("a"), Cr = rn(e.location.href);
        sn.$inject = ["$provide"], un.$inject = ["$locale"], fn.$inject = ["$locale"];
        var xr = ".", $r = {
            yyyy: mn("FullYear", 4),
            yy: mn("FullYear", 2, 0, !0),
            y: mn("FullYear", 1),
            MMMM: gn("Month"),
            MMM: gn("Month", !0),
            MM: mn("Month", 2, 1),
            M: mn("Month", 1, 1),
            dd: mn("Date", 2),
            d: mn("Date", 1),
            HH: mn("Hours", 2),
            H: mn("Hours", 1),
            hh: mn("Hours", 2, -12),
            h: mn("Hours", 1, -12),
            mm: mn("Minutes", 2),
            m: mn("Minutes", 1),
            ss: mn("Seconds", 2),
            s: mn("Seconds", 1),
            sss: mn("Milliseconds", 3),
            EEEE: gn("Day"),
            EEE: gn("Day", !0),
            a: Cn,
            Z: vn,
            ww: wn(2),
            w: wn(1)
        }, Nr = /((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/, Tr = /^\-?\d+$/;
        xn.$inject = ["$locale"];
        var kr = g(Yn), Er = g(Gn);
        Tn.$inject = ["$parse"];
        var Sr = g({
            restrict: "E", compile: function (e, t) {
                if (!t.href && !t.xlinkHref && !t.name)return function (e, t) {
                    if ("a" === t[0].nodeName.toLowerCase()) {
                        var n = "[object SVGAnimatedString]" === oi.call(t.prop("href")) ? "xlink:href" : "href";
                        t.on("click", function (e) {
                            t.attr(n) || e.preventDefault()
                        })
                    }
                }
            }
        }), Ur = {};
        o(Ri, function (e, t) {
            if ("multiple" != e) {
                var n = Je("ng-" + t);
                Ur[n] = function () {
                    return {
                        restrict: "A", priority: 100, link: function (e, i, r) {
                            e.$watch(r[n], function (e) {
                                r.$set(t, !!e)
                            })
                        }
                    }
                }
            }
        }), o(Pi, function (e, t) {
            Ur[t] = function () {
                return {
                    priority: 100, link: function (e, n, i) {
                        if ("ngPattern" === t && "/" == i.ngPattern.charAt(0)) {
                            var r = i.ngPattern.match(Wn);
                            if (r)return void i.$set("ngPattern", new RegExp(r[1], r[2]))
                        }
                        e.$watch(i[t], function (e) {
                            i.$set(t, e)
                        })
                    }
                }
            }
        }), o(["src", "srcset", "href"], function (e) {
            var t = Je("ng-" + e);
            Ur[t] = function () {
                return {
                    priority: 99, link: function (n, i, r) {
                        var o = e, a = e;
                        "href" === e && "[object SVGAnimatedString]" === oi.call(i.prop("href")) && (a = "xlinkHref", r.$attr[a] = "xlink:href", o = null), r.$observe(t, function (t) {
                            return t ? (r.$set(a, t), void(Jn && o && i.prop(o, r[a]))) : void("href" === e && r.$set(a, null))
                        })
                    }
                }
            }
        });
        var Dr = {
            $addControl: p,
            $$renameControl: En,
            $removeControl: p,
            $setValidity: p,
            $setDirty: p,
            $setPristine: p,
            $setSubmitted: p
        }, Ar = "ng-submitted";
        Sn.$inject = ["$element", "$attrs", "$scope", "$animate", "$interpolate"];
        var Br = function (e) {
            return ["$timeout", function (t) {
                var i = {
                    name: "form", restrict: e ? "EAC" : "E", controller: Sn, compile: function (e) {
                        return e.addClass(ho).addClass(uo), {
                            pre: function (e, i, r, o) {
                                if (!("action" in r)) {
                                    var a = function (t) {
                                        e.$apply(function () {
                                            o.$commitViewValue(), o.$setSubmitted()
                                        }), t.preventDefault()
                                    };
                                    Ti(i[0], "submit", a), i.on("$destroy", function () {
                                        t(function () {
                                            ki(i[0], "submit", a)
                                        }, 0, !1)
                                    })
                                }
                                var s = o.$$parentForm, l = o.$name;
                                l && (Lt(e, null, l, o, l), r.$observe(r.name ? "name" : "ngForm", function (t) {
                                    l !== t && (Lt(e, null, l, n, l), l = t, Lt(e, null, l, o, l), s.$$renameControl(o, l))
                                })), i.on("$destroy", function () {
                                    s.$removeControl(o), l && Lt(e, null, l, n, l), u(o, Dr)
                                })
                            }
                        }
                    }
                };
                return i
            }]
        }, _r = Br(), Mr = Br(!0), Ir = /\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/, Lr = /^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/, Rr = /^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i, Or = /^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/, Pr = /^(\d{4})-(\d{2})-(\d{2})$/, Hr = /^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/, Fr = /^(\d{4})-W(\d\d)$/, jr = /^(\d{4})-(\d\d)$/, Vr = /^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/, qr = {
            text: Dn,
            date: Mn("date", Pr, _n(Pr, ["yyyy", "MM", "dd"]), "yyyy-MM-dd"),
            "datetime-local": Mn("datetimelocal", Hr, _n(Hr, ["yyyy", "MM", "dd", "HH", "mm", "ss", "sss"]), "yyyy-MM-ddTHH:mm:ss.sss"),
            time: Mn("time", Vr, _n(Vr, ["HH", "mm", "ss", "sss"]), "HH:mm:ss.sss"),
            week: Mn("week", Fr, Bn, "yyyy-Www"),
            month: Mn("month", jr, _n(jr, ["yyyy", "MM"]), "yyyy-MM"),
            number: Ln,
            url: Rn,
            email: On,
            radio: Pn,
            checkbox: Fn,
            hidden: p,
            button: p,
            submit: p,
            reset: p,
            file: p
        }, Wr = ["$browser", "$sniffer", "$filter", "$parse", function (e, t, n, i) {
            return {
                restrict: "E", require: ["?ngModel"], link: {
                    pre: function (r, o, a, s) {
                        s[0] && (qr[Yn(a.type)] || qr.text)(r, o, a, s[0], t, e, n, i)
                    }
                }
            }
        }], zr = /^(true|false|\d+)$/, Yr = function () {
            return {
                restrict: "A", priority: 100, compile: function (e, t) {
                    return zr.test(t.ngValue) ? function (e, t, n) {
                        n.$set("value", e.$eval(n.ngValue))
                    } : function (e, t, n) {
                        e.$watch(n.ngValue, function (e) {
                            n.$set("value", e)
                        })
                    }
                }
            }
        }, Xr = ["$compile", function (e) {
            return {
                restrict: "AC", compile: function (t) {
                    return e.$$addBindingClass(t), function (t, i, r) {
                        e.$$addBindingInfo(i, r.ngBind), i = i[0], t.$watch(r.ngBind, function (e) {
                            i.textContent = e === n ? "" : e
                        })
                    }
                }
            }
        }], Gr = ["$interpolate", "$compile", function (e, t) {
            return {
                compile: function (i) {
                    return t.$$addBindingClass(i), function (i, r, o) {
                        var a = e(r.attr(o.$attr.ngBindTemplate));
                        t.$$addBindingInfo(r, a.expressions), r = r[0], o.$observe("ngBindTemplate", function (e) {
                            r.textContent = e === n ? "" : e
                        })
                    }
                }
            }
        }], Kr = ["$sce", "$parse", "$compile", function (e, t, n) {
            return {
                restrict: "A", compile: function (i, r) {
                    var o = t(r.ngBindHtml), a = t(r.ngBindHtml, function (e) {
                        return (e || "").toString()
                    });
                    return n.$$addBindingClass(i), function (t, i, r) {
                        n.$$addBindingInfo(i, r.ngBindHtml), t.$watch(a, function () {
                            i.html(e.getTrustedHtml(o(t)) || "")
                        })
                    }
                }
            }
        }], Qr = g({
            restrict: "A", require: "ngModel", link: function (e, t, n, i) {
                i.$viewChangeListeners.push(function () {
                    e.$eval(n.ngChange)
                })
            }
        }), Jr = jn("", !0), Zr = jn("Odd", 0), eo = jn("Even", 1), to = kn({
            compile: function (e, t) {
                t.$set("ngCloak", n), e.removeClass("ng-cloak")
            }
        }), no = [function () {
            return {restrict: "A", scope: !0, controller: "@", priority: 500}
        }], io = {}, ro = {blur: !0, focus: !0};
        o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "), function (e) {
            var t = Je("ng-" + e);
            io[t] = ["$parse", "$rootScope", function (n, i) {
                return {
                    restrict: "A", compile: function (r, o) {
                        var a = n(o[t], null, !0);
                        return function (t, n) {
                            n.on(e, function (n) {
                                var r = function () {
                                    a(t, {$event: n})
                                };
                                ro[e] && i.$$phase ? t.$evalAsync(r) : t.$apply(r)
                            })
                        }
                    }
                }
            }]
        });
        var oo = ["$animate", function (e) {
            return {
                multiElement: !0,
                transclude: "element",
                priority: 600,
                terminal: !0,
                restrict: "A",
                $$tlb: !0,
                link: function (n, i, r, o, a) {
                    var s, l, c;
                    n.$watch(r.ngIf, function (n) {
                        n ? l || a(function (n, o) {
                            l = o, n[n.length++] = t.createComment(" end ngIf: " + r.ngIf + " "), s = {clone: n}, e.enter(n, i.parent(), i)
                        }) : (c && (c.remove(), c = null), l && (l.$destroy(), l = null), s && (c = le(s.clone), e.leave(c).then(function () {
                            c = null
                        }), s = null))
                    })
                }
            }
        }], ao = ["$templateRequest", "$anchorScroll", "$animate", "$sce", function (e, t, n, i) {
            return {
                restrict: "ECA",
                priority: 400,
                terminal: !0,
                transclude: "element",
                controller: si.noop,
                compile: function (r, o) {
                    var a = o.ngInclude || o.src, s = o.onload || "", l = o.autoscroll;
                    return function (r, o, c, d, u) {
                        var f, h, p, m = 0, g = function () {
                            h && (h.remove(), h = null), f && (f.$destroy(), f = null), p && (n.leave(p).then(function () {
                                h = null
                            }), h = p, p = null)
                        };
                        r.$watch(i.parseAsResourceUrl(a), function (i) {
                            var a = function () {
                                !y(l) || l && !r.$eval(l) || t()
                            }, c = ++m;
                            i ? (e(i, !0).then(function (e) {
                                if (c === m) {
                                    var t = r.$new();
                                    d.template = e;
                                    var l = u(t, function (e) {
                                        g(), n.enter(e, null, o).then(a)
                                    });
                                    f = t, p = l, f.$emit("$includeContentLoaded", i), r.$eval(s)
                                }
                            }, function () {
                                c === m && (g(), r.$emit("$includeContentError", i))
                            }), r.$emit("$includeContentRequested", i)) : (g(), d.template = null)
                        })
                    }
                }
            }
        }], so = ["$compile", function (e) {
            return {
                restrict: "ECA", priority: -400, require: "ngInclude", link: function (n, i, r, o) {
                    return /SVG/.test(i[0].toString()) ? (i.empty(), void e(ye(o.template, t).childNodes)(n, function (e) {
                        i.append(e)
                    }, {futureParentElement: i})) : (i.html(o.template), void e(i.contents())(n))
                }
            }
        }], lo = kn({
            priority: 450, compile: function () {
                return {
                    pre: function (e, t, n) {
                        e.$eval(n.ngInit)
                    }
                }
            }
        }), co = function () {
            return {
                restrict: "A", priority: 100, require: "ngModel", link: function (e, t, i, r) {
                    var a = t.attr(i.$attr.ngList) || ", ", s = "false" !== i.ngTrim, l = s ? ui(a) : a, c = function (e) {
                        if (!v(e)) {
                            var t = [];
                            return e && o(e.split(l), function (e) {
                                e && t.push(s ? ui(e) : e)
                            }), t
                        }
                    };
                    r.$parsers.push(c), r.$formatters.push(function (e) {
                        return di(e) ? e.join(a) : n
                    }), r.$isEmpty = function (e) {
                        return !e || !e.length
                    }
                }
            }
        }, uo = "ng-valid", fo = "ng-invalid", ho = "ng-pristine", po = "ng-dirty", mo = "ng-untouched", go = "ng-touched", vo = "ng-pending", yo = new i("ngModel"), bo = ["$scope", "$exceptionHandler", "$attrs", "$element", "$parse", "$animate", "$timeout", "$rootScope", "$q", "$interpolate", function (e, t, i, r, a, s, l, c, d, u) {
            this.$viewValue = Number.NaN, this.$modelValue = Number.NaN, this.$$rawModelValue = n, this.$validators = {}, this.$asyncValidators = {}, this.$parsers = [], this.$formatters = [], this.$viewChangeListeners = [], this.$untouched = !0, this.$touched = !1, this.$pristine = !0, this.$dirty = !1, this.$valid = !0, this.$invalid = !1, this.$error = {}, this.$$success = {}, this.$pending = n, this.$name = u(i.name || "", !1)(e);
            var f = a(i.ngModel), h = f.assign, m = f, g = h, b = null, w = this;
            this.$$setOptions = function (e) {
                if (w.$options = e, e && e.getterSetter) {
                    var t = a(i.ngModel + "()"), n = a(i.ngModel + "($$$p)");
                    m = function (e) {
                        var n = f(e);
                        return $(n) && (n = t(e)), n
                    }, g = function (e, t) {
                        $(f(e)) ? n(e, {$$$p: w.$modelValue}) : h(e, w.$modelValue)
                    }
                } else if (!f.assign)throw yo("nonassign", "Expression '{0}' is non-assignable. Element: {1}", i.ngModel, W(r))
            }, this.$render = p, this.$isEmpty = function (e) {
                return v(e) || "" === e || null === e || e !== e
            };
            var x = r.inheritedData("$formController") || Dr, N = 0;
            Vn({
                ctrl: this, $element: r, set: function (e, t) {
                    e[t] = !0
                }, unset: function (e, t) {
                    delete e[t]
                }, parentForm: x, $animate: s
            }), this.$setPristine = function () {
                w.$dirty = !1, w.$pristine = !0, s.removeClass(r, po), s.addClass(r, ho)
            }, this.$setDirty = function () {
                w.$dirty = !0, w.$pristine = !1, s.removeClass(r, ho), s.addClass(r, po), x.$setDirty()
            }, this.$setUntouched = function () {
                w.$touched = !1, w.$untouched = !0, s.setClass(r, mo, go)
            }, this.$setTouched = function () {
                w.$touched = !0, w.$untouched = !1, s.setClass(r, go, mo)
            }, this.$rollbackViewValue = function () {
                l.cancel(b), w.$viewValue = w.$$lastCommittedViewValue, w.$render()
            }, this.$validate = function () {
                if (!C(w.$modelValue) || !isNaN(w.$modelValue)) {
                    var e = w.$$lastCommittedViewValue, t = w.$$rawModelValue, i = w.$$parserName || "parse", r = !w.$error[i] && n, o = w.$valid, a = w.$modelValue, s = w.$options && w.$options.allowInvalid;
                    w.$$runValidators(r, t, e, function (e) {
                        s || o === e || (w.$modelValue = e ? t : n, w.$modelValue !== a && w.$$writeModelToScope())
                    })
                }
            }, this.$$runValidators = function (e, t, i, r) {
                function a(e) {
                    var t = w.$$parserName || "parse";
                    if (e === n)c(t, null); else if (c(t, e), !e)return o(w.$validators, function (e, t) {
                        c(t, null)
                    }), o(w.$asyncValidators, function (e, t) {
                        c(t, null)
                    }), !1;
                    return !0
                }

                function s() {
                    var e = !0;
                    return o(w.$validators, function (n, r) {
                        var o = n(t, i);
                        e = e && o, c(r, o)
                    }), !!e || (o(w.$asyncValidators, function (e, t) {
                        c(t, null)
                    }), !1)
                }

                function l() {
                    var e = [], r = !0;
                    o(w.$asyncValidators, function (o, a) {
                        var s = o(t, i);
                        if (!A(s))throw yo("$asyncValidators", "Expected asynchronous validator to return a promise but got '{0}' instead.", s);
                        c(a, n), e.push(s.then(function () {
                            c(a, !0)
                        }, function (e) {
                            r = !1, c(a, !1)
                        }))
                    }), e.length ? d.all(e).then(function () {
                        u(r)
                    }, p) : u(!0)
                }

                function c(e, t) {
                    f === N && w.$setValidity(e, t)
                }

                function u(e) {
                    f === N && r(e)
                }

                N++;
                var f = N;
                return a(e) && s() ? void l() : void u(!1)
            }, this.$commitViewValue = function () {
                var e = w.$viewValue;
                l.cancel(b), (w.$$lastCommittedViewValue !== e || "" === e && w.$$hasNativeValidators) && (w.$$lastCommittedViewValue = e, w.$pristine && this.$setDirty(), this.$$parseAndValidate())
            }, this.$$parseAndValidate = function () {
                function t() {
                    w.$modelValue !== s && w.$$writeModelToScope()
                }

                var i = w.$$lastCommittedViewValue, r = i, o = !v(r) || n;
                if (o)for (var a = 0; a < w.$parsers.length; a++)if (r = w.$parsers[a](r), v(r)) {
                    o = !1;
                    break
                }
                C(w.$modelValue) && isNaN(w.$modelValue) && (w.$modelValue = m(e));
                var s = w.$modelValue, l = w.$options && w.$options.allowInvalid;
                w.$$rawModelValue = r, l && (w.$modelValue = r, t()), w.$$runValidators(o, r, w.$$lastCommittedViewValue, function (e) {
                    l || (w.$modelValue = e ? r : n, t())
                })
            }, this.$$writeModelToScope = function () {
                g(e, w.$modelValue), o(w.$viewChangeListeners, function (e) {
                    try {
                        e()
                    } catch (e) {
                        t(e)
                    }
                })
            }, this.$setViewValue = function (e, t) {
                w.$viewValue = e, w.$options && !w.$options.updateOnDefault || w.$$debounceViewValueCommit(t)
            }, this.$$debounceViewValueCommit = function (t) {
                var n, i = 0, r = w.$options;
                r && y(r.debounce) && (n = r.debounce, C(n) ? i = n : C(n[t]) ? i = n[t] : C(n.default) && (i = n.default)), l.cancel(b), i ? b = l(function () {
                    w.$commitViewValue()
                }, i) : c.$$phase ? w.$commitViewValue() : e.$apply(function () {
                    w.$commitViewValue()
                })
            }, e.$watch(function () {
                var t = m(e);
                if (t !== w.$modelValue) {
                    w.$modelValue = w.$$rawModelValue = t;
                    for (var i = w.$formatters, r = i.length, o = t; r--;)o = i[r](o);
                    w.$viewValue !== o && (w.$viewValue = w.$$lastCommittedViewValue = o, w.$render(), w.$$runValidators(n, t, o, p))
                }
                return t
            })
        }], wo = ["$rootScope", function (e) {
            return {
                restrict: "A",
                require: ["ngModel", "^?form", "^?ngModelOptions"],
                controller: bo,
                priority: 1,
                compile: function (t) {
                    return t.addClass(ho).addClass(mo).addClass(uo), {
                        pre: function (e, t, n, i) {
                            var r = i[0], o = i[1] || Dr;
                            r.$$setOptions(i[2] && i[2].$options), o.$addControl(r), n.$observe("name", function (e) {
                                r.$name !== e && o.$$renameControl(r, e)
                            }), e.$on("$destroy", function () {
                                o.$removeControl(r)
                            })
                        }, post: function (t, n, i, r) {
                            var o = r[0];
                            o.$options && o.$options.updateOn && n.on(o.$options.updateOn, function (e) {
                                o.$$debounceViewValueCommit(e && e.type)
                            }), n.on("blur", function (n) {
                                o.$touched || (e.$$phase ? t.$evalAsync(o.$setTouched) : t.$apply(o.$setTouched))
                            })
                        }
                    }
                }
            }
        }], Co = /(\s+|^)default(\s+|$)/, xo = function () {
            return {
                restrict: "A", controller: ["$scope", "$attrs", function (e, t) {
                    var i = this;
                    this.$options = e.$eval(t.ngModelOptions), this.$options.updateOn !== n ? (this.$options.updateOnDefault = !1, this.$options.updateOn = ui(this.$options.updateOn.replace(Co, function () {
                        return i.$options.updateOnDefault = !0, " "
                    }))) : this.$options.updateOnDefault = !0
                }]
            }
        }, $o = kn({terminal: !0, priority: 1e3}), No = ["$locale", "$interpolate", function (e, t) {
            var n = /{}/g, i = /^when(Minus)?(.+)$/;
            return {
                restrict: "EA", link: function (r, a, s) {
                    function l(e) {
                        a.text(e || "")
                    }

                    var c, d = s.count, u = s.$attr.when && a.attr(s.$attr.when), f = s.offset || 0, h = r.$eval(u) || {}, p = {}, m = t.startSymbol(), g = t.endSymbol(), v = m + d + "-" + f + g, y = si.noop;
                    o(s, function (e, t) {
                        var n = i.exec(t);
                        if (n) {
                            var r = (n[1] ? "-" : "") + Yn(n[2]);
                            h[r] = a.attr(s.$attr[t])
                        }
                    }), o(h, function (e, i) {
                        p[i] = t(e.replace(n, v))
                    }), r.$watch(d, function (t) {
                        var n = parseFloat(t), i = isNaN(n);
                        i || n in h || (n = e.pluralCat(n - f)), n === c || i && isNaN(c) || (y(), y = r.$watch(p[n], l), c = n)
                    })
                }
            }
        }], To = ["$parse", "$animate", function (e, a) {
            var s = "$$NG_REMOVED", l = i("ngRepeat"), c = function (e, t, n, i, r, o, a) {
                e[n] = i, r && (e[r] = o), e.$index = t, e.$first = 0 === t, e.$last = t === a - 1, e.$middle = !(e.$first || e.$last), e.$odd = !(e.$even = 0 === (1 & t))
            }, d = function (e) {
                return e.clone[0]
            }, u = function (e) {
                return e.clone[e.clone.length - 1]
            };
            return {
                restrict: "A",
                multiElement: !0,
                transclude: "element",
                priority: 1e3,
                terminal: !0,
                $$tlb: !0,
                compile: function (i, f) {
                    var h = f.ngRepeat, p = t.createComment(" end ngRepeat: " + h + " "), m = h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);
                    if (!m)throw l("iexp", "Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.", h);
                    var g = m[1], v = m[2], y = m[3], b = m[4];
                    if (m = g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/), !m)throw l("iidexp", "'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.", g);
                    var w = m[3] || m[1], C = m[2];
                    if (y && (!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y) || /^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw l("badident", "alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.", y);
                    var x, $, N, T, k = {$id: He};
                    return b ? x = e(b) : (N = function (e, t) {
                        return He(t)
                    }, T = function (e) {
                        return e
                    }), function (e, t, i, f, m) {
                        x && ($ = function (t, n, i) {
                            return C && (k[C] = t), k[w] = n, k.$index = i, x(e, k)
                        });
                        var g = ce();
                        e.$watchCollection(v, function (i) {
                            var f, v, b, x, k, E, S, U, D, A, B, _, M = t[0], I = ce();
                            if (y && (e[y] = i), r(i))D = i, U = $ || N; else {
                                U = $ || T, D = [];
                                for (var L in i)i.hasOwnProperty(L) && "$" != L.charAt(0) && D.push(L);
                                D.sort()
                            }
                            for (x = D.length, B = new Array(x), f = 0; f < x; f++)if (k = i === D ? f : D[f], E = i[k], S = U(k, E, f), g[S])A = g[S], delete g[S], I[S] = A, B[f] = A; else {
                                if (I[S])throw o(B, function (e) {
                                    e && e.scope && (g[e.id] = e)
                                }), l("dupes", "Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}", h, S, E);
                                B[f] = {id: S, scope: n, clone: n}, I[S] = !0
                            }
                            for (var R in g) {
                                if (A = g[R], _ = le(A.clone), a.leave(_), _[0].parentNode)for (f = 0, v = _.length; f < v; f++)_[f][s] = !0;
                                A.scope.$destroy()
                            }
                            for (f = 0; f < x; f++)if (k = i === D ? f : D[f], E = i[k], A = B[f], A.scope) {
                                b = M;
                                do b = b.nextSibling; while (b && b[s]);
                                d(A) != b && a.move(le(A.clone), null, Zn(M)), M = u(A), c(A.scope, f, w, E, C, k, x)
                            } else m(function (e, t) {
                                A.scope = t;
                                var n = p.cloneNode(!1);
                                e[e.length++] = n, a.enter(e, null, Zn(M)), M = n, A.clone = e, I[A.id] = A, c(A.scope, f, w, E, C, k, x)
                            });
                            g = I
                        })
                    }
                }
            }
        }], ko = "ng-hide", Eo = "ng-hide-animate", So = ["$animate", function (e) {
            return {
                restrict: "A", multiElement: !0, link: function (t, n, i) {
                    t.$watch(i.ngShow, function (t) {
                        e[t ? "removeClass" : "addClass"](n, ko, {tempClasses: Eo})
                    })
                }
            }
        }], Uo = ["$animate", function (e) {
            return {
                restrict: "A", multiElement: !0, link: function (t, n, i) {
                    t.$watch(i.ngHide, function (t) {
                        e[t ? "addClass" : "removeClass"](n, ko, {tempClasses: Eo})
                    })
                }
            }
        }], Do = kn(function (e, t, n) {
            e.$watchCollection(n.ngStyle, function (e, n) {
                n && e !== n && o(n, function (e, n) {
                    t.css(n, "")
                }), e && t.css(e)
            })
        }), Ao = ["$animate", function (e) {
            return {
                restrict: "EA", require: "ngSwitch", controller: ["$scope", function () {
                    this.cases = {}
                }], link: function (n, i, r, a) {
                    var s = r.ngSwitch || r.on, l = [], c = [], d = [], u = [], f = function (e, t) {
                        return function () {
                            e.splice(t, 1)
                        }
                    };
                    n.$watch(s, function (n) {
                        var i, r;
                        for (i = 0, r = d.length; i < r; ++i)e.cancel(d[i]);
                        for (d.length = 0, i = 0, r = u.length; i < r; ++i) {
                            var s = le(c[i].clone);
                            u[i].$destroy();
                            var h = d[i] = e.leave(s);
                            h.then(f(d, i))
                        }
                        c.length = 0, u.length = 0, (l = a.cases["!" + n] || a.cases["?"]) && o(l, function (n) {
                            n.transclude(function (i, r) {
                                u.push(r);
                                var o = n.element;
                                i[i.length++] = t.createComment(" end ngSwitchWhen: ");
                                var a = {clone: i};
                                c.push(a), e.enter(i, o.parent(), o)
                            })
                        })
                    })
                }
            }
        }], Bo = kn({
            transclude: "element",
            priority: 1200,
            require: "^ngSwitch",
            multiElement: !0,
            link: function (e, t, n, i, r) {
                i.cases["!" + n.ngSwitchWhen] = i.cases["!" + n.ngSwitchWhen] || [], i.cases["!" + n.ngSwitchWhen].push({
                    transclude: r,
                    element: t
                })
            }
        }), _o = kn({
            transclude: "element",
            priority: 1200,
            require: "^ngSwitch",
            multiElement: !0,
            link: function (e, t, n, i, r) {
                i.cases["?"] = i.cases["?"] || [], i.cases["?"].push({transclude: r, element: t})
            }
        }), Mo = kn({
            restrict: "EAC", link: function (e, t, n, r, o) {
                if (!o)throw i("ngTransclude")("orphan", "Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}", W(t));
                o(function (e) {
                    t.empty(), t.append(e)
                })
            }
        }), Io = ["$templateCache", function (e) {
            return {
                restrict: "E", terminal: !0, compile: function (t, n) {
                    if ("text/ng-template" == n.type) {
                        var i = n.id, r = t[0].text;
                        e.put(i, r)
                    }
                }
            }
        }], Lo = i("ngOptions"), Ro = g({restrict: "A", terminal: !0}), Oo = ["$compile", "$parse", function (e, i) {
            var r = /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/, s = {$setViewValue: p};
            return {
                restrict: "E",
                require: ["select", "?ngModel"],
                controller: ["$element", "$scope", "$attrs", function (e, t, n) {
                    var i, r, o = this, a = {}, l = s;
                    o.databound = n.ngModel, o.init = function (e, t, n) {
                        l = e, i = t, r = n
                    }, o.addOption = function (t, n) {
                        ae(t, '"option value"'), a[t] = !0, l.$viewValue == t && (e.val(t), r.parent() && r.remove()), n && n[0].hasAttribute("selected") && (n[0].selected = !0)
                    }, o.removeOption = function (e) {
                        this.hasOption(e) && (delete a[e], l.$viewValue === e && this.renderUnknownOption(e))
                    }, o.renderUnknownOption = function (t) {
                        var n = "? " + He(t) + " ?";
                        r.val(n), e.prepend(r), e.val(n), r.prop("selected", !0)
                    }, o.hasOption = function (e) {
                        return a.hasOwnProperty(e)
                    }, t.$on("$destroy", function () {
                        o.renderUnknownOption = p
                    })
                }],
                link: function (s, l, c, d) {
                    function u(e, t, n, i) {
                        n.$render = function () {
                            var e = n.$viewValue;
                            i.hasOption(e) ? (T.parent() && T.remove(), t.val(e), "" === e && p.prop("selected", !0)) : v(e) && p ? t.val("") : i.renderUnknownOption(e)
                        }, t.on("change", function () {
                            e.$apply(function () {
                                T.parent() && T.remove(), n.$setViewValue(t.val())
                            })
                        })
                    }

                    function f(e, t, n) {
                        var i;
                        n.$render = function () {
                            var e = new Fe(n.$viewValue);
                            o(t.find("option"), function (t) {
                                t.selected = y(e.get(t.value))
                            })
                        }, e.$watch(function () {
                            O(i, n.$viewValue) || (i = R(n.$viewValue), n.$render())
                        }), t.on("change", function () {
                            e.$apply(function () {
                                var e = [];
                                o(t.find("option"), function (t) {
                                    t.selected && e.push(t.value)
                                }), n.$setViewValue(e)
                            })
                        })
                    }

                    function h(t, s, l) {
                        function c(e, n, i) {
                            return O[E] = i, D && (O[D] = n), e(t, O)
                        }

                        function d() {
                            t.$apply(function () {
                                var e, n = _(t) || [];
                                if (b)e = [], o(s.val(), function (t) {
                                    t = I ? L[t] : t, e.push(u(t, n[t]))
                                }); else {
                                    var i = I ? L[s.val()] : s.val();
                                    e = u(i, n[i])
                                }
                                l.$setViewValue(e), v()
                            })
                        }

                        function u(e, t) {
                            if ("?" === e)return n;
                            if ("" === e)return null;
                            var i = U ? U : B;
                            return c(i, e, t)
                        }

                        function f() {
                            var e, n = _(t);
                            if (n && di(n)) {
                                e = new Array(n.length);
                                for (var i = 0, r = n.length; i < r; i++)e[i] = c(k, i, n[i]);
                                return e
                            }
                            if (n) {
                                e = {};
                                for (var o in n)n.hasOwnProperty(o) && (e[o] = c(k, o, n[o]))
                            }
                            return e
                        }

                        function h(e) {
                            var t;
                            if (b)if (I && di(e)) {
                                t = new Fe([]);
                                for (var n = 0; n < e.length; n++)t.put(c(I, null, e[n]), !0)
                            } else t = new Fe(e); else I && (e = c(I, null, e));
                            return function (n, i) {
                                var r;
                                return r = I ? I : U ? U : B, b ? y(t.remove(c(r, n, i))) : e === c(r, n, i)
                            }
                        }

                        function p() {
                            x || (t.$$postDigest(v), x = !0)
                        }

                        function g(e, t, n) {
                            e[t] = e[t] || 0, e[t] += n ? 1 : -1
                        }

                        function v() {
                            x = !1;
                            var e, n, i, r, d, u, f, p, v, w, T, E, S, U, B, M, P, H = {"": []}, F = [""], j = l.$viewValue, V = _(t) || [], q = D ? a(V) : V, W = {}, z = h(j), Y = !1;
                            for (L = {}, E = 0; w = q.length, E < w; E++)f = E, D && (f = q[E], "$" === f.charAt(0)) || (p = V[f], e = c(A, f, p) || "", (n = H[e]) || (n = H[e] = [], F.push(e)), S = z(f, p), Y = Y || S, M = c(k, f, p), M = y(M) ? M : "", P = I ? I(t, O) : D ? q[E] : E, I && (L[P] = f), n.push({
                                id: P,
                                label: M,
                                selected: S
                            }));
                            for (b || (C || null === j ? H[""].unshift({
                                id: "",
                                label: "",
                                selected: !Y
                            }) : Y || H[""].unshift({
                                id: "?",
                                label: "",
                                selected: !0
                            })), T = 0, v = F.length; T < v; T++) {
                                for (e = F[T], n = H[e], R.length <= T ? (r = {
                                    element: N.clone().attr("label", e),
                                    label: n.label
                                }, d = [r], R.push(d), s.append(r.element)) : (d = R[T], r = d[0], r.label != e && r.element.attr("label", r.label = e)), U = null, E = 0, w = n.length; E < w; E++)i = n[E], (u = d[E + 1]) ? (U = u.element, u.label !== i.label && (g(W, u.label, !1), g(W, i.label, !0), U.text(u.label = i.label), U.prop("label", u.label)), u.id !== i.id && U.val(u.id = i.id), U[0].selected !== i.selected && (U.prop("selected", u.selected = i.selected), Jn && U.prop("selected", u.selected))) : ("" === i.id && C ? B = C : (B = $.clone()).val(i.id).prop("selected", i.selected).attr("selected", i.selected).prop("label", i.label).text(i.label), d.push(u = {
                                    element: B,
                                    label: i.label,
                                    id: i.id,
                                    selected: i.selected
                                }), g(W, i.label, !0), U ? U.after(B) : r.element.append(B), U = B);
                                for (E++; d.length > E;)i = d.pop(), g(W, i.label, !1), i.element.remove()
                            }
                            for (; R.length > T;) {
                                for (n = R.pop(), E = 1; E < n.length; ++E)g(W, n[E].label, !1);
                                n[0].element.remove()
                            }
                            o(W, function (e, t) {
                                e > 0 ? m.addOption(t) : e < 0 && m.removeOption(t)
                            })
                        }

                        var T;
                        if (!(T = w.match(r)))throw Lo("iexp", "Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}", w, W(s));
                        var k = i(T[2] || T[1]), E = T[4] || T[6], S = / as /.test(T[0]) && T[1], U = S ? i(S) : null, D = T[5], A = i(T[3] || ""), B = i(T[2] ? T[1] : E), _ = i(T[7]), M = T[8], I = M ? i(T[8]) : null, L = {}, R = [[{
                            element: s,
                            label: ""
                        }]], O = {};
                        C && (e(C)(t), C.removeClass("ng-scope"), C.remove()), s.empty(), s.on("change", d), l.$render = v, t.$watchCollection(_, p), t.$watchCollection(f, p), b && t.$watchCollection(function () {
                            return l.$modelValue
                        }, p)
                    }

                    if (d[1]) {
                        for (var p, m = d[0], g = d[1], b = c.multiple, w = c.ngOptions, C = !1, x = !1, $ = Zn(t.createElement("option")), N = Zn(t.createElement("optgroup")), T = $.clone(), k = 0, E = l.children(), S = E.length; k < S; k++)if ("" === E[k].value) {
                            p = C = E.eq(k);
                            break
                        }
                        m.init(g, C, T), b && (g.$isEmpty = function (e) {
                            return !e || 0 === e.length
                        }), w ? h(s, l, g) : b ? f(s, l, g) : u(s, l, g, m)
                    }
                }
            }
        }], Po = ["$interpolate", function (e) {
            var t = {addOption: p, removeOption: p};
            return {
                restrict: "E", priority: 100, compile: function (n, i) {
                    if (v(i.value)) {
                        var r = e(n.text(), !0);
                        r || i.$set("value", n.text())
                    }
                    return function (e, n, i) {
                        var o = "$selectController", a = n.parent(), s = a.data(o) || a.parent().data(o);
                        s && s.databound || (s = t), r ? e.$watch(r, function (e, t) {
                            i.$set("value", e), t !== e && s.removeOption(t), s.addOption(e, n)
                        }) : s.addOption(i.value, n), n.on("$destroy", function () {
                            s.removeOption(i.value)
                        })
                    }
                }
            }
        }], Ho = g({restrict: "E", terminal: !1}), Fo = function () {
            return {
                restrict: "A", require: "?ngModel", link: function (e, t, n, i) {
                    i && (n.required = !0, i.$validators.required = function (e, t) {
                        return !n.required || !i.$isEmpty(t)
                    }, n.$observe("required", function () {
                        i.$validate()
                    }))
                }
            }
        }, jo = function () {
            return {
                restrict: "A", require: "?ngModel", link: function (e, t, r, o) {
                    if (o) {
                        var a, s = r.ngPattern || r.pattern;
                        r.$observe("pattern", function (e) {
                            if (w(e) && e.length > 0 && (e = new RegExp("^" + e + "$")), e && !e.test)throw i("ngPattern")("noregexp", "Expected {0} to be a RegExp but was {1}. Element: {2}", s, e, W(t));
                            a = e || n, o.$validate()
                        }), o.$validators.pattern = function (e) {
                            return o.$isEmpty(e) || v(a) || a.test(e)
                        }
                    }
                }
            }
        }, Vo = function () {
            return {
                restrict: "A", require: "?ngModel", link: function (e, t, n, i) {
                    if (i) {
                        var r = -1;
                        n.$observe("maxlength", function (e) {
                            var t = f(e);
                            r = isNaN(t) ? -1 : t, i.$validate()
                        }), i.$validators.maxlength = function (e, t) {
                            return r < 0 || i.$isEmpty(t) || t.length <= r
                        }
                    }
                }
            }
        }, qo = function () {
            return {
                restrict: "A", require: "?ngModel", link: function (e, t, n, i) {
                    if (i) {
                        var r = 0;
                        n.$observe("minlength", function (e) {
                            r = f(e) || 0, i.$validate()
                        }), i.$validators.minlength = function (e, t) {
                            return i.$isEmpty(t) || t.length >= r
                        }
                    }
                }
            }
        };
        return e.angular.bootstrap ? void console.log("WARNING: Tried to load angular more than once.") : (ie(), he(si), void Zn(t).ready(function () {
            J(t, Z)
        }))
    }(window, document), !window.angular.$$csp() && window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),
        define("angular", function (e) {
            return function () {
                var t;
                return t || e.angular
            }
        }(this)), function (e, t, n) {
        "use strict";
        function i(e, n, i) {
            return {
                restrict: "ECA",
                terminal: !0,
                priority: 400,
                transclude: "element",
                link: function (r, o, a, s, l) {
                    function c() {
                        u && (u.$destroy(), u = null), f && (i.leave(f), f = null)
                    }

                    function d() {
                        var a = e.current && e.current.locals;
                        if (a && a.$template) {
                            var a = r.$new(), s = e.current;
                            f = l(a, function (e) {
                                i.enter(e, null, f || o, function () {
                                    !t.isDefined(h) || h && !r.$eval(h) || n()
                                }), c()
                            }), u = s.scope = a, u.$emit("$viewContentLoaded"), u.$eval(p)
                        } else c()
                    }

                    var u, f, h = a.autoscroll, p = a.onload || "";
                    r.$on("$routeChangeSuccess", d), d()
                }
            }
        }

        function r(e, t, n) {
            return {
                restrict: "ECA", priority: -400, link: function (i, r) {
                    var o = n.current, a = o.locals;
                    r.html(a.$template);
                    var s = e(r.contents());
                    o.controller && (a.$scope = i, a = t(o.controller, a), o.controllerAs && (i[o.controllerAs] = a), r.data("$ngControllerController", a), r.children().data("$ngControllerController", a)), s(i)
                }
            }
        }

        e = t.module("ngRoute", ["ng"]).provider("$route", function () {
            function e(e, n) {
                return t.extend(new (t.extend(function () {
                }, {prototype: e})), n)
            }

            function n(e, t) {
                var n = t.caseInsensitiveMatch, i = {originalPath: e, regexp: e}, r = i.keys = [];
                return e = e.replace(/([().])/g, "\\$1").replace(/(\/)?:(\w+)([\?|\*])?/g, function (e, t, n, i) {
                    return e = "?" === i ? i : null, i = "*" === i ? i : null, r.push({
                        name: n,
                        optional: !!e
                    }), t = t || "", "" + (e ? "" : t) + "(?:" + (e ? t : "") + (i && "(.+?)" || "([^/]+)") + (e || "") + ")" + (e || "")
                }).replace(/([\/$\*])/g, "\\$1"), i.regexp = RegExp("^" + e + "$", n ? "i" : ""), i
            }

            var i = {};
            this.when = function (e, r) {
                if (i[e] = t.extend({reloadOnSearch: !0}, r, e && n(e, r)), e) {
                    var o = "/" == e[e.length - 1] ? e.substr(0, e.length - 1) : e + "/";
                    i[o] = t.extend({redirectTo: e}, n(o, r))
                }
                return this
            }, this.otherwise = function (e) {
                return this.when(null, e), this
            }, this.$get = ["$rootScope", "$location", "$routeParams", "$q", "$injector", "$http", "$templateCache", "$sce", function (n, r, o, a, s, l, c, d) {
                function u() {
                    var e = f(), i = m.current;
                    e && i && e.$$route === i.$$route && t.equals(e.pathParams, i.pathParams) && !e.reloadOnSearch && !p ? (i.params = e.params, t.copy(i.params, o), n.$broadcast("$routeUpdate", i)) : (e || i) && (p = !1, n.$broadcast("$routeChangeStart", e, i), (m.current = e) && e.redirectTo && (t.isString(e.redirectTo) ? r.path(h(e.redirectTo, e.params)).search(e.params).replace() : r.url(e.redirectTo(e.pathParams, r.path(), r.search())).replace()), a.when(e).then(function () {
                        if (e) {
                            var n, i, r = t.extend({}, e.resolve);
                            return t.forEach(r, function (e, n) {
                                r[n] = t.isString(e) ? s.get(e) : s.invoke(e)
                            }), t.isDefined(n = e.template) ? t.isFunction(n) && (n = n(e.params)) : t.isDefined(i = e.templateUrl) && (t.isFunction(i) && (i = i(e.params)), i = d.getTrustedResourceUrl(i), t.isDefined(i) && (e.loadedTemplateUrl = i, n = l.get(i, {cache: c}).then(function (e) {
                                return e.data
                            }))), t.isDefined(n) && (r.$template = n), a.all(r)
                        }
                    }).then(function (r) {
                        e == m.current && (e && (e.locals = r, t.copy(e.params, o)), n.$broadcast("$routeChangeSuccess", e, i))
                    }, function (t) {
                        e == m.current && n.$broadcast("$routeChangeError", e, i, t)
                    }))
                }

                function f() {
                    var n, o;
                    return t.forEach(i, function (i, a) {
                        var s;
                        if (s = !o) {
                            var l = r.path();
                            s = i.keys;
                            var c = {};
                            if (i.regexp)if (l = i.regexp.exec(l)) {
                                for (var d = 1, u = l.length; d < u; ++d) {
                                    var f = s[d - 1], h = "string" == typeof l[d] ? decodeURIComponent(l[d]) : l[d];
                                    f && h && (c[f.name] = h)
                                }
                                s = c
                            } else s = null; else s = null;
                            s = n = s
                        }
                        s && (o = e(i, {params: t.extend({}, r.search(), n), pathParams: n}), o.$$route = i)
                    }), o || i[null] && e(i[null], {params: {}, pathParams: {}})
                }

                function h(e, n) {
                    var i = [];
                    return t.forEach((e || "").split(":"), function (e, t) {
                        if (0 === t)i.push(e); else {
                            var r = e.match(/(\w+)(.*)/), o = r[1];
                            i.push(n[o]), i.push(r[2] || ""), delete n[o]
                        }
                    }), i.join("")
                }

                var p = !1, m = {
                    routes: i, reload: function () {
                        p = !0, n.$evalAsync(u)
                    }
                };
                return n.$on("$locationChangeSuccess", u), m
            }]
        }), e.provider("$routeParams", function () {
            this.$get = function () {
                return {}
            }
        }), e.directive("ngView", i), e.directive("ngView", r), i.$inject = ["$route", "$anchorScroll", "$animate"], r.$inject = ["$compile", "$controller", "$route"]
    }(window, window.angular), define("angularRouter", function (e) {
        return function () {
            var t;
            return t || e.angularRouter
        }
    }(this)), function () {
        function e(e) {
            function t(t, n, i, r, o, a) {
                for (; o >= 0 && a > o; o += e) {
                    var s = r ? r[o] : o;
                    i = n(i, t[s], s, t)
                }
                return i
            }

            return function (n, i, r, o) {
                i = b(i, o, 4);
                var a = !k(n) && y.keys(n), s = (a || n).length, l = e > 0 ? 0 : s - 1;
                return arguments.length < 3 && (r = n[a ? a[l] : l], l += e), t(n, i, r, a, l, s)
            }
        }

        function t(e) {
            return function (t, n, i) {
                n = w(n, i);
                for (var r = T(t), o = e > 0 ? 0 : r - 1; o >= 0 && r > o; o += e)if (n(t[o], o, t))return o;
                return -1
            }
        }

        function n(e, t, n) {
            return function (i, r, o) {
                var a = 0, s = T(i);
                if ("number" == typeof o)e > 0 ? a = o >= 0 ? o : Math.max(o + s, a) : s = o >= 0 ? Math.min(o + 1, s) : o + s + 1; else if (n && o && s)return o = n(i, r), i[o] === r ? o : -1;
                if (r !== r)return o = t(d.call(i, a, s), y.isNaN), o >= 0 ? o + a : -1;
                for (o = e > 0 ? a : s - 1; o >= 0 && s > o; o += e)if (i[o] === r)return o;
                return -1
            }
        }

        function i(e, t) {
            var n = A.length, i = e.constructor, r = y.isFunction(i) && i.prototype || s, o = "constructor";
            for (y.has(e, o) && !y.contains(t, o) && t.push(o); n--;)o = A[n], o in e && e[o] !== r[o] && !y.contains(t, o) && t.push(o)
        }

        var r = this, o = r._, a = Array.prototype, s = Object.prototype, l = Function.prototype, c = a.push, d = a.slice, u = s.toString, f = s.hasOwnProperty, h = Array.isArray, p = Object.keys, m = l.bind, g = Object.create, v = function () {
        }, y = function (e) {
            return e instanceof y ? e : this instanceof y ? void(this._wrapped = e) : new y(e)
        };
        "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = y), exports._ = y) : r._ = y, y.VERSION = "1.8.3";
        var b = function (e, t, n) {
            if (void 0 === t)return e;
            switch (null == n ? 3 : n) {
                case 1:
                    return function (n) {
                        return e.call(t, n)
                    };
                case 2:
                    return function (n, i) {
                        return e.call(t, n, i)
                    };
                case 3:
                    return function (n, i, r) {
                        return e.call(t, n, i, r)
                    };
                case 4:
                    return function (n, i, r, o) {
                        return e.call(t, n, i, r, o)
                    }
            }
            return function () {
                return e.apply(t, arguments)
            }
        }, w = function (e, t, n) {
            return null == e ? y.identity : y.isFunction(e) ? b(e, t, n) : y.isObject(e) ? y.matcher(e) : y.property(e)
        };
        y.iteratee = function (e, t) {
            return w(e, t, 1 / 0)
        };
        var C = function (e, t) {
            return function (n) {
                var i = arguments.length;
                if (2 > i || null == n)return n;
                for (var r = 1; i > r; r++)for (var o = arguments[r], a = e(o), s = a.length, l = 0; s > l; l++) {
                    var c = a[l];
                    t && void 0 !== n[c] || (n[c] = o[c])
                }
                return n
            }
        }, x = function (e) {
            if (!y.isObject(e))return {};
            if (g)return g(e);
            v.prototype = e;
            var t = new v;
            return v.prototype = null, t
        }, $ = function (e) {
            return function (t) {
                return null == t ? void 0 : t[e]
            }
        }, N = Math.pow(2, 53) - 1, T = $("length"), k = function (e) {
            var t = T(e);
            return "number" == typeof t && t >= 0 && N >= t
        };
        y.each = y.forEach = function (e, t, n) {
            t = b(t, n);
            var i, r;
            if (k(e))for (i = 0, r = e.length; r > i; i++)t(e[i], i, e); else {
                var o = y.keys(e);
                for (i = 0, r = o.length; r > i; i++)t(e[o[i]], o[i], e)
            }
            return e
        }, y.map = y.collect = function (e, t, n) {
            t = w(t, n);
            for (var i = !k(e) && y.keys(e), r = (i || e).length, o = Array(r), a = 0; r > a; a++) {
                var s = i ? i[a] : a;
                o[a] = t(e[s], s, e)
            }
            return o
        }, y.reduce = y.foldl = y.inject = e(1), y.reduceRight = y.foldr = e(-1), y.find = y.detect = function (e, t, n) {
            var i;
            return i = k(e) ? y.findIndex(e, t, n) : y.findKey(e, t, n), void 0 !== i && i !== -1 ? e[i] : void 0
        }, y.filter = y.select = function (e, t, n) {
            var i = [];
            return t = w(t, n), y.each(e, function (e, n, r) {
                t(e, n, r) && i.push(e)
            }), i
        }, y.reject = function (e, t, n) {
            return y.filter(e, y.negate(w(t)), n)
        }, y.every = y.all = function (e, t, n) {
            t = w(t, n);
            for (var i = !k(e) && y.keys(e), r = (i || e).length, o = 0; r > o; o++) {
                var a = i ? i[o] : o;
                if (!t(e[a], a, e))return !1
            }
            return !0
        }, y.some = y.any = function (e, t, n) {
            t = w(t, n);
            for (var i = !k(e) && y.keys(e), r = (i || e).length, o = 0; r > o; o++) {
                var a = i ? i[o] : o;
                if (t(e[a], a, e))return !0
            }
            return !1
        }, y.contains = y.includes = y.include = function (e, t, n, i) {
            return k(e) || (e = y.values(e)), ("number" != typeof n || i) && (n = 0), y.indexOf(e, t, n) >= 0
        }, y.invoke = function (e, t) {
            var n = d.call(arguments, 2), i = y.isFunction(t);
            return y.map(e, function (e) {
                var r = i ? t : e[t];
                return null == r ? r : r.apply(e, n)
            })
        }, y.pluck = function (e, t) {
            return y.map(e, y.property(t))
        }, y.where = function (e, t) {
            return y.filter(e, y.matcher(t))
        }, y.findWhere = function (e, t) {
            return y.find(e, y.matcher(t))
        }, y.max = function (e, t, n) {
            var i, r, o = -1 / 0, a = -1 / 0;
            if (null == t && null != e) {
                e = k(e) ? e : y.values(e);
                for (var s = 0, l = e.length; l > s; s++)i = e[s], i > o && (o = i)
            } else t = w(t, n), y.each(e, function (e, n, i) {
                r = t(e, n, i), (r > a || r === -1 / 0 && o === -1 / 0) && (o = e, a = r)
            });
            return o
        }, y.min = function (e, t, n) {
            var i, r, o = 1 / 0, a = 1 / 0;
            if (null == t && null != e) {
                e = k(e) ? e : y.values(e);
                for (var s = 0, l = e.length; l > s; s++)i = e[s], o > i && (o = i)
            } else t = w(t, n), y.each(e, function (e, n, i) {
                r = t(e, n, i), (a > r || 1 / 0 === r && 1 / 0 === o) && (o = e, a = r)
            });
            return o
        }, y.shuffle = function (e) {
            for (var t, n = k(e) ? e : y.values(e), i = n.length, r = Array(i), o = 0; i > o; o++)t = y.random(0, o), t !== o && (r[o] = r[t]), r[t] = n[o];
            return r
        }, y.sample = function (e, t, n) {
            return null == t || n ? (k(e) || (e = y.values(e)), e[y.random(e.length - 1)]) : y.shuffle(e).slice(0, Math.max(0, t))
        }, y.sortBy = function (e, t, n) {
            return t = w(t, n), y.pluck(y.map(e, function (e, n, i) {
                return {value: e, index: n, criteria: t(e, n, i)}
            }).sort(function (e, t) {
                var n = e.criteria, i = t.criteria;
                if (n !== i) {
                    if (n > i || void 0 === n)return 1;
                    if (i > n || void 0 === i)return -1
                }
                return e.index - t.index
            }), "value")
        };
        var E = function (e) {
            return function (t, n, i) {
                var r = {};
                return n = w(n, i), y.each(t, function (i, o) {
                    var a = n(i, o, t);
                    e(r, i, a)
                }), r
            }
        };
        y.groupBy = E(function (e, t, n) {
            y.has(e, n) ? e[n].push(t) : e[n] = [t]
        }), y.indexBy = E(function (e, t, n) {
            e[n] = t
        }), y.countBy = E(function (e, t, n) {
            y.has(e, n) ? e[n]++ : e[n] = 1
        }), y.toArray = function (e) {
            return e ? y.isArray(e) ? d.call(e) : k(e) ? y.map(e, y.identity) : y.values(e) : []
        }, y.size = function (e) {
            return null == e ? 0 : k(e) ? e.length : y.keys(e).length
        }, y.partition = function (e, t, n) {
            t = w(t, n);
            var i = [], r = [];
            return y.each(e, function (e, n, o) {
                (t(e, n, o) ? i : r).push(e)
            }), [i, r]
        }, y.first = y.head = y.take = function (e, t, n) {
            return null == e ? void 0 : null == t || n ? e[0] : y.initial(e, e.length - t)
        }, y.initial = function (e, t, n) {
            return d.call(e, 0, Math.max(0, e.length - (null == t || n ? 1 : t)))
        }, y.last = function (e, t, n) {
            return null == e ? void 0 : null == t || n ? e[e.length - 1] : y.rest(e, Math.max(0, e.length - t))
        }, y.rest = y.tail = y.drop = function (e, t, n) {
            return d.call(e, null == t || n ? 1 : t)
        }, y.compact = function (e) {
            return y.filter(e, y.identity)
        };
        var S = function (e, t, n, i) {
            for (var r = [], o = 0, a = i || 0, s = T(e); s > a; a++) {
                var l = e[a];
                if (k(l) && (y.isArray(l) || y.isArguments(l))) {
                    t || (l = S(l, t, n));
                    var c = 0, d = l.length;
                    for (r.length += d; d > c;)r[o++] = l[c++]
                } else n || (r[o++] = l)
            }
            return r
        };
        y.flatten = function (e, t) {
            return S(e, t, !1)
        }, y.without = function (e) {
            return y.difference(e, d.call(arguments, 1))
        }, y.uniq = y.unique = function (e, t, n, i) {
            y.isBoolean(t) || (i = n, n = t, t = !1), null != n && (n = w(n, i));
            for (var r = [], o = [], a = 0, s = T(e); s > a; a++) {
                var l = e[a], c = n ? n(l, a, e) : l;
                t ? (a && o === c || r.push(l), o = c) : n ? y.contains(o, c) || (o.push(c), r.push(l)) : y.contains(r, l) || r.push(l)
            }
            return r
        }, y.union = function () {
            return y.uniq(S(arguments, !0, !0))
        }, y.intersection = function (e) {
            for (var t = [], n = arguments.length, i = 0, r = T(e); r > i; i++) {
                var o = e[i];
                if (!y.contains(t, o)) {
                    for (var a = 1; n > a && y.contains(arguments[a], o); a++);
                    a === n && t.push(o)
                }
            }
            return t
        }, y.difference = function (e) {
            var t = S(arguments, !0, !0, 1);
            return y.filter(e, function (e) {
                return !y.contains(t, e)
            })
        }, y.zip = function () {
            return y.unzip(arguments)
        }, y.unzip = function (e) {
            for (var t = e && y.max(e, T).length || 0, n = Array(t), i = 0; t > i; i++)n[i] = y.pluck(e, i);
            return n
        }, y.object = function (e, t) {
            for (var n = {}, i = 0, r = T(e); r > i; i++)t ? n[e[i]] = t[i] : n[e[i][0]] = e[i][1];
            return n
        }, y.findIndex = t(1), y.findLastIndex = t(-1), y.sortedIndex = function (e, t, n, i) {
            n = w(n, i, 1);
            for (var r = n(t), o = 0, a = T(e); a > o;) {
                var s = Math.floor((o + a) / 2);
                n(e[s]) < r ? o = s + 1 : a = s
            }
            return o
        }, y.indexOf = n(1, y.findIndex, y.sortedIndex), y.lastIndexOf = n(-1, y.findLastIndex), y.range = function (e, t, n) {
            null == t && (t = e || 0, e = 0), n = n || 1;
            for (var i = Math.max(Math.ceil((t - e) / n), 0), r = Array(i), o = 0; i > o; o++, e += n)r[o] = e;
            return r
        };
        var U = function (e, t, n, i, r) {
            if (!(i instanceof t))return e.apply(n, r);
            var o = x(e.prototype), a = e.apply(o, r);
            return y.isObject(a) ? a : o
        };
        y.bind = function (e, t) {
            if (m && e.bind === m)return m.apply(e, d.call(arguments, 1));
            if (!y.isFunction(e))throw new TypeError("Bind must be called on a function");
            var n = d.call(arguments, 2), i = function () {
                return U(e, i, t, this, n.concat(d.call(arguments)))
            };
            return i
        }, y.partial = function (e) {
            var t = d.call(arguments, 1), n = function () {
                for (var i = 0, r = t.length, o = Array(r), a = 0; r > a; a++)o[a] = t[a] === y ? arguments[i++] : t[a];
                for (; i < arguments.length;)o.push(arguments[i++]);
                return U(e, n, this, this, o)
            };
            return n
        }, y.bindAll = function (e) {
            var t, n, i = arguments.length;
            if (1 >= i)throw new Error("bindAll must be passed function names");
            for (t = 1; i > t; t++)n = arguments[t], e[n] = y.bind(e[n], e);
            return e
        }, y.memoize = function (e, t) {
            var n = function (i) {
                var r = n.cache, o = "" + (t ? t.apply(this, arguments) : i);
                return y.has(r, o) || (r[o] = e.apply(this, arguments)), r[o]
            };
            return n.cache = {}, n
        }, y.delay = function (e, t) {
            var n = d.call(arguments, 2);
            return setTimeout(function () {
                return e.apply(null, n)
            }, t)
        }, y.defer = y.partial(y.delay, y, 1), y.throttle = function (e, t, n) {
            var i, r, o, a = null, s = 0;
            n || (n = {});
            var l = function () {
                s = n.leading === !1 ? 0 : y.now(), a = null, o = e.apply(i, r), a || (i = r = null)
            };
            return function () {
                var c = y.now();
                s || n.leading !== !1 || (s = c);
                var d = t - (c - s);
                return i = this, r = arguments, 0 >= d || d > t ? (a && (clearTimeout(a), a = null), s = c, o = e.apply(i, r), a || (i = r = null)) : a || n.trailing === !1 || (a = setTimeout(l, d)), o
            }
        }, y.debounce = function (e, t, n) {
            var i, r, o, a, s, l = function () {
                var c = y.now() - a;
                t > c && c >= 0 ? i = setTimeout(l, t - c) : (i = null, n || (s = e.apply(o, r), i || (o = r = null)))
            };
            return function () {
                o = this, r = arguments, a = y.now();
                var c = n && !i;
                return i || (i = setTimeout(l, t)), c && (s = e.apply(o, r), o = r = null), s
            }
        }, y.wrap = function (e, t) {
            return y.partial(t, e)
        }, y.negate = function (e) {
            return function () {
                return !e.apply(this, arguments)
            }
        }, y.compose = function () {
            var e = arguments, t = e.length - 1;
            return function () {
                for (var n = t, i = e[t].apply(this, arguments); n--;)i = e[n].call(this, i);
                return i
            }
        }, y.after = function (e, t) {
            return function () {
                return --e < 1 ? t.apply(this, arguments) : void 0
            }
        }, y.before = function (e, t) {
            var n;
            return function () {
                return --e > 0 && (n = t.apply(this, arguments)), 1 >= e && (t = null), n
            }
        }, y.once = y.partial(y.before, 2);
        var D = !{toString: null}.propertyIsEnumerable("toString"), A = ["valueOf", "isPrototypeOf", "toString", "propertyIsEnumerable", "hasOwnProperty", "toLocaleString"];
        y.keys = function (e) {
            if (!y.isObject(e))return [];
            if (p)return p(e);
            var t = [];
            for (var n in e)y.has(e, n) && t.push(n);
            return D && i(e, t), t
        }, y.allKeys = function (e) {
            if (!y.isObject(e))return [];
            var t = [];
            for (var n in e)t.push(n);
            return D && i(e, t), t
        }, y.values = function (e) {
            for (var t = y.keys(e), n = t.length, i = Array(n), r = 0; n > r; r++)i[r] = e[t[r]];
            return i
        }, y.mapObject = function (e, t, n) {
            t = w(t, n);
            for (var i, r = y.keys(e), o = r.length, a = {}, s = 0; o > s; s++)i = r[s], a[i] = t(e[i], i, e);
            return a
        }, y.pairs = function (e) {
            for (var t = y.keys(e), n = t.length, i = Array(n), r = 0; n > r; r++)i[r] = [t[r], e[t[r]]];
            return i
        }, y.invert = function (e) {
            for (var t = {}, n = y.keys(e), i = 0, r = n.length; r > i; i++)t[e[n[i]]] = n[i];
            return t
        }, y.functions = y.methods = function (e) {
            var t = [];
            for (var n in e)y.isFunction(e[n]) && t.push(n);
            return t.sort()
        }, y.extend = C(y.allKeys), y.extendOwn = y.assign = C(y.keys), y.findKey = function (e, t, n) {
            t = w(t, n);
            for (var i, r = y.keys(e), o = 0, a = r.length; a > o; o++)if (i = r[o], t(e[i], i, e))return i
        }, y.pick = function (e, t, n) {
            var i, r, o = {}, a = e;
            if (null == a)return o;
            y.isFunction(t) ? (r = y.allKeys(a), i = b(t, n)) : (r = S(arguments, !1, !1, 1), i = function (e, t, n) {
                return t in n
            }, a = Object(a));
            for (var s = 0, l = r.length; l > s; s++) {
                var c = r[s], d = a[c];
                i(d, c, a) && (o[c] = d)
            }
            return o
        }, y.omit = function (e, t, n) {
            if (y.isFunction(t))t = y.negate(t); else {
                var i = y.map(S(arguments, !1, !1, 1), String);
                t = function (e, t) {
                    return !y.contains(i, t)
                }
            }
            return y.pick(e, t, n)
        }, y.defaults = C(y.allKeys, !0), y.create = function (e, t) {
            var n = x(e);
            return t && y.extendOwn(n, t), n
        }, y.clone = function (e) {
            return y.isObject(e) ? y.isArray(e) ? e.slice() : y.extend({}, e) : e
        }, y.tap = function (e, t) {
            return t(e), e
        }, y.isMatch = function (e, t) {
            var n = y.keys(t), i = n.length;
            if (null == e)return !i;
            for (var r = Object(e), o = 0; i > o; o++) {
                var a = n[o];
                if (t[a] !== r[a] || !(a in r))return !1
            }
            return !0
        };
        var B = function (e, t, n, i) {
            if (e === t)return 0 !== e || 1 / e === 1 / t;
            if (null == e || null == t)return e === t;
            e instanceof y && (e = e._wrapped), t instanceof y && (t = t._wrapped);
            var r = u.call(e);
            if (r !== u.call(t))return !1;
            switch (r) {
                case"[object RegExp]":
                case"[object String]":
                    return "" + e == "" + t;
                case"[object Number]":
                    return +e !== +e ? +t !== +t : 0 === +e ? 1 / +e === 1 / t : +e === +t;
                case"[object Date]":
                case"[object Boolean]":
                    return +e === +t
            }
            var o = "[object Array]" === r;
            if (!o) {
                if ("object" != typeof e || "object" != typeof t)return !1;
                var a = e.constructor, s = t.constructor;
                if (a !== s && !(y.isFunction(a) && a instanceof a && y.isFunction(s) && s instanceof s) && "constructor" in e && "constructor" in t)return !1
            }
            n = n || [], i = i || [];
            for (var l = n.length; l--;)if (n[l] === e)return i[l] === t;
            if (n.push(e), i.push(t), o) {
                if (l = e.length, l !== t.length)return !1;
                for (; l--;)if (!B(e[l], t[l], n, i))return !1
            } else {
                var c, d = y.keys(e);
                if (l = d.length, y.keys(t).length !== l)return !1;
                for (; l--;)if (c = d[l], !y.has(t, c) || !B(e[c], t[c], n, i))return !1
            }
            return n.pop(), i.pop(), !0
        };
        y.isEqual = function (e, t) {
            return B(e, t)
        }, y.isEmpty = function (e) {
            return null == e || (k(e) && (y.isArray(e) || y.isString(e) || y.isArguments(e)) ? 0 === e.length : 0 === y.keys(e).length)
        }, y.isElement = function (e) {
            return !(!e || 1 !== e.nodeType)
        }, y.isArray = h || function (e) {
                return "[object Array]" === u.call(e)
            }, y.isObject = function (e) {
            var t = typeof e;
            return "function" === t || "object" === t && !!e
        }, y.each(["Arguments", "Function", "String", "Number", "Date", "RegExp", "Error"], function (e) {
            y["is" + e] = function (t) {
                return u.call(t) === "[object " + e + "]"
            }
        }), y.isArguments(arguments) || (y.isArguments = function (e) {
            return y.has(e, "callee")
        }), "function" != typeof/./ && "object" != typeof Int8Array && (y.isFunction = function (e) {
            return "function" == typeof e || !1
        }), y.isFinite = function (e) {
            return isFinite(e) && !isNaN(parseFloat(e))
        }, y.isNaN = function (e) {
            return y.isNumber(e) && e !== +e
        }, y.isBoolean = function (e) {
            return e === !0 || e === !1 || "[object Boolean]" === u.call(e)
        }, y.isNull = function (e) {
            return null === e
        }, y.isUndefined = function (e) {
            return void 0 === e
        }, y.has = function (e, t) {
            return null != e && f.call(e, t)
        }, y.noConflict = function () {
            return r._ = o, this
        }, y.identity = function (e) {
            return e
        }, y.constant = function (e) {
            return function () {
                return e
            }
        }, y.noop = function () {
        }, y.property = $, y.propertyOf = function (e) {
            return null == e ? function () {
            } : function (t) {
                return e[t]
            }
        }, y.matcher = y.matches = function (e) {
            return e = y.extendOwn({}, e), function (t) {
                return y.isMatch(t, e)
            }
        }, y.times = function (e, t, n) {
            var i = Array(Math.max(0, e));
            t = b(t, n, 1);
            for (var r = 0; e > r; r++)i[r] = t(r);
            return i
        }, y.random = function (e, t) {
            return null == t && (t = e, e = 0), e + Math.floor(Math.random() * (t - e + 1))
        }, y.now = Date.now || function () {
                return (new Date).getTime()
            };
        var _ = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#x27;",
            "`": "&#x60;"
        }, M = y.invert(_), I = function (e) {
            var t = function (t) {
                return e[t]
            }, n = "(?:" + y.keys(e).join("|") + ")", i = RegExp(n), r = RegExp(n, "g");
            return function (e) {
                return e = null == e ? "" : "" + e, i.test(e) ? e.replace(r, t) : e
            }
        };
        y.escape = I(_), y.unescape = I(M), y.result = function (e, t, n) {
            var i = null == e ? void 0 : e[t];
            return void 0 === i && (i = n), y.isFunction(i) ? i.call(e) : i
        };
        var L = 0;
        y.uniqueId = function (e) {
            var t = ++L + "";
            return e ? e + t : t
        }, y.templateSettings = {
            evaluate: /<%([\s\S]+?)%>/g,
            interpolate: /<%=([\s\S]+?)%>/g,
            escape: /<%-([\s\S]+?)%>/g
        };
        var R = /(.)^/, O = {
            "'": "'",
            "\\": "\\",
            "\r": "r",
            "\n": "n",
            "\u2028": "u2028",
            "\u2029": "u2029"
        }, P = /\\|'|\r|\n|\u2028|\u2029/g, H = function (e) {
            return "\\" + O[e]
        };
        y.template = function (e, t, n) {
            !t && n && (t = n), t = y.defaults({}, t, y.templateSettings);
            var i = RegExp([(t.escape || R).source, (t.interpolate || R).source, (t.evaluate || R).source].join("|") + "|$", "g"), r = 0, o = "__p+='";
            e.replace(i, function (t, n, i, a, s) {
                return o += e.slice(r, s).replace(P, H), r = s + t.length, n ? o += "'+\n((__t=(" + n + "))==null?'':_.escape(__t))+\n'" : i ? o += "'+\n((__t=(" + i + "))==null?'':__t)+\n'" : a && (o += "';\n" + a + "\n__p+='"), t
            }), o += "';\n", t.variable || (o = "with(obj||{}){\n" + o + "}\n"), o = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + o + "return __p;\n";
            try {
                var a = new Function(t.variable || "obj", "_", o)
            } catch (e) {
                throw e.source = o, e
            }
            var s = function (e) {
                return a.call(this, e, y)
            }, l = t.variable || "obj";
            return s.source = "function(" + l + "){\n" + o + "}", s
        }, y.chain = function (e) {
            var t = y(e);
            return t._chain = !0, t
        };
        var F = function (e, t) {
            return e._chain ? y(t).chain() : t
        };
        y.mixin = function (e) {
            y.each(y.functions(e), function (t) {
                var n = y[t] = e[t];
                y.prototype[t] = function () {
                    var e = [this._wrapped];
                    return c.apply(e, arguments), F(this, n.apply(y, e))
                }
            })
        }, y.mixin(y), y.each(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function (e) {
            var t = a[e];
            y.prototype[e] = function () {
                var n = this._wrapped;
                return t.apply(n, arguments), "shift" !== e && "splice" !== e || 0 !== n.length || delete n[0], F(this, n)
            }
        }), y.each(["concat", "join", "slice"], function (e) {
            var t = a[e];
            y.prototype[e] = function () {
                return F(this, t.apply(this._wrapped, arguments))
            }
        }), y.prototype.value = function () {
            return this._wrapped
        }, y.prototype.valueOf = y.prototype.toJSON = y.prototype.value, y.prototype.toString = function () {
            return "" + this._wrapped
        }, "function" == typeof define && define.amd && define("underscore", [], function () {
            return y
        })
    }.call(this), "undefined" == typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");
+function (e) {
    "use strict";
    function t() {
        var e = document.createElement("bootstrap"), t = {
            WebkitTransition: "webkitTransitionEnd",
            MozTransition: "transitionend",
            OTransition: "oTransitionEnd otransitionend",
            transition: "transitionend"
        };
        for (var n in t)if (void 0 !== e.style[n])return {end: t[n]};
        return !1
    }

    e.fn.emulateTransitionEnd = function (t) {
        var n = !1, i = this;
        e(this).one("bsTransitionEnd", function () {
            n = !0
        });
        var r = function () {
            n || e(i).trigger(e.support.transition.end)
        };
        return setTimeout(r, t), this
    }, e(function () {
        e.support.transition = t(), e.support.transition && (e.event.special.bsTransitionEnd = {
            bindType: e.support.transition.end,
            delegateType: e.support.transition.end,
            handle: function (t) {
                return e(t.target).is(this) ? t.handleObj.handler.apply(this, arguments) : void 0
            }
        })
    })
}(jQuery), +function (e) {
    "use strict";
    function t(t) {
        return this.each(function () {
            var n = e(this), r = n.data("bs.alert");
            r || n.data("bs.alert", r = new i(this)), "string" == typeof t && r[t].call(n)
        })
    }

    var n = '[data-dismiss="alert"]', i = function (t) {
        e(t).on("click", n, this.close)
    };
    i.VERSION = "3.2.0", i.prototype.close = function (t) {
        function n() {
            o.detach().trigger("closed.bs.alert").remove()
        }

        var i = e(this), r = i.attr("data-target");
        r || (r = i.attr("href"), r = r && r.replace(/.*(?=#[^\s]*$)/, ""));
        var o = e(r);
        t && t.preventDefault(), o.length || (o = i.hasClass("alert") ? i : i.parent()), o.trigger(t = e.Event("close.bs.alert")), t.isDefaultPrevented() || (o.removeClass("in"), e.support.transition && o.hasClass("fade") ? o.one("bsTransitionEnd", n).emulateTransitionEnd(150) : n())
    };
    var r = e.fn.alert;
    e.fn.alert = t, e.fn.alert.Constructor = i, e.fn.alert.noConflict = function () {
        return e.fn.alert = r, this
    }, e(document).on("click.bs.alert.data-api", n, i.prototype.close)
}(jQuery), +function (e) {
    "use strict";
    function t(t) {
        return this.each(function () {
            var i = e(this), r = i.data("bs.button"), o = "object" == typeof t && t;
            r || i.data("bs.button", r = new n(this, o)), "toggle" == t ? r.toggle() : t && r.setState(t)
        })
    }

    var n = function (t, i) {
        this.$element = e(t), this.options = e.extend({}, n.DEFAULTS, i), this.isLoading = !1
    };
    n.VERSION = "3.2.0", n.DEFAULTS = {loadingText: "loading..."}, n.prototype.setState = function (t) {
        var n = "disabled", i = this.$element, r = i.is("input") ? "val" : "html", o = i.data();
        t += "Text", null == o.resetText && i.data("resetText", i[r]()), i[r](null == o[t] ? this.options[t] : o[t]), setTimeout(e.proxy(function () {
            "loadingText" == t ? (this.isLoading = !0, i.addClass(n).attr(n, n)) : this.isLoading && (this.isLoading = !1, i.removeClass(n).removeAttr(n))
        }, this), 0)
    }, n.prototype.toggle = function () {
        var e = !0, t = this.$element.closest('[data-toggle="buttons"]');
        if (t.length) {
            var n = this.$element.find("input");
            "radio" == n.prop("type") && (n.prop("checked") && this.$element.hasClass("active") ? e = !1 : t.find(".active").removeClass("active")), e && n.prop("checked", !this.$element.hasClass("active")).trigger("change")
        }
        e && this.$element.toggleClass("active")
    };
    var i = e.fn.button;
    e.fn.button = t, e.fn.button.Constructor = n, e.fn.button.noConflict = function () {
        return e.fn.button = i, this
    }, e(document).on("click.bs.button.data-api", '[data-toggle^="button"]', function (n) {
        var i = e(n.target);
        i.hasClass("btn") || (i = i.closest(".btn")), t.call(i, "toggle"), n.preventDefault()
    })
}(jQuery), +function (e) {
    "use strict";
    function t(t) {
        return this.each(function () {
            var i = e(this), r = i.data("bs.carousel"), o = e.extend({}, n.DEFAULTS, i.data(), "object" == typeof t && t), a = "string" == typeof t ? t : o.slide;
            r || i.data("bs.carousel", r = new n(this, o)), "number" == typeof t ? r.to(t) : a ? r[a]() : o.interval && r.pause().cycle()
        })
    }

    var n = function (t, n) {
        this.$element = e(t).on("keydown.bs.carousel", e.proxy(this.keydown, this)), this.$indicators = this.$element.find(".carousel-indicators"), this.options = n, this.paused = this.sliding = this.interval = this.$active = this.$items = null, "hover" == this.options.pause && this.$element.on("mouseenter.bs.carousel", e.proxy(this.pause, this)).on("mouseleave.bs.carousel", e.proxy(this.cycle, this))
    };
    n.VERSION = "3.2.0", n.DEFAULTS = {interval: 5e3, pause: "hover", wrap: !0}, n.prototype.keydown = function (e) {
        switch (e.which) {
            case 37:
                this.prev();
                break;
            case 39:
                this.next();
                break;
            default:
                return
        }
        e.preventDefault()
    }, n.prototype.cycle = function (t) {
        return t || (this.paused = !1), this.interval && clearInterval(this.interval), this.options.interval && !this.paused && (this.interval = setInterval(e.proxy(this.next, this), this.options.interval)), this
    }, n.prototype.getItemIndex = function (e) {
        return this.$items = e.parent().children(".item"), this.$items.index(e || this.$active)
    }, n.prototype.to = function (t) {
        var n = this, i = this.getItemIndex(this.$active = this.$element.find(".item.active"));
        return t > this.$items.length - 1 || 0 > t ? void 0 : this.sliding ? this.$element.one("slid.bs.carousel", function () {
            n.to(t)
        }) : i == t ? this.pause().cycle() : this.slide(t > i ? "next" : "prev", e(this.$items[t]))
    }, n.prototype.pause = function (t) {
        return t || (this.paused = !0), this.$element.find(".next, .prev").length && e.support.transition && (this.$element.trigger(e.support.transition.end), this.cycle(!0)), this.interval = clearInterval(this.interval), this
    }, n.prototype.next = function () {
        return this.sliding ? void 0 : this.slide("next")
    }, n.prototype.prev = function () {
        return this.sliding ? void 0 : this.slide("prev")
    }, n.prototype.slide = function (t, n) {
        var i = this.$element.find(".item.active"), r = n || i[t](), o = this.interval, a = "next" == t ? "left" : "right", s = "next" == t ? "first" : "last", l = this;
        if (!r.length) {
            if (!this.options.wrap)return;
            r = this.$element.find(".item")[s]()
        }
        if (r.hasClass("active"))return this.sliding = !1;
        var c = r[0], d = e.Event("slide.bs.carousel", {relatedTarget: c, direction: a});
        if (this.$element.trigger(d), !d.isDefaultPrevented()) {
            if (this.sliding = !0, o && this.pause(), this.$indicators.length) {
                this.$indicators.find(".active").removeClass("active");
                var u = e(this.$indicators.children()[this.getItemIndex(r)]);
                u && u.addClass("active")
            }
            var f = e.Event("slid.bs.carousel", {relatedTarget: c, direction: a});
            return e.support.transition && this.$element.hasClass("slide") ? (r.addClass(t), r[0].offsetWidth, i.addClass(a), r.addClass(a), i.one("bsTransitionEnd", function () {
                r.removeClass([t, a].join(" ")).addClass("active"), i.removeClass(["active", a].join(" ")), l.sliding = !1, setTimeout(function () {
                    l.$element.trigger(f)
                }, 0)
            }).emulateTransitionEnd(1e3 * i.css("transition-duration").slice(0, -1))) : (i.removeClass("active"), r.addClass("active"), this.sliding = !1, this.$element.trigger(f)), o && this.cycle(), this
        }
    };
    var i = e.fn.carousel;
    e.fn.carousel = t, e.fn.carousel.Constructor = n, e.fn.carousel.noConflict = function () {
        return e.fn.carousel = i, this
    }, e(document).on("click.bs.carousel.data-api", "[data-slide], [data-slide-to]", function (n) {
        var i, r = e(this), o = e(r.attr("data-target") || (i = r.attr("href")) && i.replace(/.*(?=#[^\s]+$)/, ""));
        if (o.hasClass("carousel")) {
            var a = e.extend({}, o.data(), r.data()), s = r.attr("data-slide-to");
            s && (a.interval = !1), t.call(o, a), s && o.data("bs.carousel").to(s), n.preventDefault()
        }
    }), e(window).on("load", function () {
        e('[data-ride="carousel"]').each(function () {
            var n = e(this);
            t.call(n, n.data())
        })
    })
}(jQuery), +function (e) {
    "use strict";
    function t(t) {
        return this.each(function () {
            var i = e(this), r = i.data("bs.collapse"), o = e.extend({}, n.DEFAULTS, i.data(), "object" == typeof t && t);
            !r && o.toggle && "show" == t && (t = !t), r || i.data("bs.collapse", r = new n(this, o)), "string" == typeof t && r[t]()
        })
    }

    var n = function (t, i) {
        this.$element = e(t), this.options = e.extend({}, n.DEFAULTS, i), this.transitioning = null, this.options.parent && (this.$parent = e(this.options.parent)), this.options.toggle && this.toggle()
    };
    n.VERSION = "3.2.0", n.DEFAULTS = {toggle: !0}, n.prototype.dimension = function () {
        var e = this.$element.hasClass("width");
        return e ? "width" : "height"
    }, n.prototype.show = function () {
        if (!this.transitioning && !this.$element.hasClass("in")) {
            var n = e.Event("show.bs.collapse");
            if (this.$element.trigger(n), !n.isDefaultPrevented()) {
                var i = this.$parent && this.$parent.find("> .panel > .in");
                if (i && i.length) {
                    var r = i.data("bs.collapse");
                    if (r && r.transitioning)return;
                    t.call(i, "hide"), r || i.data("bs.collapse", null)
                }
                var o = this.dimension();
                this.$element.removeClass("collapse").addClass("collapsing")[o](0), this.transitioning = 1;
                var a = function () {
                    this.$element.removeClass("collapsing").addClass("collapse in")[o](""), this.transitioning = 0, this.$element.trigger("shown.bs.collapse")
                };
                if (!e.support.transition)return a.call(this);
                var s = e.camelCase(["scroll", o].join("-"));
                this.$element.one("bsTransitionEnd", e.proxy(a, this)).emulateTransitionEnd(350)[o](this.$element[0][s])
            }
        }
    }, n.prototype.hide = function () {
        if (!this.transitioning && this.$element.hasClass("in")) {
            var t = e.Event("hide.bs.collapse");
            if (this.$element.trigger(t), !t.isDefaultPrevented()) {
                var n = this.dimension();
                this.$element[n](this.$element[n]())[0].offsetHeight, this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"), this.transitioning = 1;
                var i = function () {
                    this.transitioning = 0, this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")
                };
                return e.support.transition ? void this.$element[n](0).one("bsTransitionEnd", e.proxy(i, this)).emulateTransitionEnd(350) : i.call(this)
            }
        }
    }, n.prototype.toggle = function () {
        this[this.$element.hasClass("in") ? "hide" : "show"]()
    };
    var i = e.fn.collapse;
    e.fn.collapse = t, e.fn.collapse.Constructor = n, e.fn.collapse.noConflict = function () {
        return e.fn.collapse = i, this
    }, e(document).on("click.bs.collapse.data-api", '[data-toggle="collapse"]', function (n) {
        var i, r = e(this), o = r.attr("data-target") || n.preventDefault() || (i = r.attr("href")) && i.replace(/.*(?=#[^\s]+$)/, ""), a = e(o), s = a.data("bs.collapse"), l = s ? "toggle" : r.data(), c = r.attr("data-parent"), d = c && e(c);
        s && s.transitioning || (d && d.find('[data-toggle="collapse"][data-parent="' + c + '"]').not(r).addClass("collapsed"), r[a.hasClass("in") ? "addClass" : "removeClass"]("collapsed")), t.call(a, l)
    })
}(jQuery), +function (e) {
    "use strict";
    function t(t) {
        t && 3 === t.which || (e(r).remove(), e(o).each(function () {
            var i = n(e(this)), r = {relatedTarget: this};
            i.hasClass("open") && (i.trigger(t = e.Event("hide.bs.dropdown", r)), t.isDefaultPrevented() || i.removeClass("open").trigger("hidden.bs.dropdown", r))
        }))
    }

    function n(t) {
        var n = t.attr("data-target");
        n || (n = t.attr("href"), n = n && /#[A-Za-z]/.test(n) && n.replace(/.*(?=#[^\s]*$)/, ""));
        var i = n && e(n);
        return i && i.length ? i : t.parent()
    }

    function i(t) {
        return this.each(function () {
            var n = e(this), i = n.data("bs.dropdown");
            i || n.data("bs.dropdown", i = new a(this)), "string" == typeof t && i[t].call(n)
        })
    }

    var r = ".dropdown-backdrop", o = '[data-toggle="dropdown"]', a = function (t) {
        e(t).on("click.bs.dropdown", this.toggle)
    };
    a.VERSION = "3.2.0", a.prototype.toggle = function (i) {
        var r = e(this);
        if (!r.is(".disabled, :disabled")) {
            var o = n(r), a = o.hasClass("open");
            if (t(), !a) {
                "ontouchstart" in document.documentElement && !o.closest(".navbar-nav").length && e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click", t);
                var s = {relatedTarget: this};
                if (o.trigger(i = e.Event("show.bs.dropdown", s)), i.isDefaultPrevented())return;
                r.trigger("focus"), o.toggleClass("open").trigger("shown.bs.dropdown", s)
            }
            return !1
        }
    }, a.prototype.keydown = function (t) {
        if (/(38|40|27)/.test(t.keyCode)) {
            var i = e(this);
            if (t.preventDefault(), t.stopPropagation(), !i.is(".disabled, :disabled")) {
                var r = n(i), a = r.hasClass("open");
                if (!a || a && 27 == t.keyCode)return 27 == t.which && r.find(o).trigger("focus"), i.trigger("click");
                var s = " li:not(.divider):visible a", l = r.find('[role="menu"]' + s + ', [role="listbox"]' + s);
                if (l.length) {
                    var c = l.index(l.filter(":focus"));
                    38 == t.keyCode && c > 0 && c--, 40 == t.keyCode && c < l.length - 1 && c++, ~c || (c = 0), l.eq(c).trigger("focus")
                }
            }
        }
    };
    var s = e.fn.dropdown;
    e.fn.dropdown = i, e.fn.dropdown.Constructor = a, e.fn.dropdown.noConflict = function () {
        return e.fn.dropdown = s, this
    }, e(document).on("click.bs.dropdown.data-api", t).on("click.bs.dropdown.data-api", ".dropdown form", function (e) {
        e.stopPropagation()
    }).on("click.bs.dropdown.data-api", o, a.prototype.toggle).on("keydown.bs.dropdown.data-api", o + ', [role="menu"], [role="listbox"]', a.prototype.keydown)
}(jQuery), +function (e) {
    "use strict";
    function t(t, i) {
        return this.each(function () {
            var r = e(this), o = r.data("bs.modal"), a = e.extend({}, n.DEFAULTS, r.data(), "object" == typeof t && t);
            o || r.data("bs.modal", o = new n(this, a)), "string" == typeof t ? o[t](i) : a.show && o.show(i)
        })
    }

    var n = function (t, n) {
        this.options = n,
            this.$body = e(document.body), this.$element = e(t), this.$backdrop = this.isShown = null, this.scrollbarWidth = 0, this.options.remote && this.$element.find(".modal-content").load(this.options.remote, e.proxy(function () {
            this.$element.trigger("loaded.bs.modal")
        }, this))
    };
    n.VERSION = "3.2.0", n.DEFAULTS = {backdrop: !0, keyboard: !0, show: !0}, n.prototype.toggle = function (e) {
        return this.isShown ? this.hide() : this.show(e)
    }, n.prototype.show = function (t) {
        var n = this, i = e.Event("show.bs.modal", {relatedTarget: t});
        this.$element.trigger(i), this.isShown || i.isDefaultPrevented() || (this.isShown = !0, this.checkScrollbar(), this.$body.addClass("modal-open"), this.setScrollbar(), this.escape(), this.$element.on("click.dismiss.bs.modal", '[data-dismiss="modal"]', e.proxy(this.hide, this)), this.backdrop(function () {
            var i = e.support.transition && n.$element.hasClass("fade");
            n.$element.parent().length || n.$element.appendTo(n.$body), n.$element.show().scrollTop(0), i && n.$element[0].offsetWidth, n.$element.addClass("in").attr("aria-hidden", !1), n.enforceFocus();
            var r = e.Event("shown.bs.modal", {relatedTarget: t});
            i ? n.$element.find(".modal-dialog").one("bsTransitionEnd", function () {
                n.$element.trigger("focus").trigger(r)
            }).emulateTransitionEnd(300) : n.$element.trigger("focus").trigger(r)
        }))
    }, n.prototype.hide = function (t) {
        t && t.preventDefault(), t = e.Event("hide.bs.modal"), this.$element.trigger(t), this.isShown && !t.isDefaultPrevented() && (this.isShown = !1, this.$body.removeClass("modal-open"), this.resetScrollbar(), this.escape(), e(document).off("focusin.bs.modal"), this.$element.removeClass("in").attr("aria-hidden", !0).off("click.dismiss.bs.modal"), e.support.transition && this.$element.hasClass("fade") ? this.$element.one("bsTransitionEnd", e.proxy(this.hideModal, this)).emulateTransitionEnd(300) : this.hideModal())
    }, n.prototype.enforceFocus = function () {
        e(document).off("focusin.bs.modal").on("focusin.bs.modal", e.proxy(function (e) {
            this.$element[0] === e.target || this.$element.has(e.target).length || this.$element.trigger("focus")
        }, this))
    }, n.prototype.escape = function () {
        this.isShown && this.options.keyboard ? this.$element.on("keyup.dismiss.bs.modal", e.proxy(function (e) {
            27 == e.which && this.hide()
        }, this)) : this.isShown || this.$element.off("keyup.dismiss.bs.modal")
    }, n.prototype.hideModal = function () {
        var e = this;
        this.$element.hide(), this.backdrop(function () {
            e.$element.trigger("hidden.bs.modal")
        })
    }, n.prototype.removeBackdrop = function () {
        this.$backdrop && this.$backdrop.remove(), this.$backdrop = null
    }, n.prototype.backdrop = function (t) {
        var n = this, i = this.$element.hasClass("fade") ? "fade" : "";
        if (this.isShown && this.options.backdrop) {
            var r = e.support.transition && i;
            if (this.$backdrop = e('<div class="modal-backdrop ' + i + '" />').appendTo(this.$body), this.$element.on("click.dismiss.bs.modal", e.proxy(function (e) {
                    e.target === e.currentTarget && ("static" == this.options.backdrop ? this.$element[0].focus.call(this.$element[0]) : this.hide.call(this))
                }, this)), r && this.$backdrop[0].offsetWidth, this.$backdrop.addClass("in"), !t)return;
            r ? this.$backdrop.one("bsTransitionEnd", t).emulateTransitionEnd(150) : t()
        } else if (!this.isShown && this.$backdrop) {
            this.$backdrop.removeClass("in");
            var o = function () {
                n.removeBackdrop(), t && t()
            };
            e.support.transition && this.$element.hasClass("fade") ? this.$backdrop.one("bsTransitionEnd", o).emulateTransitionEnd(150) : o()
        } else t && t()
    }, n.prototype.checkScrollbar = function () {
        document.body.clientWidth >= window.innerWidth || (this.scrollbarWidth = this.scrollbarWidth || this.measureScrollbar())
    }, n.prototype.setScrollbar = function () {
        var e = parseInt(this.$body.css("padding-right") || 0, 10);
        this.scrollbarWidth && this.$body.css("padding-right", e + this.scrollbarWidth)
    }, n.prototype.resetScrollbar = function () {
        this.$body.css("padding-right", "")
    }, n.prototype.measureScrollbar = function () {
        var e = document.createElement("div");
        e.className = "modal-scrollbar-measure", this.$body.append(e);
        var t = e.offsetWidth - e.clientWidth;
        return this.$body[0].removeChild(e), t
    };
    var i = e.fn.modal;
    e.fn.modal = t, e.fn.modal.Constructor = n, e.fn.modal.noConflict = function () {
        return e.fn.modal = i, this
    }, e(document).on("click.bs.modal.data-api", '[data-toggle="modal"]', function (n) {
        var i = e(this), r = i.attr("href"), o = e(i.attr("data-target") || r && r.replace(/.*(?=#[^\s]+$)/, "")), a = o.data("bs.modal") ? "toggle" : e.extend({remote: !/#/.test(r) && r}, o.data(), i.data());
        i.is("a") && n.preventDefault(), o.one("show.bs.modal", function (e) {
            e.isDefaultPrevented() || o.one("hidden.bs.modal", function () {
                i.is(":visible") && i.trigger("focus")
            })
        }), t.call(o, a, this)
    })
}(jQuery), +function (e) {
    "use strict";
    function t(t) {
        return this.each(function () {
            var i = e(this), r = i.data("bs.tooltip"), o = "object" == typeof t && t;
            (r || "destroy" != t) && (r || i.data("bs.tooltip", r = new n(this, o)), "string" == typeof t && r[t]())
        })
    }

    var n = function (e, t) {
        this.type = this.options = this.enabled = this.timeout = this.hoverState = this.$element = null, this.init("tooltip", e, t)
    };
    n.VERSION = "3.2.0", n.DEFAULTS = {
        animation: !0,
        placement: "top",
        selector: !1,
        template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
        trigger: "hover focus",
        title: "",
        delay: 0,
        html: !1,
        container: !1,
        viewport: {selector: "body", padding: 0}
    }, n.prototype.init = function (t, n, i) {
        this.enabled = !0, this.type = t, this.$element = e(n), this.options = this.getOptions(i), this.$viewport = this.options.viewport && e(this.options.viewport.selector || this.options.viewport);
        for (var r = this.options.trigger.split(" "), o = r.length; o--;) {
            var a = r[o];
            if ("click" == a)this.$element.on("click." + this.type, this.options.selector, e.proxy(this.toggle, this)); else if ("manual" != a) {
                var s = "hover" == a ? "mouseenter" : "focusin", l = "hover" == a ? "mouseleave" : "focusout";
                this.$element.on(s + "." + this.type, this.options.selector, e.proxy(this.enter, this)), this.$element.on(l + "." + this.type, this.options.selector, e.proxy(this.leave, this))
            }
        }
        this.options.selector ? this._options = e.extend({}, this.options, {
            trigger: "manual",
            selector: ""
        }) : this.fixTitle()
    }, n.prototype.getDefaults = function () {
        return n.DEFAULTS
    }, n.prototype.getOptions = function (t) {
        return t = e.extend({}, this.getDefaults(), this.$element.data(), t), t.delay && "number" == typeof t.delay && (t.delay = {
            show: t.delay,
            hide: t.delay
        }), t
    }, n.prototype.getDelegateOptions = function () {
        var t = {}, n = this.getDefaults();
        return this._options && e.each(this._options, function (e, i) {
            n[e] != i && (t[e] = i)
        }), t
    }, n.prototype.enter = function (t) {
        var n = t instanceof this.constructor ? t : e(t.currentTarget).data("bs." + this.type);
        return n || (n = new this.constructor(t.currentTarget, this.getDelegateOptions()), e(t.currentTarget).data("bs." + this.type, n)), clearTimeout(n.timeout), n.hoverState = "in", n.options.delay && n.options.delay.show ? void(n.timeout = setTimeout(function () {
            "in" == n.hoverState && n.show()
        }, n.options.delay.show)) : n.show()
    }, n.prototype.leave = function (t) {
        var n = t instanceof this.constructor ? t : e(t.currentTarget).data("bs." + this.type);
        return n || (n = new this.constructor(t.currentTarget, this.getDelegateOptions()), e(t.currentTarget).data("bs." + this.type, n)), clearTimeout(n.timeout), n.hoverState = "out", n.options.delay && n.options.delay.hide ? void(n.timeout = setTimeout(function () {
            "out" == n.hoverState && n.hide()
        }, n.options.delay.hide)) : n.hide()
    }, n.prototype.show = function () {
        var t = e.Event("show.bs." + this.type);
        if (this.hasContent() && this.enabled) {
            this.$element.trigger(t);
            var n = e.contains(document.documentElement, this.$element[0]);
            if (t.isDefaultPrevented() || !n)return;
            var i = this, r = this.tip(), o = this.getUID(this.type);
            this.setContent(), r.attr("id", o), this.$element.attr("aria-describedby", o), this.options.animation && r.addClass("fade");
            var a = "function" == typeof this.options.placement ? this.options.placement.call(this, r[0], this.$element[0]) : this.options.placement, s = /\s?auto?\s?/i, l = s.test(a);
            l && (a = a.replace(s, "") || "top"), r.detach().css({
                top: 0,
                left: 0,
                display: "block"
            }).addClass(a).data("bs." + this.type, this), this.options.container ? r.appendTo(this.options.container) : r.insertAfter(this.$element);
            var c = this.getPosition(), d = r[0].offsetWidth, u = r[0].offsetHeight;
            if (l) {
                var f = a, h = this.$element.parent(), p = this.getPosition(h);
                a = "bottom" == a && c.top + c.height + u - p.scroll > p.height ? "top" : "top" == a && c.top - p.scroll - u < 0 ? "bottom" : "right" == a && c.right + d > p.width ? "left" : "left" == a && c.left - d < p.left ? "right" : a, r.removeClass(f).addClass(a)
            }
            var m = this.getCalculatedOffset(a, c, d, u);
            this.applyPlacement(m, a);
            var g = function () {
                i.$element.trigger("shown.bs." + i.type), i.hoverState = null
            };
            e.support.transition && this.$tip.hasClass("fade") ? r.one("bsTransitionEnd", g).emulateTransitionEnd(150) : g()
        }
    }, n.prototype.applyPlacement = function (t, n) {
        var i = this.tip(), r = i[0].offsetWidth, o = i[0].offsetHeight, a = parseInt(i.css("margin-top"), 10), s = parseInt(i.css("margin-left"), 10);
        isNaN(a) && (a = 0), isNaN(s) && (s = 0), t.top = t.top + a, t.left = t.left + s, e.offset.setOffset(i[0], e.extend({
            using: function (e) {
                i.css({top: Math.round(e.top), left: Math.round(e.left)})
            }
        }, t), 0), i.addClass("in");
        var l = i[0].offsetWidth, c = i[0].offsetHeight;
        "top" == n && c != o && (t.top = t.top + o - c);
        var d = this.getViewportAdjustedDelta(n, t, l, c);
        d.left ? t.left += d.left : t.top += d.top;
        var u = d.left ? 2 * d.left - r + l : 2 * d.top - o + c, f = d.left ? "left" : "top", h = d.left ? "offsetWidth" : "offsetHeight";
        i.offset(t), this.replaceArrow(u, i[0][h], f)
    }, n.prototype.replaceArrow = function (e, t, n) {
        this.arrow().css(n, e ? 50 * (1 - e / t) + "%" : "")
    }, n.prototype.setContent = function () {
        var e = this.tip(), t = this.getTitle();
        e.find(".tooltip-inner")[this.options.html ? "html" : "text"](t), e.removeClass("fade in top bottom left right")
    }, n.prototype.hide = function () {
        function t() {
            "in" != n.hoverState && i.detach(), n.$element.trigger("hidden.bs." + n.type)
        }

        var n = this, i = this.tip(), r = e.Event("hide.bs." + this.type);
        return this.$element.removeAttr("aria-describedby"), this.$element.trigger(r), r.isDefaultPrevented() ? void 0 : (i.removeClass("in"), e.support.transition && this.$tip.hasClass("fade") ? i.one("bsTransitionEnd", t).emulateTransitionEnd(150) : t(), this.hoverState = null, this)
    }, n.prototype.fixTitle = function () {
        var e = this.$element;
        (e.attr("title") || "string" != typeof e.attr("data-original-title")) && e.attr("data-original-title", e.attr("title") || "").attr("title", "")
    }, n.prototype.hasContent = function () {
        return this.getTitle()
    }, n.prototype.getPosition = function (t) {
        t = t || this.$element;
        var n = t[0], i = "BODY" == n.tagName;
        return e.extend({}, "function" == typeof n.getBoundingClientRect ? n.getBoundingClientRect() : null, {
            scroll: i ? document.documentElement.scrollTop || document.body.scrollTop : t.scrollTop(),
            width: i ? e(window).width() : t.outerWidth(),
            height: i ? e(window).height() : t.outerHeight()
        }, i ? {top: 0, left: 0} : t.offset())
    }, n.prototype.getCalculatedOffset = function (e, t, n, i) {
        return "bottom" == e ? {
            top: t.top + t.height,
            left: t.left + t.width / 2 - n / 2
        } : "top" == e ? {
            top: t.top - i,
            left: t.left + t.width / 2 - n / 2
        } : "left" == e ? {top: t.top + t.height / 2 - i / 2, left: t.left - n} : {
            top: t.top + t.height / 2 - i / 2,
            left: t.left + t.width
        }
    }, n.prototype.getViewportAdjustedDelta = function (e, t, n, i) {
        var r = {top: 0, left: 0};
        if (!this.$viewport)return r;
        var o = this.options.viewport && this.options.viewport.padding || 0, a = this.getPosition(this.$viewport);
        if (/right|left/.test(e)) {
            var s = t.top - o - a.scroll, l = t.top + o - a.scroll + i;
            s < a.top ? r.top = a.top - s : l > a.top + a.height && (r.top = a.top + a.height - l)
        } else {
            var c = t.left - o, d = t.left + o + n;
            c < a.left ? r.left = a.left - c : d > a.width && (r.left = a.left + a.width - d)
        }
        return r
    }, n.prototype.getTitle = function () {
        var e, t = this.$element, n = this.options;
        return e = t.attr("data-original-title") || ("function" == typeof n.title ? n.title.call(t[0]) : n.title)
    }, n.prototype.getUID = function (e) {
        do e += ~~(1e6 * Math.random()); while (document.getElementById(e));
        return e
    }, n.prototype.tip = function () {
        return this.$tip = this.$tip || e(this.options.template)
    }, n.prototype.arrow = function () {
        return this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow")
    }, n.prototype.validate = function () {
        this.$element[0].parentNode || (this.hide(), this.$element = null, this.options = null)
    }, n.prototype.enable = function () {
        this.enabled = !0
    }, n.prototype.disable = function () {
        this.enabled = !1
    }, n.prototype.toggleEnabled = function () {
        this.enabled = !this.enabled
    }, n.prototype.toggle = function (t) {
        var n = this;
        t && (n = e(t.currentTarget).data("bs." + this.type), n || (n = new this.constructor(t.currentTarget, this.getDelegateOptions()), e(t.currentTarget).data("bs." + this.type, n))), n.tip().hasClass("in") ? n.leave(n) : n.enter(n)
    }, n.prototype.destroy = function () {
        clearTimeout(this.timeout), this.hide().$element.off("." + this.type).removeData("bs." + this.type)
    };
    var i = e.fn.tooltip;
    e.fn.tooltip = t, e.fn.tooltip.Constructor = n, e.fn.tooltip.noConflict = function () {
        return e.fn.tooltip = i, this
    }
}(jQuery), +function (e) {
    "use strict";
    function t(t) {
        return this.each(function () {
            var i = e(this), r = i.data("bs.popover"), o = "object" == typeof t && t;
            (r || "destroy" != t) && (r || i.data("bs.popover", r = new n(this, o)), "string" == typeof t && r[t]())
        })
    }

    var n = function (e, t) {
        this.init("popover", e, t)
    };
    if (!e.fn.tooltip)throw new Error("Popover requires tooltip.js");
    n.VERSION = "3.2.0", n.DEFAULTS = e.extend({}, e.fn.tooltip.Constructor.DEFAULTS, {
        placement: "right",
        trigger: "click",
        content: "",
        template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
    }), n.prototype = e.extend({}, e.fn.tooltip.Constructor.prototype), n.prototype.constructor = n, n.prototype.getDefaults = function () {
        return n.DEFAULTS
    }, n.prototype.setContent = function () {
        var e = this.tip(), t = this.getTitle(), n = this.getContent();
        e.find(".popover-title")[this.options.html ? "html" : "text"](t), e.find(".popover-content").empty()[this.options.html ? "string" == typeof n ? "html" : "append" : "text"](n), e.removeClass("fade top bottom left right in"), e.find(".popover-title").html() || e.find(".popover-title").hide()
    }, n.prototype.hasContent = function () {
        return this.getTitle() || this.getContent()
    }, n.prototype.getContent = function () {
        var e = this.$element, t = this.options;
        return e.attr("data-content") || ("function" == typeof t.content ? t.content.call(e[0]) : t.content)
    }, n.prototype.arrow = function () {
        return this.$arrow = this.$arrow || this.tip().find(".arrow")
    }, n.prototype.tip = function () {
        return this.$tip || (this.$tip = e(this.options.template)), this.$tip
    };
    var i = e.fn.popover;
    e.fn.popover = t, e.fn.popover.Constructor = n, e.fn.popover.noConflict = function () {
        return e.fn.popover = i, this
    }
}(jQuery), +function (e) {
    "use strict";
    function t(n, i) {
        var r = e.proxy(this.process, this);
        this.$body = e("body"), this.$scrollElement = e(e(n).is("body") ? window : n), this.options = e.extend({}, t.DEFAULTS, i), this.selector = (this.options.target || "") + " .nav li > a", this.offsets = [], this.targets = [], this.activeTarget = null, this.scrollHeight = 0, this.$scrollElement.on("scroll.bs.scrollspy", r), this.refresh(), this.process()
    }

    function n(n) {
        return this.each(function () {
            var i = e(this), r = i.data("bs.scrollspy"), o = "object" == typeof n && n;
            r || i.data("bs.scrollspy", r = new t(this, o)), "string" == typeof n && r[n]()
        })
    }

    t.VERSION = "3.2.0", t.DEFAULTS = {offset: 10}, t.prototype.getScrollHeight = function () {
        return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)
    }, t.prototype.refresh = function () {
        var t = "offset", n = 0;
        e.isWindow(this.$scrollElement[0]) || (t = "position", n = this.$scrollElement.scrollTop()), this.offsets = [], this.targets = [], this.scrollHeight = this.getScrollHeight();
        var i = this;
        this.$body.find(this.selector).map(function () {
            var i = e(this), r = i.data("target") || i.attr("href"), o = /^#./.test(r) && e(r);
            return o && o.length && o.is(":visible") && [[o[t]().top + n, r]] || null
        }).sort(function (e, t) {
            return e[0] - t[0]
        }).each(function () {
            i.offsets.push(this[0]), i.targets.push(this[1])
        })
    }, t.prototype.process = function () {
        var e, t = this.$scrollElement.scrollTop() + this.options.offset, n = this.getScrollHeight(), i = this.options.offset + n - this.$scrollElement.height(), r = this.offsets, o = this.targets, a = this.activeTarget;
        if (this.scrollHeight != n && this.refresh(), t >= i)return a != (e = o[o.length - 1]) && this.activate(e);
        if (a && t <= r[0])return a != (e = o[0]) && this.activate(e);
        for (e = r.length; e--;)a != o[e] && t >= r[e] && (!r[e + 1] || t <= r[e + 1]) && this.activate(o[e])
    }, t.prototype.activate = function (t) {
        this.activeTarget = t, e(this.selector).parentsUntil(this.options.target, ".active").removeClass("active");
        var n = this.selector + '[data-target="' + t + '"],' + this.selector + '[href="' + t + '"]', i = e(n).parents("li").addClass("active");
        i.parent(".dropdown-menu").length && (i = i.closest("li.dropdown").addClass("active")), i.trigger("activate.bs.scrollspy")
    };
    var i = e.fn.scrollspy;
    e.fn.scrollspy = n, e.fn.scrollspy.Constructor = t, e.fn.scrollspy.noConflict = function () {
        return e.fn.scrollspy = i, this
    }, e(window).on("load.bs.scrollspy.data-api", function () {
        e('[data-spy="scroll"]').each(function () {
            var t = e(this);
            n.call(t, t.data())
        })
    })
}(jQuery), +function (e) {
    "use strict";
    function t(t) {
        return this.each(function () {
            var i = e(this), r = i.data("bs.tab");
            r || i.data("bs.tab", r = new n(this)), "string" == typeof t && r[t]()
        })
    }

    var n = function (t) {
        this.element = e(t)
    };
    n.VERSION = "3.2.0", n.prototype.show = function () {
        var t = this.element, n = t.closest("ul:not(.dropdown-menu)"), i = t.data("target");
        if (i || (i = t.attr("href"), i = i && i.replace(/.*(?=#[^\s]*$)/, "")), !t.parent("li").hasClass("active")) {
            var r = n.find(".active:last a")[0], o = e.Event("show.bs.tab", {relatedTarget: r});
            if (t.trigger(o), !o.isDefaultPrevented()) {
                var a = e(i);
                this.activate(t.closest("li"), n), this.activate(a, a.parent(), function () {
                    t.trigger({type: "shown.bs.tab", relatedTarget: r})
                })
            }
        }
    }, n.prototype.activate = function (t, n, i) {
        function r() {
            o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"), t.addClass("active"), a ? (t[0].offsetWidth, t.addClass("in")) : t.removeClass("fade"), t.parent(".dropdown-menu") && t.closest("li.dropdown").addClass("active"), i && i()
        }

        var o = n.find("> .active"), a = i && e.support.transition && o.hasClass("fade");
        a ? o.one("bsTransitionEnd", r).emulateTransitionEnd(150) : r(), o.removeClass("in")
    };
    var i = e.fn.tab;
    e.fn.tab = t, e.fn.tab.Constructor = n, e.fn.tab.noConflict = function () {
        return e.fn.tab = i, this
    }, e(document).on("click.bs.tab.data-api", '[data-toggle="tab"], [data-toggle="pill"]', function (n) {
        n.preventDefault(), t.call(e(this), "show")
    })
}(jQuery), +function (e) {
    "use strict";
    function t(t) {
        return this.each(function () {
            var i = e(this), r = i.data("bs.affix"), o = "object" == typeof t && t;
            r || i.data("bs.affix", r = new n(this, o)), "string" == typeof t && r[t]()
        })
    }

    var n = function (t, i) {
        this.options = e.extend({}, n.DEFAULTS, i), this.$target = e(this.options.target).on("scroll.bs.affix.data-api", e.proxy(this.checkPosition, this)).on("click.bs.affix.data-api", e.proxy(this.checkPositionWithEventLoop, this)), this.$element = e(t), this.affixed = this.unpin = this.pinnedOffset = null, this.checkPosition()
    };
    n.VERSION = "3.2.0", n.RESET = "affix affix-top affix-bottom", n.DEFAULTS = {
        offset: 0,
        target: window
    }, n.prototype.getPinnedOffset = function () {
        if (this.pinnedOffset)return this.pinnedOffset;
        this.$element.removeClass(n.RESET).addClass("affix");
        var e = this.$target.scrollTop(), t = this.$element.offset();
        return this.pinnedOffset = t.top - e
    }, n.prototype.checkPositionWithEventLoop = function () {
        setTimeout(e.proxy(this.checkPosition, this), 1)
    }, n.prototype.checkPosition = function () {
        if (this.$element.is(":visible")) {
            var t = e(document).height(), i = this.$target.scrollTop(), r = this.$element.offset(), o = this.options.offset, a = o.top, s = o.bottom;
            "object" != typeof o && (s = a = o), "function" == typeof a && (a = o.top(this.$element)), "function" == typeof s && (s = o.bottom(this.$element));
            var l = !(null != this.unpin && i + this.unpin <= r.top) && (null != s && r.top + this.$element.height() >= t - s ? "bottom" : null != a && a >= i && "top");
            if (this.affixed !== l) {
                null != this.unpin && this.$element.css("top", "");
                var c = "affix" + (l ? "-" + l : ""), d = e.Event(c + ".bs.affix");
                this.$element.trigger(d), d.isDefaultPrevented() || (this.affixed = l, this.unpin = "bottom" == l ? this.getPinnedOffset() : null, this.$element.removeClass(n.RESET).addClass(c).trigger(e.Event(c.replace("affix", "affixed"))), "bottom" == l && this.$element.offset({top: t - this.$element.height() - s}))
            }
        }
    };
    var i = e.fn.affix;
    e.fn.affix = t, e.fn.affix.Constructor = n, e.fn.affix.noConflict = function () {
        return e.fn.affix = i, this
    }, e(window).on("load", function () {
        e('[data-spy="affix"]').each(function () {
            var n = e(this), i = n.data();
            i.offset = i.offset || {}, i.offsetBottom && (i.offset.bottom = i.offsetBottom), i.offsetTop && (i.offset.top = i.offsetTop), t.call(n, i)
        })
    })
}(jQuery), define("bootstrap", ["jquery"], function () {
}), function (e, t) {
    function n(n) {
        var i = o.expando, r = n === e ? 0 : n[i];
        return r === t && (n[i] = r = ++o.uuid), r
    }

    function i() {
        if (!o.isReady) {
            try {
                document.documentElement.doScroll("left")
            } catch (e) {
                return void setTimeout(i, 1)
            }
            o.ready()
        }
    }

    var r, o = e.art = function (e, t) {
        return new o.fn.init(e, t)
    }, a = !1, s = [], l = "opacity" in document.documentElement.style, c = /^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/, d = /[\n\t]/g, u = /alpha\([^)]*\)/i, f = /opacity=([^)]*)/, h = /^([+-]=)?([\d+-.]+)(.*)$/;
    return e.$ === t && (e.$ = o), o.fn = o.prototype = {
        constructor: o, ready: function (e) {
            return o.bindReady(), o.isReady ? e.call(document, o) : s && s.push(e), this
        }, hasClass: function (e) {
            return -1 < (" " + this[0].className + " ").replace(d, " ").indexOf(" " + e + " ")
        }, addClass: function (e) {
            return this.hasClass(e) || (this[0].className += " " + e), this
        }, removeClass: function (e) {
            var t = this[0];
            return e ? this.hasClass(e) && (t.className = t.className.replace(e, " ")) : t.className = "", this
        }, css: function (e, n) {
            var i, r = this[0];
            if ("string" == typeof e) {
                if (n === t)return o.css(r, e);
                "opacity" === e ? o.opacity.set(r, n) : r.style[e] = n
            } else for (i in e)"opacity" === i ? o.opacity.set(r, e[i]) : r.style[i] = e[i];
            return this
        }, show: function () {
            return this.css("display", "block")
        }, hide: function () {
            return this.css("display", "none")
        }, offset: function () {
            var e = this[0], t = e.getBoundingClientRect(), n = e.ownerDocument, e = n.body, n = n.documentElement;
            return {
                left: t.left + (self.pageXOffset || n.scrollLeft) - (n.clientLeft || e.clientLeft || 0),
                top: t.top + (self.pageYOffset || n.scrollTop) - (n.clientTop || e.clientTop || 0)
            }
        }, html: function (e) {
            var n = this[0];
            return e === t ? n.innerHTML : (o.cleanData(n.getElementsByTagName("*")), n.innerHTML = e, this)
        }, remove: function () {
            var e = this[0];
            return o.cleanData(e.getElementsByTagName("*")), o.cleanData([e]), e.parentNode.removeChild(e), this
        }, bind: function (e, t) {
            return o.event.add(this[0], e, t), this
        }, unbind: function (e, t) {
            return o.event.remove(this[0], e, t), this
        }
    }, o.fn.init = function (e, t) {
        var n, t = t || document;
        return e ? e.nodeType ? (this[0] = e, this) : "body" === e && t.body ? (this[0] = t.body, this) : "head" === e || "html" === e ? (this[0] = t.getElementsByTagName(e)[0], this) : "string" == typeof e && (n = c.exec(e)) && n[2] ? ((n = t.getElementById(n[2])) && n.parentNode && (this[0] = n), this) : "function" == typeof e ? o(document).ready(e) : (this[0] = e, this) : this
    }, o.fn.init.prototype = o.fn, o.noop = function () {
    }, o.isWindow = function (e) {
        return e && "object" == typeof e && "setInterval" in e
    }, o.isArray = function (e) {
        return "[object Array]" === Object.prototype.toString.call(e)
    }, o.fn.find = function (e) {
        var t = this[0], n = e.split(".")[1];
        if (n)if (document.getElementsByClassName)n = t.getElementsByClassName(n); else {
            for (var i = e = 0, r = [], t = (t || document).getElementsByTagName("*"), a = t.length, n = RegExp("(^|\\s)" + n + "(\\s|$)"); e < a; e++)n.test(t[e].className) && (r[i] = t[e], i++);
            n = r
        } else n = t.getElementsByTagName(e);
        return o(n[0])
    }, o.each = function (e, n) {
        var i, r = 0, o = e.length;
        if (o === t) {
            for (i in e)if (!1 === n.call(e[i], i, e[i]))break
        } else for (i = e[0]; r < o && !1 !== n.call(i, r, i); i = e[++r]);
        return e
    }, o.data = function (e, i, r) {
        var a = o.cache, e = n(e);
        return i === t ? a[e] : (a[e] || (a[e] = {}), r !== t && (a[e][i] = r), a[e][i])
    }, o.removeData = function (e, t) {
        var i = !0, r = o.expando, a = o.cache, s = n(e), l = s && a[s];
        if (l)if (t) {
            delete l[t];
            for (var c in l)i = !1;
            i && delete o.cache[s]
        } else delete a[s], e.removeAttribute ? e.removeAttribute(r) : e[r] = null
    }, o.uuid = 0, o.cache = {}, o.expando = "@cache" + +new Date, o.event = {
        add: function (e, t, n) {
            var i, r, a = o.event;
            r = o.data(e, "@events") || o.data(e, "@events", {}), i = r[t] = r[t] || {}, r = i, (r.listeners = r.listeners || []).push(n), r.handler || (r.elem = e, r.handler = a.handler(r), e.addEventListener ? e.addEventListener(t, r.handler, !1) : e.attachEvent("on" + t, r.handler))
        }, remove: function (e, t, n) {
            var i, r, a;
            r = o.event;
            var s = !0, l = o.data(e, "@events");
            if (l)if (t) {
                if (r = l[t]) {
                    if (a = r.listeners, n)for (i = 0; i < a.length; i++)a[i] === n && a.splice(i--, 1); else r.listeners = [];
                    if (0 === r.listeners.length) {
                        e.removeEventListener ? e.removeEventListener(t, r.handler, !1) : e.detachEvent("on" + t, r.handler), delete l[t], r = o.data(e, "@events");
                        for (var c in r)s = !1;
                        s && o.removeData(e, "@events")
                    }
                }
            } else for (i in l)r.remove(e, i)
        }, handler: function (t) {
            return function (n) {
                for (var i, n = o.event.fix(n || e.event), r = 0, a = t.listeners; i = a[r++];)!1 === i.call(t.elem, n) && (n.preventDefault(), n.stopPropagation())
            }
        }, fix: function (e) {
            if (e.target)return e;
            var t, n = {
                target: e.srcElement || document, preventDefault: function () {
                    e.returnValue = !1
                }, stopPropagation: function () {
                    e.cancelBubble = !0
                }
            };
            for (t in e)n[t] = e[t];
            return n
        }
    }, o.cleanData = function (e) {
        for (var t, n = 0, i = e.length, r = o.event.remove, a = o.removeData; n < i; n++)t = e[n], r(t), a(t)
    }, o.isReady = !1, o.ready = function () {
        if (!o.isReady) {
            if (!document.body)return setTimeout(o.ready, 13);
            if (o.isReady = !0, s) {
                for (var e, t = 0; e = s[t++];)e.call(document, o);
                s = null
            }
        }
    }, o.bindReady = function () {
        if (!a) {
            if (a = !0, "complete" === document.readyState)return o.ready();
            if (document.addEventListener)document.addEventListener("DOMContentLoaded", r, !1), e.addEventListener("load", o.ready, !1); else if (document.attachEvent) {
                document.attachEvent("onreadystatechange", r), e.attachEvent("onload", o.ready);
                var t = !1;
                try {
                    t = null == e.frameElement
                } catch (e) {
                }
                document.documentElement.doScroll && t && i()
            }
        }
    }, document.addEventListener ? r = function () {
        document.removeEventListener("DOMContentLoaded", r, !1), o.ready()
    } : document.attachEvent && (r = function () {
        "complete" === document.readyState && (document.detachEvent("onreadystatechange", r), o.ready())
    }), o.css = "defaultView" in document && "getComputedStyle" in document.defaultView ? function (e, t) {
        return document.defaultView.getComputedStyle(e, !1)[t]
    } : function (e, t) {
        return ("opacity" === t ? o.opacity.get(e) : e.currentStyle[t]) || ""
    }, o.opacity = {
        get: function (e) {
            return l ? document.defaultView.getComputedStyle(e, !1).opacity : f.test((e.currentStyle ? e.currentStyle.filter : e.style.filter) || "") ? parseFloat(RegExp.$1) / 100 + "" : 1
        }, set: function (e, t) {
            if (l)return e.style.opacity = t;
            var n = e.style;
            n.zoom = 1;
            var i = "alpha(opacity=" + 100 * t + ")", r = n.filter || "";
            n.filter = u.test(r) ? r.replace(u, i) : n.filter + " " + i
        }
    }, o.each(["Left", "Top"], function (e, t) {
        var n = "scroll" + t;
        o.fn[n] = function () {
            var t, i = this[0];
            return (t = o.isWindow(i) ? i : 9 === i.nodeType && (i.defaultView || i.parentWindow)) ? "pageXOffset" in t ? t[e ? "pageYOffset" : "pageXOffset"] : t.document.documentElement[n] || t.document.body[n] : i[n]
        }
    }), o.each(["Height", "Width"], function (e, t) {
        var n = t.toLowerCase();
        o.fn[n] = function (e) {
            var n = this[0];
            return n ? o.isWindow(n) ? n.document.documentElement["client" + t] || n.document.body["client" + t] : 9 === n.nodeType ? Math.max(n.documentElement["client" + t], n.body["scroll" + t], n.documentElement["scroll" + t], n.body["offset" + t], n.documentElement["offset" + t]) : null : null == e ? null : this
        }
    }), o.ajax = function (t) {
        var n = e.XMLHttpRequest ? new XMLHttpRequest : new ActiveXObject("Microsoft.XMLHTTP"), i = t.url;
        if (!1 === t.cache)var r = +new Date, a = i.replace(/([?&])_=[^&]*/, "$1_=" + r), i = a + (a === i ? (/\?/.test(i) ? "&" : "?") + "_=" + r : "");
        n.onreadystatechange = function () {
            4 === n.readyState && 200 === n.status && (t.success && t.success(n.responseText), n.onreadystatechange = o.noop)
        }, n.open("GET", i, 1), n.send(null)
    }, o.fn.animate = function (e, t, n, i) {
        "function" == typeof n && (i = n);
        var r, a, s, l, c, d, n = n && o.easing[n] ? n : "swing", u = this[0], f = {
            speed: t || 400,
            easing: n,
            callback: function () {
                null != r && (u.style.overflow = ""), i && i()
            },
            curAnim: {}
        };
        return o.each(e, function (e, t) {
            f.curAnim[e] = t
        }), o.each(e, function (e, t) {
            a = new o.fx(u, f, e), s = h.exec(t), l = parseFloat("opacity" === e || u.style && null != u.style[e] ? o.css(u, e) : u[e]), c = parseFloat(s[2]), d = s[3], "height" !== e && "width" !== e || (c = Math.max(0, c), r = [u.style.overflow, u.style.overflowX, u.style.overflowY]), a.custom(l, c, d)
        }), null != r && (u.style.overflow = "hidden"), this
    }, o.timers = [], o.fx = function (e, t, n) {
        this.elem = e, this.options = t, this.prop = n
    }, o.fx.prototype = {
        custom: function (e, t, n) {
            function i() {
                return r.step()
            }

            var r = this;
            r.startTime = o.fx.now(), r.start = e, r.end = t, r.unit = n, r.now = r.start, r.state = r.pos = 0, i.elem = r.elem, i(), o.timers.push(i), o.timerId || (o.timerId = setInterval(o.fx.tick, 13))
        }, step: function () {
            var e = o.fx.now(), t = !0;
            if (e >= this.options.speed + this.startTime) {
                this.now = this.end, this.state = this.pos = 1, this.update(), this.options.curAnim[this.prop] = !0;
                for (var n in this.options.curAnim)!0 !== this.options.curAnim[n] && (t = !1);
                return t && this.options.callback.call(this.elem), !1
            }
            return e -= this.startTime, this.state = e / this.options.speed, this.pos = o.easing[this.options.easing](this.state, e, 0, 1, this.options.speed), this.now = this.start + (this.end - this.start) * this.pos, this.update(), !0
        }, update: function () {
            "opacity" === this.prop ? o.opacity.set(this.elem, this.now) : this.elem.style && null != this.elem.style[this.prop] ? this.elem.style[this.prop] = this.now + this.unit : this.elem[this.prop] = this.now
        }
    }, o.fx.now = function () {
        return +new Date
    }, o.easing = {
        linear: function (e, t, n, i) {
            return n + i * e
        }, swing: function (e, t, n, i) {
            return (-Math.cos(e * Math.PI) / 2 + .5) * i + n
        }
    }, o.fx.tick = function () {
        for (var e = o.timers, t = 0; t < e.length; t++)!e[t]() && e.splice(t--, 1);
        !e.length && o.fx.stop()
    }, o.fx.stop = function () {
        clearInterval(o.timerId), o.timerId = null
    }, o.fn.stop = function () {
        for (var e = o.timers, t = e.length - 1; 0 <= t; t--)e[t].elem === this[0] && e.splice(t, 1);
        return this
    }, o
}(window), function (e, t, n) {
    e.noop = e.noop || function () {
        };
    var i, r, o, a, s = 0, l = e(t), c = e(document), d = e("html");
    o = document.documentElement;
    var u = t.VBArray && !t.XMLHttpRequest, f = "createTouch" in document && !("onmousemove" in o) || /(iPhone|iPad|iPod)/i.test(navigator.userAgent), h = "artDialog" + +new Date, p = function (t, r, o) {
        t = t || {}, "string" != typeof t && 1 !== t.nodeType || (t = {content: t, fixed: !f});
        var a;
        a = p.defaults;
        var l, c = t.follow = 1 === this.nodeType && this || t.follow;
        for (l in a)t[l] === n && (t[l] = a[l]);
        return e.each({
            ok: "yesFn",
            cancel: "noFn",
            close: "closeFn",
            init: "initFn",
            okVal: "yesText",
            cancelVal: "noText"
        }, function (e, i) {
            t[e] = t[e] !== n ? t[e] : t[i]
        }), "string" == typeof c && (c = e(c)[0]), t.id = c && c[h + "follow"] || t.id || h + s, a = p.list[t.id], c && a ? a.follow(c).zIndex().focus() : a ? a.zIndex().focus() : (f && (t.fixed = !1), e.isArray(t.button) || (t.button = t.button ? [t.button] : []), r !== n && (t.ok = r), o !== n && (t.cancel = o), t.ok && t.button.push({
            name: t.okVal,
            callback: t.ok,
            focus: !0
        }), t.cancel && t.button.push({
            name: t.cancelVal,
            callback: t.cancel
        }), p.defaults.zIndex = t.zIndex, s++, p.list[t.id] = i ? i._init(t) : new p.fn._init(t))
    };
    if (p.fn = p.prototype = {
            version: "4.1.6", closed: !0, _init: function (e) {
                var n, r = e.icon, o = r && (u ? {png: "icons/" + r + ".png"} : {backgroundImage: "url('" + e.path + "/skins/icons/" + r + ".png')"});
                return this.closed = !1, this.config = e, this.DOM = n = this.DOM || this._getDOM(), n.wrap.addClass(e.skin), n.close[!1 === e.cancel ? "hide" : "show"](), n.icon[0].style.display = r ? "" : "none", n.iconBg.css(o || {background: "none"}), n.se.css("cursor", e.resize ? "se-resize" : "auto"), n.title.css("cursor", e.drag ? "move" : "auto"), n.content.css("padding", e.padding), this[e.show ? "show" : "hide"](!0), this.button(e.button).title(e.title).content(e.content, !0).size(e.width, e.height).time(e.time), e.follow ? this.follow(e.follow) : this.position(e.left, e.top), this.zIndex().focus(), e.lock && this.lock(), this._addEvent(), this._ie6PngFix(), i = null, e.init && e.init.call(this, t), this
            }, content: function (e, t) {
                var i, r, o, a, s = this, l = s.DOM, c = l.wrap[0], d = c.offsetWidth, u = c.offsetHeight, f = parseInt(c.style.left), h = parseInt(c.style.top), p = c.style.width, l = l.content, m = l[0];
                return s._elemBack && s._elemBack(), c.style.width = "auto", e === n ? m : ("string" == typeof e ? l.html(e) : e && 1 === e.nodeType && (a = e.style.display, i = e.previousSibling, r = e.nextSibling, o = e.parentNode, s._elemBack = function () {
                    i && i.parentNode ? i.parentNode.insertBefore(e, i.nextSibling) : r && r.parentNode ? r.parentNode.insertBefore(e, r) : o && o.appendChild(e), e.style.display = a, s._elemBack = null
                }, l.html(""), m.appendChild(e), e.style.display = "block"), t || (s.config.follow ? s.follow(s.config.follow) : (d = c.offsetWidth - d, u = c.offsetHeight - u, h -= u / 2, c.style.left = Math.max(f - d / 2, 0) + "px", c.style.top = Math.max(h, 0) + "px"), p && "auto" !== p && (c.style.width = c.offsetWidth + "px"), s._autoPositionType()), s._ie6SelectFix(), s._runScript(m), s)
            }, title: function (e) {
                var t = this.DOM, i = t.wrap, t = t.title;
                return e === n ? t[0] : (!1 === e ? (t.hide().html(""), i.addClass("aui_state_noTitle")) : (t.show().html(e || ""), i.removeClass("aui_state_noTitle")), this)
            }, position: function (e, t) {
                var i = this.config, r = this.DOM.wrap[0], o = !u && i.fixed, i = u && this.config.fixed, a = c.scrollLeft(), s = c.scrollTop(), d = o ? 0 : a, o = o ? 0 : s, f = l.width(), h = l.height(), p = r.offsetWidth, m = r.offsetHeight, r = r.style;
                return (e || 0 === e) && (this._left = -1 !== e.toString().indexOf("%") ? e : null, e = this._toNumber(e, f - p), "number" == typeof e ? (e = i ? e += a : e + d, r.left = Math.max(e, d) + "px") : "string" == typeof e && (r.left = e)), (t || 0 === t) && (this._top = -1 !== t.toString().indexOf("%") ? t : null,
                    t = this._toNumber(t, h - m), "number" == typeof t ? (t = i ? t += s : t + o, r.top = Math.max(t, o) + "px") : "string" == typeof t && (r.top = t)), e !== n && t !== n && (this._follow = null, this._autoPositionType()), this
            }, size: function (e, t) {
                var n, i, r = this.DOM;
                i = r.wrap;
                var o = r.main, a = i[0].style, r = o[0].style;
                return e && (this._width = -1 !== e.toString().indexOf("%") ? e : null, n = l.width() - i[0].offsetWidth + o[0].offsetWidth, e = n = this._toNumber(e, n), "number" == typeof e ? (a.width = "auto", r.width = Math.max(this.config.minWidth, e) + "px", a.width = i[0].offsetWidth + "px") : "string" == typeof e && (r.width = e, "auto" === e && i.css("width", "auto"))), t && (this._height = -1 !== t.toString().indexOf("%") ? t : null, i = l.height() - i[0].offsetHeight + o[0].offsetHeight, t = i = this._toNumber(t, i), "number" == typeof t ? r.height = Math.max(this.config.minHeight, t) + "px" : "string" == typeof t && (r.height = t)), this._ie6SelectFix(), this
            }, follow: function (t) {
                var n, i = this.config;
                if (("string" == typeof t || t && 1 === t.nodeType) && (n = e(t), t = n[0]), !t || !t.offsetWidth && !t.offsetHeight)return this.position(this._left, this._top);
                var r = h + "follow", o = l.width(), a = l.height(), s = c.scrollLeft(), d = c.scrollTop(), f = n.offset();
                n = t.offsetWidth;
                var p = !u && i.fixed, m = p ? f.left - s : f.left, f = p ? f.top - d : f.top, g = this.DOM.wrap[0], v = g.style, y = g.offsetWidth, g = g.offsetHeight, b = m - (y - n) / 2, w = f + t.offsetHeight, s = p ? 0 : s, d = p ? 0 : d;
                return v.left = (b < s ? m : b + y > o && m - y > s ? m - y + n : b) + "px", v.top = (w + g > a + d && f - g > d ? f - g : w) + "px", this._follow && this._follow.removeAttribute(r), this._follow = t, t[r] = i.id, this._autoPositionType(), this
            }, button: function () {
                var t = this, i = arguments, r = t.DOM.buttons, o = r[0], a = t._listeners = t._listeners || {}, s = e.isArray(i[0]) ? i[0] : [].slice.call(i);
                return i[0] === n ? o : (e.each(s, function (n, i) {
                    var r = i.name, s = !a[r], l = s ? document.createElement("button") : a[r].elem;
                    a[r] || (a[r] = {}), i.callback && (a[r].callback = i.callback), i.className && (l.className = i.className), i.focus && (t._focus && t._focus.removeClass("aui_state_highlight"), t._focus = e(l).addClass("aui_state_highlight"), t.focus()), l.setAttribute("type", "button"), l[h + "callback"] = r, l.disabled = !!i.disabled, s && (l.innerHTML = r, a[r].elem = l, o.appendChild(l))
                }), r[0].style.display = s.length ? "" : "none", t._ie6SelectFix(), t)
            }, show: function (e) {
                return this.DOM.wrap.show(), !e && this._lockMaskWrap && this._lockMaskWrap.show(), this
            }, hide: function (e) {
                return this.DOM.wrap.hide(), !e && this._lockMaskWrap && this._lockMaskWrap.hide(), this
            }, close: function () {
                if (this.closed)return this;
                var e = this.DOM, n = e.wrap, r = p.list, o = this.config.close, a = this.config.follow;
                if (this.time(), "function" == typeof o && !1 === o.call(this, t))return this;
                this.unlock(), this._elemBack && this._elemBack(), n[0].className = n[0].style.cssText = "", e.title.html(""), e.content.html(""), e.buttons.html(""), p.focus === this && (p.focus = null), a && a.removeAttribute(h + "follow"), delete r[this.config.id], this._removeEvent(), this.hide(!0)._setAbsolute();
                for (var s in this)this.hasOwnProperty(s) && "DOM" !== s && delete this[s];
                return i ? n.remove() : i = this, this
            }, time: function (e) {
                var t = this, n = t.config.cancelVal, i = t._timer;
                return i && clearTimeout(i), e && (t._timer = setTimeout(function () {
                    t._click(n)
                }, 1e3 * e)), t
            }, focus: function () {
                try {
                    var e = this._focus && this._focus[0] || this.DOM.close[0];
                    e && e.focus()
                } catch (e) {
                }
                return this
            }, zIndex: function () {
                var e = this.DOM.wrap, t = p.focus, n = p.defaults.zIndex++;
                return e.css("zIndex", n), this._lockMask && this._lockMask.css("zIndex", n - 1), t && t.DOM.wrap.removeClass("aui_state_focus"), p.focus = this, e.addClass("aui_state_focus"), this
            }, lock: function () {
                if (this._lock)return this;
                var t = this, n = p.defaults.zIndex - 1, i = t.DOM.wrap, r = t.config, o = c.width(), a = c.height(), s = t._lockMaskWrap || e(document.body.appendChild(document.createElement("div"))), l = t._lockMask || e(s[0].appendChild(document.createElement("div"))), o = f ? "width:" + o + "px;height:" + a + "px" : "width:100%;height:100%", a = u ? "position:absolute;left:expression((document).documentElement.scrollLeft);top:expression((document).documentElement.scrollTop);width:expression((document).documentElement.clientWidth);height:expression((document).documentElement.clientHeight)" : "";
                return t.zIndex(), i.addClass("aui_state_lock"), s[0].style.cssText = o + ";position:fixed;z-index:" + n + ";top:0;left:0;overflow:hidden;" + a, l[0].style.cssText = "height:100%;background:" + r.background + ";filter:alpha(opacity=0);opacity:0", u && l.html('<iframe src="about:blank" style="width:100%;height:100%;position:absolute;top:0;left:0;z-index:-1;filter:alpha(opacity=0)"></iframe>'), l.stop(), l.bind("click", function () {
                    t._reset()
                }).bind("dblclick", function () {
                    t._click(t.config.cancelVal)
                }), 0 === r.duration ? l.css({opacity: r.opacity}) : l.animate({opacity: r.opacity}, r.duration), t._lockMaskWrap = s, t._lockMask = l, t._lock = !0, t
            }, unlock: function () {
                var e = this._lockMaskWrap, t = this._lockMask;
                if (!this._lock)return this;
                var n = e[0].style, r = function () {
                    u && (n.removeExpression("width"), n.removeExpression("height"), n.removeExpression("left"), n.removeExpression("top")), n.cssText = "display:none", i && e.remove()
                };
                return t.stop().unbind(), this.DOM.wrap.removeClass("aui_state_lock"), this.config.duration ? t.animate({opacity: 0}, this.config.duration, r) : r(), this._lock = !1, this
            }, _getDOM: function () {
                var t = document.createElement("div"), n = document.body;
                t.style.cssText = "position:absolute;left:0;top:0", t.innerHTML = p._templates, n.insertBefore(t, n.firstChild);
                for (var n = 0, i = {wrap: e(t)}, r = t.getElementsByTagName("*"), o = r.length; n < o; n++)(t = r[n].className.split("aui_")[1]) && (i[t] = e(r[n]));
                return i
            }, _toNumber: function (e, t) {
                if (!e && 0 !== e || "number" == typeof e)return e;
                var n = e.length - 1;
                return e.lastIndexOf("px") === n ? e = parseInt(e) : e.lastIndexOf("%") === n && (e = parseInt(t * e.split("%")[0] / 100)), e
            }, _ie6PngFix: u ? function () {
                for (var e, t, n = 0, i = p.defaults.path + "/skins/", r = this.DOM.wrap[0].getElementsByTagName("*"); n < r.length; n++)e = r[n], (t = e.currentStyle.png) && (t = i + t, e = e.runtimeStyle, e.backgroundImage = "none", e.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='" + t + "',sizingMethod='crop')")
            } : e.noop, _ie6SelectFix: u ? function () {
                var e = this.DOM.wrap, t = e[0], n = h + "iframeMask", i = e[n], r = t.offsetWidth, o = t.offsetHeight, r = r + "px", o = o + "px";
                i ? (i.style.width = r, i.style.height = o) : (i = t.appendChild(document.createElement("iframe")), e[n] = i, i.src = "about:blank", i.style.cssText = "position:absolute;z-index:-1;left:0;top:0;filter:alpha(opacity=0);width:" + r + ";height:" + o)
            } : e.noop, _runScript: function (e) {
                for (var t, n = t = 0, e = e.getElementsByTagName("script"), i = e.length, r = []; t < i; t++)"text/dialog" === e[t].type && (r[n] = e[t].innerHTML, n++);
                r.length && (r = r.join(""), t = new Function(r), t.call(this))
            }, _autoPositionType: function () {
                this[this.config.fixed ? "_setFixed" : "_setAbsolute"]()
            }, _setFixed: function () {
                return u && e(function () {
                    "fixed" !== d.css("backgroundAttachment") && "fixed" !== e("body").css("backgroundAttachment") && d.css({
                        zoom: 1,
                        backgroundImage: "url(about:blank)",
                        backgroundAttachment: "fixed"
                    })
                }), function () {
                    var e = this.DOM.wrap, t = e[0].style;
                    if (u) {
                        var n = parseInt(e.css("left")), e = parseInt(e.css("top")), i = c.scrollLeft(), r = c.scrollTop();
                        this._setAbsolute(), t.setExpression("left", "eval((document.documentElement).scrollLeft + " + (n - i) + ') + "px"'), t.setExpression("top", "eval((document.documentElement).scrollTop + " + (e - r) + ') + "px"')
                    } else t.position = "fixed"
                }
            }(), _setAbsolute: function () {
                var e = this.DOM.wrap[0].style;
                u && (e.removeExpression("left"), e.removeExpression("top")), e.position = "absolute"
            }, _click: function (e) {
                return e = this._listeners[e] && this._listeners[e].callback, "function" != typeof e || !1 !== e.call(this, t) ? this.close() : this
            }, _reset: function (e) {
                var t = this._winSize || l.width() * l.height(), n = this._follow, i = this._width, r = this._height, o = this._left, a = this._top;
                e && (e = this._winSize = l.width() * l.height(), t === e) || ((i || r) && this.size(i, r), n ? this.follow(n) : (o || a) && this.position(o, a))
            }, _addEvent: function () {
                var e, n = this, i = n.config, r = "CollectGarbage" in t, o = n.DOM;
                n._winResize = function () {
                    e && clearTimeout(e), e = setTimeout(function () {
                        n._reset(r)
                    }, 40)
                }, l.bind("resize", n._winResize), o.wrap.bind("click", function (e) {
                    return e = e.target, !e.disabled && (e === o.close[0] ? (n._click(i.cancelVal), !1) : ((e = e[h + "callback"]) && n._click(e), void n._ie6SelectFix()))
                }).bind("mousedown", function () {
                    n.zIndex()
                })
            }, _removeEvent: function () {
                this.DOM.wrap.unbind(), l.unbind("resize", this._winResize)
            }
        }, p.fn._init.prototype = p.fn, e.fn.dialog = e.fn.artDialog = function () {
            var e = arguments;
            return this[this.live ? "live" : "bind"]("click", function () {
                return p.apply(this, e), !1
            }), this
        }, p.focus = null, p.get = function (e) {
            return e === n ? p.list : p.list[e]
        }, p.list = {}, c.bind("keydown", function (e) {
            var t = e.target.nodeName, n = /^INPUT|TEXTAREA$/, i = p.focus, e = e.keyCode;
            i && i.config.esc && !n.test(t) && 27 === e && i._click(i.config.cancelVal)
        }), a = t._artDialog_path || function (e, t, n) {
                for (t in e)e[t].src && -1 !== e[t].src.indexOf("artDialog") && (n = e[t]);
                return r = n || e[e.length - 1], n = r.src.replace(/\\/g, "/"), 0 > n.lastIndexOf("/") ? "." : n.substring(0, n.lastIndexOf("/"))
            }(document.getElementsByTagName("script")), o = r.src.split("skin=")[1]) {
        var m = document.createElement("link");
        m.rel = "stylesheet", m.href = a + "/skins/" + o + ".css?" + p.fn.version, r.parentNode.insertBefore(m, r)
    }
    l.bind("load", function () {
        setTimeout(function () {
            s || p({left: "-9999em", time: 9, fixed: !1, lock: !1, focus: !1})
        }, 150)
    });
    try {
        document.execCommand("BackgroundImageCache", !1, !0)
    } catch (e) {
    }
    p._templates = '<div class="aui_outer"><table class="aui_border"><tbody><tr><td class="aui_nw"></td><td class="aui_n"></td><td class="aui_ne"></td></tr><tr><td class="aui_w"></td><td class="aui_c"><div class="aui_inner"><table class="aui_dialog"><tbody><tr><td colspan="2" class="aui_header"><div class="aui_titleBar"><div class="aui_title"></div><a class="aui_close" href="javascript:/*artDialog*/;">Ã</a></div></td></tr><tr><td class="aui_icon"><div class="aui_iconBg"></div></td><td class="aui_main"><div class="aui_content"></div></td></tr><tr><td colspan="2" class="aui_footer"><div class="aui_buttons"></div></td></tr></tbody></table></div></td><td class="aui_e"></td></tr><tr><td class="aui_sw"></td><td class="aui_s"></td><td class="aui_se"></td></tr></tbody></table></div>', p.defaults = {
        content: '<div class="aui_loading"><span>loading..</span></div>',
        title: "æ¶æ¯",
        button: null,
        ok: null,
        cancel: null,
        init: null,
        close: null,
        okVal: "ç¡®å®",
        cancelVal: "åæ¶",
        width: "auto",
        height: "auto",
        minWidth: 96,
        minHeight: 32,
        padding: "20px 25px",
        skin: "",
        icon: null,
        time: null,
        esc: !0,
        focus: !0,
        show: !0,
        follow: null,
        path: a,
        lock: !1,
        background: "#000",
        opacity: .7,
        duration: 300,
        fixed: !1,
        left: "50%",
        top: "38.2%",
        zIndex: 1987,
        resize: !0,
        drag: !0
    }, t.artDialog = e.dialog = e.artDialog = p
}(this.art || this.jQuery && (this.art = jQuery), this), function (e) {
    var t, n, i = e(window), r = e(document), o = document.documentElement, a = !("minWidth" in o.style), s = "onlosecapture" in o, l = "setCapture" in o;
    artDialog.dragEvent = function () {
        var e = this, t = function (t) {
            var n = e[t];
            e[t] = function () {
                return n.apply(e, arguments)
            }
        };
        t("start"), t("move"), t("end")
    }, artDialog.dragEvent.prototype = {
        onstart: e.noop, start: function (e) {
            return r.bind("mousemove", this.move).bind("mouseup", this.end), this._sClientX = e.clientX, this._sClientY = e.clientY, this.onstart(e.clientX, e.clientY), !1
        }, onmove: e.noop, move: function (e) {
            return this._mClientX = e.clientX, this._mClientY = e.clientY, this.onmove(e.clientX - this._sClientX, e.clientY - this._sClientY), !1
        }, onend: e.noop, end: function (e) {
            return r.unbind("mousemove", this.move).unbind("mouseup", this.end), this.onend(e.clientX, e.clientY), !1
        }
    }, n = function (e) {
        var n, o, c, d, u, f, h = artDialog.focus, p = h.DOM, m = p.wrap, g = p.title, v = p.main, y = "getSelection" in window ? function () {
            window.getSelection().removeAllRanges()
        } : function () {
            try {
                document.selection.empty()
            } catch (e) {
            }
        };
        t.onstart = function () {
            f ? (o = v[0].offsetWidth, c = v[0].offsetHeight) : (d = m[0].offsetLeft, u = m[0].offsetTop), r.bind("dblclick", t.end), !a && s ? g.bind("losecapture", t.end) : i.bind("blur", t.end), l && g[0].setCapture(), m.addClass("aui_state_drag"), h.focus()
        }, t.onmove = function (e, t) {
            if (f) {
                var i = m[0].style, r = v[0].style, a = e + o, s = t + c;
                i.width = "auto", r.width = Math.max(0, a) + "px", i.width = m[0].offsetWidth + "px", r.height = Math.max(0, s) + "px"
            } else r = m[0].style, i = Math.max(n.minX, Math.min(n.maxX, e + d)), a = Math.max(n.minY, Math.min(n.maxY, t + u)), r.left = i + "px", r.top = a + "px";
            y(), h._ie6SelectFix()
        }, t.onend = function () {
            r.unbind("dblclick", t.end), !a && s ? g.unbind("losecapture", t.end) : i.unbind("blur", t.end), l && g[0].releaseCapture(), a && !h.closed && h._autoPositionType(), m.removeClass("aui_state_drag")
        }, f = e.target === p.se[0], n = function () {
            var e = h.DOM.wrap[0], t = "fixed" === e.style.position, n = e.offsetWidth, e = e.offsetHeight, o = i.width(), a = i.height(), s = t ? 0 : r.scrollLeft(), t = t ? 0 : r.scrollTop();
            return {minX: s, minY: t, maxX: o - n + s, maxY: a - e + t}
        }(), t.start(e)
    }, r.bind("mousedown", function (e) {
        var i = artDialog.focus;
        if (i) {
            var r = e.target, o = i.config, i = i.DOM;
            if (!1 !== o.drag && r === i.title[0] || !1 !== o.resize && r === i.se[0])return t = t || new artDialog.dragEvent, n(e), !1
        }
    })
}(this.art || this.jQuery && (this.art = jQuery)), define("artDialog", ["jquery"], function (e) {
    return function () {
        var t;
        return t || e.artDialog
    }
}(this)), define("Utils", ["artDialog"], function (e) {
    var t = {
        getParameter: function (e) {
            var t = new RegExp("(^|&)" + e + "=([^&]*)(&|$)", "i"), n = window.location.search.substr(1).match(t);
            return null != n ? unescape(n[2]) : null
        }, getQueryString: function (e) {
            var t = new RegExp("(^|&)" + e + "=([^&]*)(&|$)", "i"), n = window.location.search.substr(1).match(t);
            return null != n ? unescape(n[2]) : null
        }, showAlert: function (t, n) {
            e.dialog({
                title: "æç¤º",
                icon: "warning",
                content: "<span style='color:gray;font-size:15px'>" + t + "</span>",
                ok: function () {
                    n && "function" == typeof n && n()
                }
            }).lock()
        }, showPopWindow: function (t, n, i, r) {
            e.dialog.open(r, {title: t, width: n, height: i}).lock()
        }
    };
    return t
}), !function (e) {
    define && define.amd && "function" == typeof define ? define("toolbar", ["jquery"], e) : e(jQuery)
}(function (e) {
    function t(t) {
        var n = {toolbar: [], hoverStyle: ""};
        this.options = e.extend({}, n, t), this.render()
    }

    function n(e, t) {
        return e.replace(/\${(\w+)}/g, function (e, n) {
            return t[n]
        })
    }

    return e.extend(t.prototype, {
        render: function () {
            for (var t = e("<ul class='w-toolbar_wrap'></ul>").appendTo(this.options.dom), i = "<li class='w-toolbar_item'>${element}<span>&nbsp;&nbsp;${content}</span></li>", r = 0; r < this.options.toolbar.length; r++) {
                var o = this.options.toolbar[r];
                e(n(i, o)).appendTo(t).unbind().bind("click", o.callback)
            }
        }
    }), e.fn.toolBar = function (n) {
        this.each(function () {
            n.dom = e(this), new t(n)
        })
    }, e.fn.toolBar
}), !function (e, t, n, i) {
    "use strict";
    var r = e.fn.twbsPagination, o = function (n, i) {
        if (this.$element = e(n), this.options = e.extend({}, e.fn.twbsPagination.defaults, i), this.options.startPage < 1 || this.options.startPage > this.options.totalPages)throw new Error("Start page option is incorrect");
        if (this.options.totalPages = parseInt(this.options.totalPages), isNaN(this.options.totalPages))throw new Error("Total pages option is not correct!");
        if (this.options.visiblePages = parseInt(this.options.visiblePages), isNaN(this.options.visiblePages))throw new Error("Visible pages option is not correct!");
        if (this.options.totalPages < this.options.visiblePages && (this.options.visiblePages = this.options.totalPages), this.options.onPageClick instanceof Function && this.$element.first().on("page", this.options.onPageClick), this.options.href) {
            var r, o = this.options.href.replace(/[-\/\\^$*+?.|[\]]/g, "\\$&");
            o = o.replace(this.options.hrefVariable, "(\\d+)"), null != (r = new RegExp(o, "i").exec(t.location.href)) && (this.options.startPage = parseInt(r[1], 10))
        }
        var a = "function" == typeof this.$element.prop ? this.$element.prop("tagName") : this.$element.attr("tagName");
        return "UL" === a ? this.$listContainer = this.$element : this.$listContainer = e("<ul></ul>"), this.$listContainer.addClass(this.options.paginationClass), "UL" !== a && this.$element.append(this.$listContainer), this.render(this.getPages(this.options.startPage)), this.setupEvents(), this.options.initiateStartPageClick && this.$element.trigger("page", this.options.startPage), this
    };
    o.prototype = {
        constructor: o, destroy: function () {
            return this.$element.empty(), this.$element.removeData("twbs-pagination"), this.$element.off("page"), this
        }, show: function (e) {
            if (1 > e || e > this.options.totalPages)throw new Error("Page is incorrect.");
            return this.render(this.getPages(e)), this.setupEvents(), this.$element.trigger("page", e), this
        }, buildListItems: function (e) {
            var t = [];
            if (this.options.first && t.push(this.buildItem("first", 1)), this.options.prev) {
                var n = e.currentPage > 1 ? e.currentPage - 1 : this.options.loop ? this.options.totalPages : 1;
                t.push(this.buildItem("prev", n))
            }
            for (var i = 0; i < e.numeric.length; i++)t.push(this.buildItem("page", e.numeric[i]));
            if (this.options.next) {
                var r = e.currentPage < this.options.totalPages ? e.currentPage + 1 : this.options.loop ? 1 : this.options.totalPages;
                t.push(this.buildItem("next", r))
            }
            return this.options.last && t.push(this.buildItem("last", this.options.totalPages)), t
        }, buildItem: function (t, n) {
            var i = e("<li></li>"), r = e("<a></a>"), o = null;
            switch (t) {
                case"page":
                    o = n, i.addClass(this.options.pageClass);
                    break;
                case"first":
                    o = this.options.first, i.addClass(this.options.firstClass);
                    break;
                case"prev":
                    o = this.options.prev, i.addClass(this.options.prevClass);
                    break;
                case"next":
                    o = this.options.next, i.addClass(this.options.nextClass);
                    break;
                case"last":
                    o = this.options.last, i.addClass(this.options.lastClass)
            }
            return i.data("page", n), i.data("page-type", t), i.append(r.attr("href", this.makeHref(n)).html(o)), i
        }, getPages: function (e) {
            var t = [], n = Math.floor(this.options.visiblePages / 2), i = e - n + 1 - this.options.visiblePages % 2, r = e + n;
            0 >= i && (i = 1, r = this.options.visiblePages), r > this.options.totalPages && (i = this.options.totalPages - this.options.visiblePages + 1, r = this.options.totalPages);
            for (var o = i; r >= o;)t.push(o), o++;
            return {currentPage: e, numeric: t}
        }, render: function (t) {
            var n = this;
            this.$listContainer.children().remove(), this.$listContainer.append(this.buildListItems(t)), this.$listContainer.children().each(function () {
                var i = e(this), r = i.data("page-type");
                switch (r) {
                    case"page":
                        i.data("page") === t.currentPage && i.addClass(n.options.activeClass);
                        break;
                    case"first":
                        i.toggleClass(n.options.disabledClass, 1 === t.currentPage);
                        break;
                    case"last":
                        i.toggleClass(n.options.disabledClass, t.currentPage === n.options.totalPages);
                        break;
                    case"prev":
                        i.toggleClass(n.options.disabledClass, !n.options.loop && 1 === t.currentPage);
                        break;
                    case"next":
                        i.toggleClass(n.options.disabledClass, !n.options.loop && t.currentPage === n.options.totalPages)
                }
            })
        }, setupEvents: function () {
            var t = this;
            this.$listContainer.find("li").each(function () {
                var n = e(this);
                return n.off(), n.hasClass(t.options.disabledClass) || n.hasClass(t.options.activeClass) ? void n.on("click", !1) : void n.click(function (e) {
                    !t.options.href && e.preventDefault(), t.show(parseInt(n.data("page")))
                })
            })
        }, makeHref: function (e) {
            return this.options.href ? this.options.href.replace(this.options.hrefVariable, e) : "#"
        }
    }, e.fn.twbsPagination = function (t) {
        var n, r = Array.prototype.slice.call(arguments, 1), a = e(this), s = a.data("twbs-pagination"), l = "object" == typeof t && t;
        return s || a.data("twbs-pagination", s = new o(this, l)), "string" == typeof t && (n = s[t].apply(s, r)), n === i ? a : n
    }, e.fn.twbsPagination.defaults = {
        totalPages: 0,
        startPage: 1,
        visiblePages: 5,
        initiateStartPageClick: !0,
        href: !1,
        hrefVariable: "{{number}}",
        first: "First",
        prev: "Previous",
        next: "Next",
        last: "Last",
        loop: !1,
        onPageClick: null,
        paginationClass: "pagination",
        nextClass: "next",
        prevClass: "prev",
        lastClass: "last",
        firstClass: "first",
        pageClass: "page",
        activeClass: "active",
        disabledClass: "disabled"
    }, e.fn.twbsPagination.Constructor = o, e.fn.twbsPagination.noConflict = function () {
        return e.fn.twbsPagination = r, this
    }
}(window.jQuery, window, document), define("page", ["jquery"], function (e) {
    return function () {
        var t;
        return t || e.page
    }
}(this)), !function (e) {
    function t() {
        return new Date(Date.UTC.apply(Date, arguments))
    }

    "indexOf" in Array.prototype || (Array.prototype.indexOf = function (e, t) {
        void 0 === t && (t = 0), t < 0 && (t += this.length), t < 0 && (t = 0);
        for (var n = this.length; t < n; t++)if (t in this && this[t] === e)return t;
        return -1
    });
    var n = function (t, n) {
        var i = this;
        this.element = e(t), this.container = n.container || "body", this.language = n.language || this.element.data("date-language") || "en", this.language = this.language in r ? this.language : this.language.split("-")[0], this.language = this.language in r ? this.language : "en", this.isRTL = r[this.language].rtl || !1, this.formatType = n.formatType || this.element.data("format-type") || "standard", this.format = o.parseFormat(n.format || this.element.data("date-format") || r[this.language].format || o.getDefaultFormat(this.formatType, "input"), this.formatType), this.isInline = !1, this.isVisible = !1, this.isInput = this.element.is("input"), this.fontAwesome = n.fontAwesome || this.element.data("font-awesome") || !1, this.bootcssVer = n.bootcssVer || (this.isInput ? this.element.is(".form-control") ? 3 : 2 : this.bootcssVer = this.element.is(".input-group") ? 3 : 2), this.component = !!this.element.is(".date") && (3 == this.bootcssVer ? this.element.find(".input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-calendar, .input-group-addon .glyphicon-calendar, .input-group-addon .fa-calendar, .input-group-addon .fa-clock-o").parent() : this.element.find(".add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar, .add-on .fa-calendar, .add-on .fa-clock-o").parent()), this.componentReset = !!this.element.is(".date") && (3 == this.bootcssVer ? this.element.find(".input-group-addon .glyphicon-remove, .input-group-addon .fa-times").parent() : this.element.find(".add-on .icon-remove, .add-on .fa-times").parent()), this.hasInput = this.component && this.element.find("input").length, this.component && 0 === this.component.length && (this.component = !1), this.linkField = n.linkField || this.element.data("link-field") || !1, this.linkFormat = o.parseFormat(n.linkFormat || this.element.data("link-format") || o.getDefaultFormat(this.formatType, "link"), this.formatType), this.minuteStep = n.minuteStep || this.element.data("minute-step") || 5, this.pickerPosition = n.pickerPosition || this.element.data("picker-position") || "bottom-right", this.showMeridian = n.showMeridian || this.element.data("show-meridian") || !1, this.initialDate = n.initialDate || new Date, this.zIndex = n.zIndex || this.element.data("z-index") || void 0, this.icons = {
            leftArrow: this.fontAwesome ? "fa-arrow-left" : 3 === this.bootcssVer ? "glyphicon-arrow-left" : "icon-arrow-left",
            rightArrow: this.fontAwesome ? "fa-arrow-right" : 3 === this.bootcssVer ? "glyphicon-arrow-right" : "icon-arrow-right"
        }, this.icontype = this.fontAwesome ? "fa" : "glyphicon", this._attachEvents(), this.clickedOutside = function (t) {
            0 === e(t.target).closest(".datetimepicker").length && i.hide()
        }, this.formatViewType = "datetime", "formatViewType" in n ? this.formatViewType = n.formatViewType : "formatViewType" in this.element.data() && (this.formatViewType = this.element.data("formatViewType")), this.minView = 0, "minView" in n ? this.minView = n.minView : "minView" in this.element.data() && (this.minView = this.element.data("min-view")), this.minView = o.convertViewMode(this.minView), this.maxView = o.modes.length - 1, "maxView" in n ? this.maxView = n.maxView : "maxView" in this.element.data() && (this.maxView = this.element.data("max-view")), this.maxView = o.convertViewMode(this.maxView), this.wheelViewModeNavigation = !1, "wheelViewModeNavigation" in n ? this.wheelViewModeNavigation = n.wheelViewModeNavigation : "wheelViewModeNavigation" in this.element.data() && (this.wheelViewModeNavigation = this.element.data("view-mode-wheel-navigation")), this.wheelViewModeNavigationInverseDirection = !1, "wheelViewModeNavigationInverseDirection" in n ? this.wheelViewModeNavigationInverseDirection = n.wheelViewModeNavigationInverseDirection : "wheelViewModeNavigationInverseDirection" in this.element.data() && (this.wheelViewModeNavigationInverseDirection = this.element.data("view-mode-wheel-navigation-inverse-dir")), this.wheelViewModeNavigationDelay = 100, "wheelViewModeNavigationDelay" in n ? this.wheelViewModeNavigationDelay = n.wheelViewModeNavigationDelay : "wheelViewModeNavigationDelay" in this.element.data() && (this.wheelViewModeNavigationDelay = this.element.data("view-mode-wheel-navigation-delay")), this.startViewMode = 2, "startView" in n ? this.startViewMode = n.startView : "startView" in this.element.data() && (this.startViewMode = this.element.data("start-view")), this.startViewMode = o.convertViewMode(this.startViewMode), this.viewMode = this.startViewMode, this.viewSelect = this.minView, "viewSelect" in n ? this.viewSelect = n.viewSelect : "viewSelect" in this.element.data() && (this.viewSelect = this.element.data("view-select")), this.viewSelect = o.convertViewMode(this.viewSelect), this.forceParse = !0, "forceParse" in n ? this.forceParse = n.forceParse : "dateForceParse" in this.element.data() && (this.forceParse = this.element.data("date-force-parse"));
        for (var a = 3 === this.bootcssVer ? o.templateV3 : o.template; a.indexOf("{iconType}") !== -1;)a = a.replace("{iconType}", this.icontype);
        for (; a.indexOf("{leftArrow}") !== -1;)a = a.replace("{leftArrow}", this.icons.leftArrow);
        for (; a.indexOf("{rightArrow}") !== -1;)a = a.replace("{rightArrow}", this.icons.rightArrow);
        if (this.picker = e(a).appendTo(this.isInline ? this.element : this.container).on({
                click: e.proxy(this.click, this),
                mousedown: e.proxy(this.mousedown, this)
            }), this.wheelViewModeNavigation && (e.fn.mousewheel ? this.picker.on({mousewheel: e.proxy(this.mousewheel, this)}) : console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option")), this.isInline ? this.picker.addClass("datetimepicker-inline") : this.picker.addClass("datetimepicker-dropdown-" + this.pickerPosition + " dropdown-menu"), this.isRTL) {
            this.picker.addClass("datetimepicker-rtl");
            var s = 3 === this.bootcssVer ? ".prev span, .next span" : ".prev i, .next i";
            this.picker.find(s).toggleClass(this.icons.leftArrow + " " + this.icons.rightArrow)
        }
        e(document).on("mousedown", this.clickedOutside), this.autoclose = !1, "autoclose" in n ? this.autoclose = n.autoclose : "dateAutoclose" in this.element.data() && (this.autoclose = this.element.data("date-autoclose")), this.keyboardNavigation = !0, "keyboardNavigation" in n ? this.keyboardNavigation = n.keyboardNavigation : "dateKeyboardNavigation" in this.element.data() && (this.keyboardNavigation = this.element.data("date-keyboard-navigation")), this.todayBtn = n.todayBtn || this.element.data("date-today-btn") || !1, this.todayHighlight = n.todayHighlight || this.element.data("date-today-highlight") || !1, this.weekStart = (n.weekStart || this.element.data("date-weekstart") || r[this.language].weekStart || 0) % 7, this.weekEnd = (this.weekStart + 6) % 7, this.startDate = -(1 / 0), this.endDate = 1 / 0, this.daysOfWeekDisabled = [], this.setStartDate(n.startDate || this.element.data("date-startdate")), this.setEndDate(n.endDate || this.element.data("date-enddate")), this.setDaysOfWeekDisabled(n.daysOfWeekDisabled || this.element.data("date-days-of-week-disabled")), this.setMinutesDisabled(n.minutesDisabled || this.element.data("date-minute-disabled")), this.setHoursDisabled(n.hoursDisabled || this.element.data("date-hour-disabled")), this.fillDow(), this.fillMonths(), this.update(), this.showMode(), this.isInline && this.show()
    };
    n.prototype = {
        constructor: n, _events: [], _attachEvents: function () {
            this._detachEvents(), this.isInput ? this._events = [[this.element, {
                focus: e.proxy(this.show, this),
                keyup: e.proxy(this.update, this),
                keydown: e.proxy(this.keydown, this)
            }]] : this.component && this.hasInput ? (this._events = [[this.element.find("input"), {
                focus: e.proxy(this.show, this),
                keyup: e.proxy(this.update, this),
                keydown: e.proxy(this.keydown, this)
            }], [this.component, {click: e.proxy(this.show, this)}]], this.componentReset && this._events.push([this.componentReset, {click: e.proxy(this.reset, this)}])) : this.element.is("div") ? this.isInline = !0 : this._events = [[this.element, {click: e.proxy(this.show, this)}]];
            for (var t, n, i = 0; i < this._events.length; i++)t = this._events[i][0], n = this._events[i][1], t.on(n)
        }, _detachEvents: function () {
            for (var e, t, n = 0; n < this._events.length; n++)e = this._events[n][0], t = this._events[n][1], e.off(t);
            this._events = []
        }, show: function (t) {
            this.picker.show(), this.height = this.component ? this.component.outerHeight() : this.element.outerHeight(), this.forceParse && this.update(), this.place(), e(window).on("resize", e.proxy(this.place, this)), t && (t.stopPropagation(), t.preventDefault()), this.isVisible = !0, this.element.trigger({
                type: "show",
                date: this.date
            })
        }, hide: function (t) {
            this.isVisible && (this.isInline || (this.picker.hide(), e(window).off("resize", this.place), this.viewMode = this.startViewMode, this.showMode(), this.isInput || e(document).off("mousedown", this.hide), this.forceParse && (this.isInput && this.element.val() || this.hasInput && this.element.find("input").val()) && this.setValue(), this.isVisible = !1, this.element.trigger({
                type: "hide",
                date: this.date
            })))
        }, remove: function () {
            this._detachEvents(), e(document).off("mousedown", this.clickedOutside), this.picker.remove(), delete this.picker, delete this.element.data().datetimepicker
        }, getDate: function () {
            var e = this.getUTCDate();
            return new Date(e.getTime() + 6e4 * e.getTimezoneOffset())
        }, getUTCDate: function () {
            return this.date
        }, setDate: function (e) {
            this.setUTCDate(new Date(e.getTime() - 6e4 * e.getTimezoneOffset()))
        }, setUTCDate: function (e) {
            e >= this.startDate && e <= this.endDate ? (this.date = e, this.setValue(), this.viewDate = this.date, this.fill()) : this.element.trigger({
                type: "outOfRange",
                date: e,
                startDate: this.startDate,
                endDate: this.endDate
            })
        }, setFormat: function (e) {
            this.format = o.parseFormat(e, this.formatType);
            var t;
            this.isInput ? t = this.element : this.component && (t = this.element.find("input")), t && t.val() && this.setValue()
        }, setValue: function () {
            var t = this.getFormattedDate();
            this.isInput ? this.element.val(t) : (this.component && this.element.find("input").val(t), this.element.data("date", t)), this.linkField && e("#" + this.linkField).val(this.getFormattedDate(this.linkFormat))
        }, getFormattedDate: function (e) {
            return void 0 == e && (e = this.format), o.formatDate(this.date, e, this.language, this.formatType)
        }, setStartDate: function (e) {
            this.startDate = e || -(1 / 0), this.startDate !== -(1 / 0) && (this.startDate = o.parseDate(this.startDate, this.format, this.language, this.formatType)), this.update(), this.updateNavArrows()
        }, setEndDate: function (e) {
            this.endDate = e || 1 / 0, this.endDate !== 1 / 0 && (this.endDate = o.parseDate(this.endDate, this.format, this.language, this.formatType)), this.update(), this.updateNavArrows()
        }, setDaysOfWeekDisabled: function (t) {
            this.daysOfWeekDisabled = t || [], e.isArray(this.daysOfWeekDisabled) || (this.daysOfWeekDisabled = this.daysOfWeekDisabled.split(/,\s*/)), this.daysOfWeekDisabled = e.map(this.daysOfWeekDisabled, function (e) {
                return parseInt(e, 10)
            }), this.update(), this.updateNavArrows()
        }, setMinutesDisabled: function (t) {
            this.minutesDisabled = t || [], e.isArray(this.minutesDisabled) || (this.minutesDisabled = this.minutesDisabled.split(/,\s*/)), this.minutesDisabled = e.map(this.minutesDisabled, function (e) {
                return parseInt(e, 10)
            }), this.update(), this.updateNavArrows()
        }, setHoursDisabled: function (t) {
            this.hoursDisabled = t || [], e.isArray(this.hoursDisabled) || (this.hoursDisabled = this.hoursDisabled.split(/,\s*/)), this.hoursDisabled = e.map(this.hoursDisabled, function (e) {
                return parseInt(e, 10)
            }), this.update(), this.updateNavArrows()
        }, place: function () {
            if (!this.isInline) {
                if (!this.zIndex) {
                    var t = 0;
                    e("div").each(function () {
                        var n = parseInt(e(this).css("zIndex"), 10);
                        n > t && (t = n)
                    }), this.zIndex = t + 10
                }
                var n, i, r, o;
                o = this.container instanceof e ? this.container.offset() : e(this.container).offset(), this.component ? (n = this.component.offset(), r = n.left, "bottom-left" != this.pickerPosition && "top-left" != this.pickerPosition || (r += this.component.outerWidth() - this.picker.outerWidth())) : (n = this.element.offset(), r = n.left);
                var a = document.body.clientWidth || window.innerWidth;
                r + 220 > a && (r = a - 220), i = "top-left" == this.pickerPosition || "top-right" == this.pickerPosition ? n.top - this.picker.outerHeight() : n.top + this.height, i -= o.top, r -= o.left, this.picker.css({
                    top: i,
                    left: r,
                    zIndex: this.zIndex
                })
            }
        }, update: function () {
            var e, t = !1;
            arguments && arguments.length && ("string" == typeof arguments[0] || arguments[0] instanceof Date) ? (e = arguments[0], t = !0) : (e = (this.isInput ? this.element.val() : this.element.find("input").val()) || this.element.data("date") || this.initialDate, ("string" == typeof e || e instanceof String) && (e = e.replace(/^\s+|\s+$/g, ""))), e || (e = new Date, t = !1), this.date = o.parseDate(e, this.format, this.language, this.formatType), t && this.setValue(), this.date < this.startDate ? this.viewDate = new Date(this.startDate) : this.date > this.endDate ? this.viewDate = new Date(this.endDate) : this.viewDate = new Date(this.date), this.fill()
        }, fillDow: function () {
            for (var e = this.weekStart, t = "<tr>"; e < this.weekStart + 7;)t += '<th class="dow">' + r[this.language].daysMin[e++ % 7] + "</th>";
            t += "</tr>", this.picker.find(".datetimepicker-days thead").append(t)
        }, fillMonths: function () {
            for (var e = "", t = 0; t < 12;)e += '<span class="month">' + r[this.language].monthsShort[t++] + "</span>";
            this.picker.find(".datetimepicker-months td").html(e)
        }, fill: function () {
            if (null != this.date && null != this.viewDate) {
                var n = new Date(this.viewDate), i = n.getUTCFullYear(), a = n.getUTCMonth(), s = n.getUTCDate(), l = n.getUTCHours(), c = n.getUTCMinutes(), d = this.startDate !== -(1 / 0) ? this.startDate.getUTCFullYear() : -(1 / 0), u = this.startDate !== -(1 / 0) ? this.startDate.getUTCMonth() + 1 : -(1 / 0), f = this.endDate !== 1 / 0 ? this.endDate.getUTCFullYear() : 1 / 0, h = this.endDate !== 1 / 0 ? this.endDate.getUTCMonth() + 1 : 1 / 0, p = new t(this.date.getUTCFullYear(), this.date.getUTCMonth(), this.date.getUTCDate()).valueOf(), m = new Date;
                if (this.picker.find(".datetimepicker-days thead th:eq(1)").text(r[this.language].months[a] + " " + i), "time" == this.formatViewType) {
                    var g = this.getFormattedDate();
                    this.picker.find(".datetimepicker-hours thead th:eq(1)").text(g), this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(g)
                } else this.picker.find(".datetimepicker-hours thead th:eq(1)").text(s + " " + r[this.language].months[a] + " " + i), this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(s + " " + r[this.language].months[a] + " " + i);
                this.picker.find("tfoot th.today").text(r[this.language].today).toggle(this.todayBtn !== !1), this.updateNavArrows(), this.fillMonths();
                var v = t(i, a - 1, 28, 0, 0, 0, 0), y = o.getDaysInMonth(v.getUTCFullYear(), v.getUTCMonth());
                v.setUTCDate(y), v.setUTCDate(y - (v.getUTCDay() - this.weekStart + 7) % 7);
                var b = new Date(v);
                b.setUTCDate(b.getUTCDate() + 42), b = b.valueOf();
                for (var w, C = []; v.valueOf() < b;)v.getUTCDay() == this.weekStart && C.push("<tr>"), w = "", v.getUTCFullYear() < i || v.getUTCFullYear() == i && v.getUTCMonth() < a ? w += " old" : (v.getUTCFullYear() > i || v.getUTCFullYear() == i && v.getUTCMonth() > a) && (w += " new"), this.todayHighlight && v.getUTCFullYear() == m.getFullYear() && v.getUTCMonth() == m.getMonth() && v.getUTCDate() == m.getDate() && (w += " today"), v.valueOf() == p && (w += " active"), (v.valueOf() + 864e5 <= this.startDate || v.valueOf() > this.endDate || e.inArray(v.getUTCDay(), this.daysOfWeekDisabled) !== -1) && (w += " disabled"), C.push('<td class="day' + w + '">' + v.getUTCDate() + "</td>"), v.getUTCDay() == this.weekEnd && C.push("</tr>"), v.setUTCDate(v.getUTCDate() + 1);
                this.picker.find(".datetimepicker-days tbody").empty().append(C.join("")), C = [];
                for (var x = "", $ = "", N = "", T = this.hoursDisabled || [], k = 0; k < 24; k++)if (T.indexOf(k) === -1) {
                    var E = t(i, a, s, k);
                    w = "", E.valueOf() + 36e5 <= this.startDate || E.valueOf() > this.endDate ? w += " disabled" : l == k && (w += " active"), this.showMeridian && 2 == r[this.language].meridiem.length ? ($ = k < 12 ? r[this.language].meridiem[0] : r[this.language].meridiem[1], $ != N && ("" != N && C.push("</fieldset>"), C.push('<fieldset class="hour"><legend>' + $.toUpperCase() + "</legend>")), N = $, x = k % 12 ? k % 12 : 12, C.push('<span class="hour' + w + " hour_" + (k < 12 ? "am" : "pm") + '">' + x + "</span>"), 23 == k && C.push("</fieldset>")) : (x = k + ":00", C.push('<span class="hour' + w + '">' + x + "</span>"))
                }
                this.picker.find(".datetimepicker-hours td").html(C.join("")), C = [], x = "", $ = "", N = "";
                for (var S = this.minutesDisabled || [], k = 0; k < 60; k += this.minuteStep)if (S.indexOf(k) === -1) {
                    var E = t(i, a, s, l, k, 0);
                    w = "", E.valueOf() < this.startDate || E.valueOf() > this.endDate ? w += " disabled" : Math.floor(c / this.minuteStep) == Math.floor(k / this.minuteStep) && (w += " active"), this.showMeridian && 2 == r[this.language].meridiem.length ? ($ = l < 12 ? r[this.language].meridiem[0] : r[this.language].meridiem[1], $ != N && ("" != N && C.push("</fieldset>"), C.push('<fieldset class="minute"><legend>' + $.toUpperCase() + "</legend>")), N = $, x = l % 12 ? l % 12 : 12, C.push('<span class="minute' + w + '">' + x + ":" + (k < 10 ? "0" + k : k) + "</span>"), 59 == k && C.push("</fieldset>")) : (x = k + ":00", C.push('<span class="minute' + w + '">' + l + ":" + (k < 10 ? "0" + k : k) + "</span>"))
                }
                this.picker.find(".datetimepicker-minutes td").html(C.join(""));
                var U = this.date.getUTCFullYear(), D = this.picker.find(".datetimepicker-months").find("th:eq(1)").text(i).end().find("span").removeClass("active");
                if (U == i) {
                    var A = D.length - 12;
                    D.eq(this.date.getUTCMonth() + A).addClass("active")
                }
                (i < d || i > f) && D.addClass("disabled"), i == d && D.slice(0, u + 1).addClass("disabled"), i == f && D.slice(h).addClass("disabled"), C = "", i = 10 * parseInt(i / 10, 10);
                var B = this.picker.find(".datetimepicker-years").find("th:eq(1)").text(i + "-" + (i + 9)).end().find("td");
                i -= 1;
                for (var k = -1; k < 11; k++)C += '<span class="year' + (k == -1 || 10 == k ? " old" : "") + (U == i ? " active" : "") + (i < d || i > f ? " disabled" : "") + '">' + i + "</span>", i += 1;
                B.html(C), this.place()
            }
        }, updateNavArrows: function () {
            var e = new Date(this.viewDate), t = e.getUTCFullYear(), n = e.getUTCMonth(), i = e.getUTCDate(), r = e.getUTCHours();
            switch (this.viewMode) {
                case 0:
                    this.startDate !== -(1 / 0) && t <= this.startDate.getUTCFullYear() && n <= this.startDate.getUTCMonth() && i <= this.startDate.getUTCDate() && r <= this.startDate.getUTCHours() ? this.picker.find(".prev").css({visibility: "hidden"}) : this.picker.find(".prev").css({visibility: "visible"}), this.endDate !== 1 / 0 && t >= this.endDate.getUTCFullYear() && n >= this.endDate.getUTCMonth() && i >= this.endDate.getUTCDate() && r >= this.endDate.getUTCHours() ? this.picker.find(".next").css({visibility: "hidden"}) : this.picker.find(".next").css({visibility: "visible"});
                    break;
                case 1:
                    this.startDate !== -(1 / 0) && t <= this.startDate.getUTCFullYear() && n <= this.startDate.getUTCMonth() && i <= this.startDate.getUTCDate() ? this.picker.find(".prev").css({visibility: "hidden"}) : this.picker.find(".prev").css({visibility: "visible"}), this.endDate !== 1 / 0 && t >= this.endDate.getUTCFullYear() && n >= this.endDate.getUTCMonth() && i >= this.endDate.getUTCDate() ? this.picker.find(".next").css({visibility: "hidden"}) : this.picker.find(".next").css({visibility: "visible"});
                    break;
                case 2:
                    this.startDate !== -(1 / 0) && t <= this.startDate.getUTCFullYear() && n <= this.startDate.getUTCMonth() ? this.picker.find(".prev").css({visibility: "hidden"}) : this.picker.find(".prev").css({visibility: "visible"}), this.endDate !== 1 / 0 && t >= this.endDate.getUTCFullYear() && n >= this.endDate.getUTCMonth() ? this.picker.find(".next").css({visibility: "hidden"}) : this.picker.find(".next").css({visibility: "visible"});
                    break;
                case 3:
                case 4:
                    this.startDate !== -(1 / 0) && t <= this.startDate.getUTCFullYear() ? this.picker.find(".prev").css({visibility: "hidden"}) : this.picker.find(".prev").css({visibility: "visible"}), this.endDate !== 1 / 0 && t >= this.endDate.getUTCFullYear() ? this.picker.find(".next").css({visibility: "hidden"}) : this.picker.find(".next").css({visibility: "visible"})
            }
        }, mousewheel: function (t) {
            if (t.preventDefault(), t.stopPropagation(), !this.wheelPause) {
                this.wheelPause = !0;
                var n = t.originalEvent, i = n.wheelDelta, r = i > 0 ? 1 : 0 === i ? 0 : -1;
                this.wheelViewModeNavigationInverseDirection && (r = -r), this.showMode(r), setTimeout(e.proxy(function () {
                    this.wheelPause = !1
                }, this), this.wheelViewModeNavigationDelay)
            }
        }, click: function (n) {
            n.stopPropagation(), n.preventDefault();
            var i = e(n.target).closest("span, td, th, legend");
            if (i.is("." + this.icontype) && (i = e(i).parent().closest("span, td, th, legend")), 1 == i.length) {
                if (i.is(".disabled"))return void this.element.trigger({
                    type: "outOfRange",
                    date: this.viewDate,
                    startDate: this.startDate,
                    endDate: this.endDate
                });
                switch (i[0].nodeName.toLowerCase()) {
                    case"th":
                        switch (i[0].className) {
                            case"switch":
                                this.showMode(1);
                                break;
                            case"prev":
                            case"next":
                                var r = o.modes[this.viewMode].navStep * ("prev" == i[0].className ? -1 : 1);
                                switch (this.viewMode) {
                                    case 0:
                                        this.viewDate = this.moveHour(this.viewDate, r);
                                        break;
                                    case 1:
                                        this.viewDate = this.moveDate(this.viewDate, r);
                                        break;
                                    case 2:
                                        this.viewDate = this.moveMonth(this.viewDate, r);
                                        break;
                                    case 3:
                                    case 4:
                                        this.viewDate = this.moveYear(this.viewDate, r)
                                }
                                this.fill(), this.element.trigger({
                                    type: i[0].className + ":" + this.convertViewModeText(this.viewMode),
                                    date: this.viewDate,
                                    startDate: this.startDate,
                                    endDate: this.endDate
                                });
                                break;
                            case"today":
                                var a = new Date;
                                a = t(a.getFullYear(), a.getMonth(), a.getDate(), a.getHours(), a.getMinutes(), a.getSeconds(), 0), a < this.startDate ? a = this.startDate : a > this.endDate && (a = this.endDate), this.viewMode = this.startViewMode, this.showMode(0), this._setDate(a), this.fill(), this.autoclose && this.hide()
                        }
                        break;
                    case"span":
                        if (!i.is(".disabled")) {
                            var s = this.viewDate.getUTCFullYear(), l = this.viewDate.getUTCMonth(), c = this.viewDate.getUTCDate(), d = this.viewDate.getUTCHours(), u = this.viewDate.getUTCMinutes(), f = this.viewDate.getUTCSeconds();
                            if (i.is(".month") ? (this.viewDate.setUTCDate(1), l = i.parent().find("span").index(i), c = this.viewDate.getUTCDate(), this.viewDate.setUTCMonth(l), this.element.trigger({
                                    type: "changeMonth",
                                    date: this.viewDate
                                }), this.viewSelect >= 3 && this._setDate(t(s, l, c, d, u, f, 0))) : i.is(".year") ? (this.viewDate.setUTCDate(1), s = parseInt(i.text(), 10) || 0, this.viewDate.setUTCFullYear(s), this.element.trigger({
                                    type: "changeYear",
                                    date: this.viewDate
                                }), this.viewSelect >= 4 && this._setDate(t(s, l, c, d, u, f, 0))) : i.is(".hour") ? (d = parseInt(i.text(), 10) || 0, (i.hasClass("hour_am") || i.hasClass("hour_pm")) && (12 == d && i.hasClass("hour_am") ? d = 0 : 12 != d && i.hasClass("hour_pm") && (d += 12)), this.viewDate.setUTCHours(d), this.element.trigger({
                                    type: "changeHour",
                                    date: this.viewDate
                                }), this.viewSelect >= 1 && this._setDate(t(s, l, c, d, u, f, 0))) : i.is(".minute") && (u = parseInt(i.text().substr(i.text().indexOf(":") + 1), 10) || 0, this.viewDate.setUTCMinutes(u), this.element.trigger({
                                    type: "changeMinute",
                                    date: this.viewDate
                                }), this.viewSelect >= 0 && this._setDate(t(s, l, c, d, u, f, 0))), 0 != this.viewMode) {
                                var h = this.viewMode;
                                this.showMode(-1), this.fill(), h == this.viewMode && this.autoclose && this.hide()
                            } else this.fill(), this.autoclose && this.hide()
                        }
                        break;
                    case"td":
                        if (i.is(".day") && !i.is(".disabled")) {
                            var c = parseInt(i.text(), 10) || 1, s = this.viewDate.getUTCFullYear(), l = this.viewDate.getUTCMonth(), d = this.viewDate.getUTCHours(), u = this.viewDate.getUTCMinutes(), f = this.viewDate.getUTCSeconds();
                            i.is(".old") ? 0 === l ? (l = 11, s -= 1) : l -= 1 : i.is(".new") && (11 == l ? (l = 0, s += 1) : l += 1), this.viewDate.setUTCFullYear(s), this.viewDate.setUTCMonth(l, c), this.element.trigger({
                                type: "changeDay",
                                date: this.viewDate
                            }), this.viewSelect >= 2 && this._setDate(t(s, l, c, d, u, f, 0))
                        }
                        var h = this.viewMode;
                        this.showMode(-1), this.fill(), h == this.viewMode && this.autoclose && this.hide()
                }
            }
        }, _setDate: function (e, t) {
            t && "date" != t || (this.date = e), t && "view" != t || (this.viewDate = e), this.fill(), this.setValue();
            var n;
            this.isInput ? n = this.element : this.component && (n = this.element.find("input")), n && (n.change(), this.autoclose && (!t || "date" == t)), this.element.trigger({
                type: "changeDate",
                date: this.date
            }), null == e && (this.date = this.viewDate)
        }, moveMinute: function (e, t) {
            if (!t)return e;
            var n = new Date(e.valueOf());
            return n.setUTCMinutes(n.getUTCMinutes() + t * this.minuteStep), n
        }, moveHour: function (e, t) {
            if (!t)return e;
            var n = new Date(e.valueOf());
            return n.setUTCHours(n.getUTCHours() + t), n
        }, moveDate: function (e, t) {
            if (!t)return e;
            var n = new Date(e.valueOf());
            return n.setUTCDate(n.getUTCDate() + t), n
        }, moveMonth: function (e, t) {
            if (!t)return e;
            var n, i, r = new Date(e.valueOf()), o = r.getUTCDate(), a = r.getUTCMonth(), s = Math.abs(t);
            if (t = t > 0 ? 1 : -1, 1 == s)i = t == -1 ? function () {
                return r.getUTCMonth() == a
            } : function () {
                return r.getUTCMonth() != n
            }, n = a + t, r.setUTCMonth(n), (n < 0 || n > 11) && (n = (n + 12) % 12); else {
                for (var l = 0; l < s; l++)r = this.moveMonth(r, t);
                n = r.getUTCMonth(), r.setUTCDate(o), i = function () {
                    return n != r.getUTCMonth()
                }
            }
            for (; i();)r.setUTCDate(--o), r.setUTCMonth(n);
            return r
        }, moveYear: function (e, t) {
            return this.moveMonth(e, 12 * t)
        }, dateWithinRange: function (e) {
            return e >= this.startDate && e <= this.endDate
        }, keydown: function (e) {
            if (this.picker.is(":not(:visible)"))return void(27 == e.keyCode && this.show());
            var t, n, i, r = !1;
            switch (e.keyCode) {
                case 27:
                    this.hide(), e.preventDefault();
                    break;
                case 37:
                case 39:
                    if (!this.keyboardNavigation)break;
                    t = 37 == e.keyCode ? -1 : 1, viewMode = this.viewMode, e.ctrlKey ? viewMode += 2 : e.shiftKey && (viewMode += 1), 4 == viewMode ? (n = this.moveYear(this.date, t), i = this.moveYear(this.viewDate, t)) : 3 == viewMode ? (n = this.moveMonth(this.date, t), i = this.moveMonth(this.viewDate, t)) : 2 == viewMode ? (n = this.moveDate(this.date, t), i = this.moveDate(this.viewDate, t)) : 1 == viewMode ? (n = this.moveHour(this.date, t), i = this.moveHour(this.viewDate, t)) : 0 == viewMode && (n = this.moveMinute(this.date, t), i = this.moveMinute(this.viewDate, t)), this.dateWithinRange(n) && (this.date = n, this.viewDate = i, this.setValue(), this.update(), e.preventDefault(), r = !0);
                    break;
                case 38:
                case 40:
                    if (!this.keyboardNavigation)break;
                    t = 38 == e.keyCode ? -1 : 1, viewMode = this.viewMode, e.ctrlKey ? viewMode += 2 : e.shiftKey && (viewMode += 1), 4 == viewMode ? (n = this.moveYear(this.date, t), i = this.moveYear(this.viewDate, t)) : 3 == viewMode ? (n = this.moveMonth(this.date, t), i = this.moveMonth(this.viewDate, t)) : 2 == viewMode ? (n = this.moveDate(this.date, 7 * t), i = this.moveDate(this.viewDate, 7 * t)) : 1 == viewMode ? this.showMeridian ? (n = this.moveHour(this.date, 6 * t), i = this.moveHour(this.viewDate, 6 * t)) : (n = this.moveHour(this.date, 4 * t), i = this.moveHour(this.viewDate, 4 * t)) : 0 == viewMode && (n = this.moveMinute(this.date, 4 * t), i = this.moveMinute(this.viewDate, 4 * t)), this.dateWithinRange(n) && (this.date = n, this.viewDate = i, this.setValue(), this.update(), e.preventDefault(), r = !0);
                    break;
                case 13:
                    if (0 != this.viewMode) {
                        var o = this.viewMode;
                        this.showMode(-1), this.fill(), o == this.viewMode && this.autoclose && this.hide()
                    } else this.fill(), this.autoclose && this.hide();
                    e.preventDefault();
                    break;
                case 9:
                    this.hide()
            }
            if (r) {
                var a;
                this.isInput ? a = this.element : this.component && (a = this.element.find("input")), a && a.change(), this.element.trigger({
                    type: "changeDate",
                    date: this.date
                })
            }
        }, showMode: function (e) {
            if (e) {
                var t = Math.max(0, Math.min(o.modes.length - 1, this.viewMode + e));
                t >= this.minView && t <= this.maxView && (this.element.trigger({
                    type: "changeMode",
                    date: this.viewDate,
                    oldViewMode: this.viewMode,
                    newViewMode: t
                }), this.viewMode = t)
            }
            this.picker.find(">div").hide().filter(".datetimepicker-" + o.modes[this.viewMode].clsName).css("display", "block"), this.updateNavArrows()
        }, reset: function (e) {
            this._setDate(null, "date")
        }, convertViewModeText: function (e) {
            switch (e) {
                case 4:
                    return "decade";
                case 3:
                    return "year";
                case 2:
                    return "month";
                case 1:
                    return "day";
                case 0:
                    return "hour"
            }
        }
    };
    var i = e.fn.datetimepicker;
    e.fn.datetimepicker = function (t) {
        var i = Array.apply(null, arguments);
        i.shift();
        var r;
        return this.each(function () {
            var o = e(this), a = o.data("datetimepicker"), s = "object" == typeof t && t;
            if (a || o.data("datetimepicker", a = new n(this, e.extend({}, e.fn.datetimepicker.defaults, s))), "string" == typeof t && "function" == typeof a[t] && (r = a[t].apply(a, i), void 0 !== r))return !1
        }), void 0 !== r ? r : this
    }, e.fn.datetimepicker.defaults = {}, e.fn.datetimepicker.Constructor = n;
    var r = e.fn.datetimepicker.dates = {
        en: {
            days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
            daysShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"],
            daysMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa", "Su"],
            months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            meridiem: ["am", "pm"],
            suffix: ["st", "nd", "rd", "th"],
            today: "Today"
        }
    }, o = {
        modes: [{clsName: "minutes", navFnc: "Hours", navStep: 1}, {
            clsName: "hours",
            navFnc: "Date",
            navStep: 1
        }, {clsName: "days", navFnc: "Month", navStep: 1}, {
            clsName: "months",
            navFnc: "FullYear",
            navStep: 1
        }, {clsName: "years", navFnc: "FullYear", navStep: 10}],
        isLeapYear: function (e) {
            return e % 4 === 0 && e % 100 !== 0 || e % 400 === 0
        },
        getDaysInMonth: function (e, t) {
            return [31, o.isLeapYear(e) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][t]
        },
        getDefaultFormat: function (e, t) {
            if ("standard" == e)return "input" == t ? "yyyy-mm-dd hh:ii" : "yyyy-mm-dd hh:ii:ss";
            if ("php" == e)return "input" == t ? "Y-m-d H:i" : "Y-m-d H:i:s";
            throw new Error("Invalid format type.")
        },
        validParts: function (e) {
            if ("standard" == e)return /hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;
            if ("php" == e)return /[dDjlNwzFmMnStyYaABgGhHis]/g;
            throw new Error("Invalid format type.")
        },
        nonpunctuation: /[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,
        parseFormat: function (e, t) {
            var n = e.replace(this.validParts(t), "\0").split("\0"), i = e.match(this.validParts(t));
            if (!n || !n.length || !i || 0 == i.length)throw new Error("Invalid date format.");
            return {separators: n, parts: i}
        },
        parseDate: function (i, o, a, s) {
            if (i instanceof Date) {
                var l = new Date(i.valueOf() - 6e4 * i.getTimezoneOffset());
                return l.setMilliseconds(0), l
            }
            if (/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(i) && (o = this.parseFormat("yyyy-mm-dd", s)), /^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(i) && (o = this.parseFormat("yyyy-mm-dd hh:ii", s)), /^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(i) && (o = this.parseFormat("yyyy-mm-dd hh:ii:ss", s)), /^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(i)) {
                var c, d, u = /([-+]\d+)([dmwy])/, f = i.match(/([-+]\d+)([dmwy])/g);
                i = new Date;
                for (var h = 0; h < f.length; h++)switch (c = u.exec(f[h]), d = parseInt(c[1]), c[2]) {
                    case"d":
                        i.setUTCDate(i.getUTCDate() + d);
                        break;
                    case"m":
                        i = n.prototype.moveMonth.call(n.prototype, i, d);
                        break;
                    case"w":
                        i.setUTCDate(i.getUTCDate() + 7 * d);
                        break;
                    case"y":
                        i = n.prototype.moveYear.call(n.prototype, i, d)
                }
                return t(i.getUTCFullYear(), i.getUTCMonth(), i.getUTCDate(), i.getUTCHours(), i.getUTCMinutes(), i.getUTCSeconds(), 0)
            }
            var p, m, c, f = i && i.toString().match(this.nonpunctuation) || [], i = new Date(0, 0, 0, 0, 0, 0, 0), g = {}, v = ["hh", "h", "ii", "i", "ss", "s", "yyyy", "yy", "M", "MM", "m", "mm", "D", "DD", "d", "dd", "H", "HH", "p", "P"], y = {
                hh: function (e, t) {
                    return e.setUTCHours(t)
                }, h: function (e, t) {
                    return e.setUTCHours(t)
                }, HH: function (e, t) {
                    return e.setUTCHours(12 == t ? 0 : t)
                }, H: function (e, t) {
                    return e.setUTCHours(12 == t ? 0 : t)
                }, ii: function (e, t) {
                    return e.setUTCMinutes(t)
                }, i: function (e, t) {
                    return e.setUTCMinutes(t)
                }, ss: function (e, t) {
                    return e.setUTCSeconds(t)
                }, s: function (e, t) {
                    return e.setUTCSeconds(t)
                }, yyyy: function (e, t) {
                    return e.setUTCFullYear(t)
                }, yy: function (e, t) {
                    return e.setUTCFullYear(2e3 + t)
                }, m: function (e, t) {
                    for (t -= 1; t < 0;)t += 12;
                    for (t %= 12, e.setUTCMonth(t); e.getUTCMonth() != t;) {
                        if (isNaN(e.getUTCMonth()))return e;
                        e.setUTCDate(e.getUTCDate() - 1)
                    }
                    return e
                }, d: function (e, t) {
                    return e.setUTCDate(t)
                }, p: function (e, t) {
                    return e.setUTCHours(1 == t ? e.getUTCHours() + 12 : e.getUTCHours())
                }
            };
            if (y.M = y.MM = y.mm = y.m, y.dd = y.d, y.P = y.p, i = t(i.getFullYear(), i.getMonth(), i.getDate(), i.getHours(), i.getMinutes(), i.getSeconds()), f.length == o.parts.length) {
                for (var h = 0, b = o.parts.length; h < b; h++) {
                    if (p = parseInt(f[h], 10), c = o.parts[h], isNaN(p))switch (c) {
                        case"MM":
                            m = e(r[a].months).filter(function () {
                                var e = this.slice(0, f[h].length), t = f[h].slice(0, e.length);
                                return e == t
                            }), p = e.inArray(m[0], r[a].months) + 1;
                            break;
                        case"M":
                            m = e(r[a].monthsShort).filter(function () {
                                var e = this.slice(0, f[h].length), t = f[h].slice(0, e.length);
                                return e.toLowerCase() == t.toLowerCase()
                            }), p = e.inArray(m[0], r[a].monthsShort) + 1;
                            break;
                        case"p":
                        case"P":
                            p = e.inArray(f[h].toLowerCase(), r[a].meridiem)
                    }
                    g[c] = p
                }
                for (var w, h = 0; h < v.length; h++)w = v[h], w in g && !isNaN(g[w]) && y[w](i, g[w])
            }
            return i
        },
        formatDate: function (t, n, i, a) {
            if (null == t)return "";
            var s;
            if ("standard" == a)s = {
                yy: t.getUTCFullYear().toString().substring(2),
                yyyy: t.getUTCFullYear(),
                m: t.getUTCMonth() + 1,
                M: r[i].monthsShort[t.getUTCMonth()],
                MM: r[i].months[t.getUTCMonth()],
                d: t.getUTCDate(),
                D: r[i].daysShort[t.getUTCDay()],
                DD: r[i].days[t.getUTCDay()],
                p: 2 == r[i].meridiem.length ? r[i].meridiem[t.getUTCHours() < 12 ? 0 : 1] : "",
                h: t.getUTCHours(),
                i: t.getUTCMinutes(),
                s: t.getUTCSeconds()
            }, 2 == r[i].meridiem.length ? s.H = s.h % 12 == 0 ? 12 : s.h % 12 : s.H = s.h, s.HH = (s.H < 10 ? "0" : "") + s.H, s.P = s.p.toUpperCase(), s.hh = (s.h < 10 ? "0" : "") + s.h, s.ii = (s.i < 10 ? "0" : "") + s.i, s.ss = (s.s < 10 ? "0" : "") + s.s, s.dd = (s.d < 10 ? "0" : "") + s.d, s.mm = (s.m < 10 ? "0" : "") + s.m; else {
                if ("php" != a)throw new Error("Invalid format type.");
                s = {
                    y: t.getUTCFullYear().toString().substring(2),
                    Y: t.getUTCFullYear(),
                    F: r[i].months[t.getUTCMonth()],
                    M: r[i].monthsShort[t.getUTCMonth()],
                    n: t.getUTCMonth() + 1,
                    t: o.getDaysInMonth(t.getUTCFullYear(), t.getUTCMonth()),
                    j: t.getUTCDate(),
                    l: r[i].days[t.getUTCDay()],
                    D: r[i].daysShort[t.getUTCDay()],
                    w: t.getUTCDay(),
                    N: 0 == t.getUTCDay() ? 7 : t.getUTCDay(),
                    S: t.getUTCDate() % 10 <= r[i].suffix.length ? r[i].suffix[t.getUTCDate() % 10 - 1] : "",
                    a: 2 == r[i].meridiem.length ? r[i].meridiem[t.getUTCHours() < 12 ? 0 : 1] : "",
                    g: t.getUTCHours() % 12 == 0 ? 12 : t.getUTCHours() % 12,
                    G: t.getUTCHours(),
                    i: t.getUTCMinutes(),
                    s: t.getUTCSeconds()
                }, s.m = (s.n < 10 ? "0" : "") + s.n, s.d = (s.j < 10 ? "0" : "") + s.j, s.A = s.a.toString().toUpperCase(), s.h = (s.g < 10 ? "0" : "") + s.g, s.H = (s.G < 10 ? "0" : "") + s.G, s.i = (s.i < 10 ? "0" : "") + s.i, s.s = (s.s < 10 ? "0" : "") + s.s
            }
            for (var t = [], l = e.extend([], n.separators), c = 0, d = n.parts.length; c < d; c++)l.length && t.push(l.shift()), t.push(s[n.parts[c]]);
            return l.length && t.push(l.shift()), t.join("")
        },
        convertViewMode: function (e) {
            switch (e) {
                case 4:
                case"decade":
                    e = 4;
                    break;
                case 3:
                case"year":
                    e = 3;
                    break;
                case 2:
                case"month":
                    e = 2;
                    break;
                case 1:
                case"day":
                    e = 1;
                    break;
                case 0:
                case"hour":
                    e = 0
            }
            return e
        },
        headTemplate: '<thead><tr><th class="prev"><i class="{iconType} {leftArrow}"/></th><th colspan="5" class="switch"></th><th class="next"><i class="{iconType} {rightArrow}"/></th></tr></thead>',
        headTemplateV3: '<thead><tr><th class="prev"><span class="{iconType} {leftArrow}"></span> </th><th colspan="5" class="switch"></th><th class="next"><span class="{iconType} {rightArrow}"></span> </th></tr></thead>',
        contTemplate: '<tbody><tr><td colspan="7"></td></tr></tbody>',
        footTemplate: '<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'
    };
    o.template = '<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">' + o.headTemplate + o.contTemplate + o.footTemplate + '</table></div><div class="datetimepicker-hours"><table class=" table-condensed">' + o.headTemplate + o.contTemplate + o.footTemplate + '</table></div><div class="datetimepicker-days"><table class=" table-condensed">' + o.headTemplate + "<tbody></tbody>" + o.footTemplate + '</table></div><div class="datetimepicker-months"><table class="table-condensed">' + o.headTemplate + o.contTemplate + o.footTemplate + '</table></div><div class="datetimepicker-years"><table class="table-condensed">' + o.headTemplate + o.contTemplate + o.footTemplate + "</table></div></div>", o.templateV3 = '<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">' + o.headTemplateV3 + o.contTemplate + o.footTemplate + '</table></div><div class="datetimepicker-hours"><table class=" table-condensed">' + o.headTemplateV3 + o.contTemplate + o.footTemplate + '</table></div><div class="datetimepicker-days"><table class=" table-condensed">' + o.headTemplateV3 + "<tbody></tbody>" + o.footTemplate + '</table></div><div class="datetimepicker-months"><table class="table-condensed">' + o.headTemplateV3 + o.contTemplate + o.footTemplate + '</table></div><div class="datetimepicker-years"><table class="table-condensed">' + o.headTemplateV3 + o.contTemplate + o.footTemplate + "</table></div></div>", e.fn.datetimepicker.DPGlobal = o, e.fn.datetimepicker.noConflict = function () {
        return e.fn.datetimepicker = i, this
    }, e(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api", '[data-provide="datetimepicker"]', function (t) {
        var n = e(this);
        n.data("datetimepicker") || (t.preventDefault(), n.datetimepicker("show"))
    }), e(function () {
        e('[data-provide="datetimepicker-inline"]').datetimepicker()
    })
}(window.jQuery), define("datetimepicker", function () {
}), function (e) {
    e.fn.datetimepicker.dates["zh-CN"] = {
        days: ["æææ¥", "ææä¸", "ææäº", "ææä¸", "ææå", "ææäº", "ææå­", "æææ¥"],
        daysShort: ["å¨æ¥", "å¨ä¸", "å¨äº", "å¨ä¸", "å¨å", "å¨äº", "å¨å­", "å¨æ¥"],
        daysMin: ["æ¥", "ä¸", "äº", "ä¸", "å", "äº", "å­", "æ¥"],
        months: ["ä¸æ", "äºæ", "ä¸æ", "åæ", "äºæ", "å­æ", "ä¸æ", "å«æ", "ä¹æ", "åæ", "åä¸æ", "åäºæ"],
        monthsShort: ["ä¸æ", "äºæ", "ä¸æ", "åæ", "äºæ", "å­æ", "ä¸æ", "å«æ", "ä¹æ", "åæ", "åä¸æ", "åäºæ"],
        today: "ä»å¤©",
        suffix: [],
        meridiem: ["ä¸å", "ä¸å"]
    }
}(jQuery), define("datetimepicker-local", ["datetimepicker"], function () {
}), define("DateTimePickerDirective", ["datetimepicker-local"], function () {
    app.directive("datepicker", function () {
        return {
            restrict: "C",
            require: "ngModel",
            scope: {dateModel: "=ngModel", weekModel: "=week"},
            link: function (e, t, n, i) {
                t.datetimepicker({
                    language: "zh-CN",
                    format: "yyyy-mm-dd",
                    todayBtn: !0,
                    minView: 2,
                    autoclose: !0
                }).on("changeDate", function (t) {
                    if (t && t.date && "[object Date]" === Object.prototype.toString.call(t.date)) {
                        e.dateModel = t.date;
                        var n = t.date.getDay(), i = new Array("æææ¥", "ææä¸", "ææäº", "ææä¸", "ææå", "ææäº", "ææå­");
                        e.weekModel = i[n], e.$apply()
                    }
                })
            }
        }
    })
}), function () {
    function getListener(e, t, n) {
        var i;
        return t = t.toLowerCase(), (i = e.__allListeners || n && (e.__allListeners = {})) && (i[t] || n && (i[t] = []))
    }

    function getDomNode(e, t, n, i, r, o) {
        var a, s = i && e[t];
        for (!s && (s = e[n]); !s && (a = (a || e).parentNode);) {
            if ("BODY" == a.tagName || o && !o(a))return null;
            s = a[n]
        }
        return s && r && !r(s) ? getDomNode(s, t, n, !1, r) : s
    }

    UEDITOR_CONFIG = window.UEDITOR_CONFIG || {};
    var baidu = window.baidu || {};
    window.baidu = baidu, window.UE = baidu.editor = {}, UE.plugins = {}, UE.commands = {}, UE.instants = {}, UE.I18N = {}, UE.version = "1.2.6.0";
    var dom = UE.dom = {}, browser = UE.browser = function () {
        var e = navigator.userAgent.toLowerCase(), t = window.opera, n = {
            ie: !!window.ActiveXObject,
            opera: !!t && t.version,
            webkit: e.indexOf(" applewebkit/") > -1,
            mac: e.indexOf("macintosh") > -1,
            quirks: "BackCompat" == document.compatMode
        };
        n.gecko = "Gecko" == navigator.product && !n.webkit && !n.opera;
        var i = 0;
        if (n.ie && (i = parseFloat(e.match(/msie (\d+)/)[1]), n.ie9Compat = 9 == document.documentMode, n.ie8 = !!document.documentMode, n.ie8Compat = 8 == document.documentMode, n.ie7Compat = 7 == i && !document.documentMode || 7 == document.documentMode, n.ie6Compat = i < 7 || n.quirks), n.gecko) {
            var r = e.match(/rv:([\d\.]+)/);
            r && (r = r[1].split("."), i = 1e4 * r[0] + 100 * (r[1] || 0) + 1 * (r[2] || 0))
        }
        return /chrome\/(\d+\.\d)/i.test(e) && (n.chrome = +RegExp.$1), /(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(e) && !/chrome/i.test(e) && (n.safari = +(RegExp.$1 || RegExp.$2)), n.opera && (i = parseFloat(t.version())), n.webkit && (i = parseFloat(e.match(/ applewebkit\/(\d+)/)[1])), n.version = i, n.isCompatible = !n.mobile && (n.ie && i >= 6 || n.gecko && i >= 10801 || n.opera && i >= 9.5 || n.air && i >= 1 || n.webkit && i >= 522 || !1), n
    }(), ie = browser.ie, webkit = browser.webkit, gecko = browser.gecko, opera = browser.opera, utils = UE.utils = {
        each: function (e, t, n) {
            if (null != e)if (e.length === +e.length) {
                for (var i = 0, r = e.length; i < r; i++)if (t.call(n, e[i], i, e) === !1)return !1
            } else for (var o in e)if (e.hasOwnProperty(o) && t.call(n, e[o], o, e) === !1)return !1
        }, makeInstance: function (e) {
            var t = new Function;
            return t.prototype = e, e = new t, t.prototype = null, e
        }, extend: function (e, t, n) {
            if (t)for (var i in t)n && e.hasOwnProperty(i) || (e[i] = t[i]);
            return e
        }, extend2: function (e) {
            for (var t = arguments, n = 1; n < t.length; n++) {
                var i = t[n];
                for (var r in i)e.hasOwnProperty(r) || (e[r] = i[r])
            }
            return e
        }, inherits: function (e, t) {
            var n = e.prototype, i = utils.makeInstance(t.prototype);
            return utils.extend(i, n, !0), e.prototype = i, i.constructor = e
        }, bind: function (e, t) {
            return function () {
                return e.apply(t, arguments)
            }
        }, defer: function (e, t, n) {
            var i;
            return function () {
                n && clearTimeout(i), i = setTimeout(e, t)
            }
        }, indexOf: function (e, t, n) {
            var i = -1;
            return n = this.isNumber(n) ? n : 0, this.each(e, function (e, r) {
                if (r >= n && e === t)return i = r, !1
            }), i
        }, removeItem: function (e, t) {
            for (var n = 0, i = e.length; n < i; n++)e[n] === t && (e.splice(n, 1), n--)
        }, trim: function (e) {
            return e.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g, "")
        }, listToMap: function (e) {
            if (!e)return {};
            e = utils.isArray(e) ? e : e.split(",");
            for (var t, n = 0, i = {}; t = e[n++];)i[t.toUpperCase()] = i[t] = 1;
            return i
        }, unhtml: function (e, t) {
            return e ? e.replace(t || /[&<">'](?:(amp|lt|quot|gt|#39|nbsp);)?/g, function (e, t) {
                return t ? e : {"<": "&lt;", "&": "&amp;", '"': "&quot;", ">": "&gt;", "'": "&#39;"}[e]
            }) : ""
        }, html: function (e) {
            return e ? e.replace(/&((g|l|quo)t|amp|#39);/g, function (e) {
                return {"&lt;": "<", "&amp;": "&", "&quot;": '"', "&gt;": ">", "&#39;": "'"}[e]
            }) : ""
        }, cssStyleToDomStyle: function () {
            var e = document.createElement("div").style, t = {float: void 0 != e.cssFloat ? "cssFloat" : void 0 != e.styleFloat ? "styleFloat" : "float"};
            return function (e) {
                return t[e] || (t[e] = e.toLowerCase().replace(/-./g, function (e) {
                        return e.charAt(1).toUpperCase()
                    }))
            }
        }(), loadFile: function () {
            function e(e, n) {
                try {
                    for (var i, r = 0; i = t[r++];)if (i.doc === e && i.url == (n.src || n.href))return i
                } catch (e) {
                    return null
                }
            }

            var t = [];
            return function (n, i, r) {
                var o = e(n, i);
                if (o)return void(o.ready ? r && r() : o.funs.push(r));
                if (t.push({doc: n, url: i.src || i.href, funs: [r]}), !n.body) {
                    var a = [];
                    for (var s in i)"tag" != s && a.push(s + '="' + i[s] + '"');
                    return void n.write("<" + i.tag + " " + a.join(" ") + " ></" + i.tag + ">")
                }
                if (!i.id || !n.getElementById(i.id)) {
                    var l = n.createElement(i.tag);
                    delete i.tag;
                    for (var s in i)l.setAttribute(s, i[s]);
                    l.onload = l.onreadystatechange = function () {
                        if (!this.readyState || /loaded|complete/.test(this.readyState)) {
                            if (o = e(n, i), o.funs.length > 0) {
                                o.ready = 1;
                                for (var t; t = o.funs.pop();)t()
                            }
                            l.onload = l.onreadystatechange = null
                        }
                    }, l.onerror = function () {
                        throw Error("The load " + (i.href || i.src) + " fails,check the url settings of file ueditor.config.js ")
                    }, n.getElementsByTagName("head")[0].appendChild(l)
                }
            }
        }(), isEmptyObject: function (e) {
            if (null == e)return !0;
            if (this.isArray(e) || this.isString(e))return 0 === e.length;
            for (var t in e)if (e.hasOwnProperty(t))return !1;
            return !0
        }, fixColor: function (e, t) {
            if (/color/i.test(e) && /rgba?/.test(t)) {
                var n = t.split(",");
                if (n.length > 3)return "";
                t = "#";
                for (var i, r = 0; i = n[r++];)i = parseInt(i.replace(/[^\d]/gi, ""), 10).toString(16), t += 1 == i.length ? "0" + i : i;
                t = t.toUpperCase()
            }
            return t
        }, optCss: function (e) {
            function t(e, t) {
                if (!e)return "";
                var n = e.top, i = e.bottom, r = e.left, o = e.right, a = "";
                if (n && r && i && o)a += ";" + t + ":" + (n == i && i == r && r == o ? n : n == i && r == o ? n + " " + r : r == o ? n + " " + r + " " + i : n + " " + o + " " + i + " " + r) + ";"; else for (var s in e)a += ";" + t + "-" + s + ":" + e[s] + ";";
                return a
            }

            var n, i;
            return e = e.replace(/(padding|margin|border)\-([^:]+):([^;]+);?/gi, function (e, t, r, o) {
                if (1 == o.split(" ").length)switch (t) {
                    case"padding":
                        return !n && (n = {}), n[r] = o, "";
                    case"margin":
                        return !i && (i = {}), i[r] = o, "";
                    case"border":
                        return "initial" == o ? "" : e
                }
                return e
            }), e += t(n, "padding") + t(i, "margin"), e.replace(/^[ \n\r\t;]*|[ \n\r\t]*$/, "").replace(/;([ \n\r\t]+)|\1;/g, ";").replace(/(&((l|g)t|quot|#39))?;{2,}/g, function (e, t) {
                return t ? t + ";;" : ";"
            })
        }, clone: function (e, t) {
            var n;
            t = t || {};
            for (var i in e)e.hasOwnProperty(i) && (n = e[i], "object" == typeof n ? (t[i] = utils.isArray(n) ? [] : {}, utils.clone(e[i], t[i])) : t[i] = n);
            return t
        }, transUnitToPx: function (e) {
            if (!/(pt|cm)/.test(e))return e;
            var t;
            switch (e.replace(/([\d.]+)(\w+)/, function (n, i, r) {
                e = i, t = r
            }), t) {
                case"cm":
                    e = 25 * parseFloat(e);
                    break;
                case"pt":
                    e = Math.round(96 * parseFloat(e) / 72)
            }
            return e + (e ? "px" : "")
        }, domReady: function () {
            function e(e) {
                e.isReady = !0;
                for (var n; n = t.pop(); n());
            }

            var t = [];
            return function (n, i) {
                i = i || window;
                var r = i.document;
                n && t.push(n), "complete" === r.readyState ? e(r) : (r.isReady && e(r), browser.ie ? (!function () {
                    if (!r.isReady) {
                        try {
                            r.documentElement.doScroll("left")
                        } catch (e) {
                            return void setTimeout(arguments.callee, 0)
                        }
                        e(r)
                    }
                }(), i.attachEvent("onload", function () {
                    e(r)
                })) : (r.addEventListener("DOMContentLoaded", function () {
                    r.removeEventListener("DOMContentLoaded", arguments.callee, !1), e(r)
                }, !1), i.addEventListener("load", function () {
                    e(r)
                }, !1)))
            }
        }(), cssRule: browser.ie ? function (e, t, n) {
            var i, r;
            n = n || document, i = n.indexList ? n.indexList : n.indexList = {};
            var o;
            if (i[e])o = n.styleSheets[i[e]]; else {
                if (void 0 === t)return "";
                o = n.createStyleSheet("", r = n.styleSheets.length), i[e] = r
            }
            return void 0 === t ? o.cssText : void(o.cssText = t || "")
        } : function (e, t, n) {
            n = n || document;
            var i, r = n.getElementsByTagName("head")[0];
            if (!(i = n.getElementById(e))) {
                if (void 0 === t)return "";
                i = n.createElement("style"), i.id = e, r.appendChild(i)
            }
            return void 0 === t ? i.innerHTML : void("" !== t ? i.innerHTML = t : r.removeChild(i))
        }, sort: function (e, t) {
            t = t || function (e, t) {
                    return e.localeCompare(t)
                };
            for (var n = 0, i = e.length; n < i; n++)for (var r = n, o = e.length; r < o; r++)if (t(e[n], e[r]) > 0) {
                var a = e[n];
                e[n] = e[r], e[r] = a
            }
            return e
        }
    };
    utils.each(["String", "Function", "Array", "Number", "RegExp", "Object"], function (e) {
        UE.utils["is" + e] = function (t) {
            return Object.prototype.toString.apply(t) == "[object " + e + "]"
        }
    });
    var EventBase = UE.EventBase = function () {
    };
    EventBase.prototype = {
        addListener: function (e, t) {
            e = utils.trim(e).split(" ");
            for (var n, i = 0; n = e[i++];)getListener(this, n, !0).push(t)
        }, removeListener: function (e, t) {
            e = utils.trim(e).split(" ");
            for (var n, i = 0; n = e[i++];)utils.removeItem(getListener(this, n) || [], t)
        }, fireEvent: function () {
            var e = arguments[0];
            e = utils.trim(e).split(" ");
            for (var t, n = 0; t = e[n++];) {
                var i, r, o, a = getListener(this, t);
                if (a)for (o = a.length; o--;)if (a[o]) {
                    if (r = a[o].apply(this, arguments), r === !0)return r;
                    void 0 !== r && (i = r)
                }
                (r = this["on" + t.toLowerCase()]) && (i = r.apply(this, arguments))
            }
            return i
        }
    };
    var dtd = dom.dtd = function () {
        function e(e) {
            for (var t in e)e[t.toUpperCase()] = e[t];
            return e
        }

        var t = utils.extend2, n = e({isindex: 1, fieldset: 1}), i = e({
            input: 1,
            button: 1,
            select: 1,
            textarea: 1,
            label: 1
        }), r = t(e({a: 1}), i), o = t({iframe: 1}, r), a = e({
            hr: 1,
            ul: 1,
            menu: 1,
            div: 1,
            blockquote: 1,
            noscript: 1,
            table: 1,
            center: 1,
            address: 1,
            dir: 1,
            pre: 1,
            h5: 1,
            dl: 1,
            h4: 1,
            noframes: 1,
            h6: 1,
            ol: 1,
            h1: 1,
            h3: 1,
            h2: 1
        }), s = e({ins: 1, del: 1, script: 1, style: 1}), l = t(e({
            b: 1,
            acronym: 1,
            bdo: 1,
            var: 1,
            "#": 1,
            abbr: 1,
            code: 1,
            br: 1,
            i: 1,
            cite: 1,
            kbd: 1,
            u: 1,
            strike: 1,
            s: 1,
            tt: 1,
            strong: 1,
            q: 1,
            samp: 1,
            em: 1,
            dfn: 1,
            span: 1
        }), s), c = t(e({
            sub: 1,
            img: 1,
            embed: 1,
            object: 1,
            sup: 1,
            basefont: 1,
            map: 1,
            applet: 1,
            font: 1,
            big: 1,
            small: 1
        }), l), d = t(e({p: 1}), c), u = t(e({iframe: 1}), c, i), f = e({
            img: 1,
            embed: 1,
            noscript: 1,
            br: 1,
            kbd: 1,
            center: 1,
            button: 1,
            basefont: 1,
            h5: 1,
            h4: 1,
            samp: 1,
            h6: 1,
            ol: 1,
            h1: 1,
            h3: 1,
            h2: 1,
            form: 1,
            font: 1,
            "#": 1,
            select: 1,
            menu: 1,
            ins: 1,
            abbr: 1,
            label: 1,
            code: 1,
            table: 1,
            script: 1,
            cite: 1,
            input: 1,
            iframe: 1,
            strong: 1,
            textarea: 1,
            noframes: 1,
            big: 1,
            small: 1,
            span: 1,
            hr: 1,
            sub: 1,
            bdo: 1,
            var: 1,
            div: 1,
            object: 1,
            sup: 1,
            strike: 1,
            dir: 1,
            map: 1,
            dl: 1,
            applet: 1,
            del: 1,
            isindex: 1,
            fieldset: 1,
            ul: 1,
            b: 1,
            acronym: 1,
            a: 1,
            blockquote: 1,
            i: 1,
            u: 1,
            s: 1,
            tt: 1,
            address: 1,
            q: 1,
            pre: 1,
            p: 1,
            em: 1,
            dfn: 1
        }), h = t(e({a: 0}), u), p = e({tr: 1}), m = e({"#": 1}), g = t(e({param: 1}), f), v = t(e({form: 1}), n, o, a, d), y = e({
            li: 1,
            ol: 1,
            ul: 1
        }), b = e({style: 1, script: 1}), w = e({base: 1, link: 1, meta: 1, title: 1}), C = t(w, b), x = e({
            head: 1,
            body: 1
        }), $ = e({html: 1}), N = e({
            address: 1,
            blockquote: 1,
            center: 1,
            dir: 1,
            div: 1,
            dl: 1,
            fieldset: 1,
            form: 1,
            h1: 1,
            h2: 1,
            h3: 1,
            h4: 1,
            h5: 1,
            h6: 1,
            hr: 1,
            isindex: 1,
            menu: 1,
            noframes: 1,
            ol: 1,
            p: 1,
            pre: 1,
            table: 1,
            ul: 1
        }), T = e({
            area: 1,
            base: 1,
            basefont: 1,
            br: 1,
            col: 1,
            command: 1,
            dialog: 1,
            embed: 1,
            hr: 1,
            img: 1,
            input: 1,
            isindex: 1,
            keygen: 1,
            link: 1,
            meta: 1,
            param: 1,
            source: 1,
            track: 1,
            wbr: 1
        });
        return e({
            $nonBodyContent: t($, x, w),
            $block: N,
            $inline: h,
            $inlineWithA: t(e({a: 1}), h),
            $body: t(e({script: 1, style: 1}), N),
            $cdata: e({script: 1, style: 1}),
            $empty: T,
            $nonChild: e({iframe: 1, textarea: 1}),
            $listItem: e({dd: 1, dt: 1, li: 1}),
            $list: e({ul: 1, ol: 1, dl: 1}),
            $isNotEmpty: e({
                table: 1,
                ul: 1,
                ol: 1,
                dl: 1,
                iframe: 1,
                area: 1,
                base: 1,
                col: 1,
                hr: 1,
                img: 1,
                embed: 1,
                input: 1,
                link: 1,
                meta: 1,
                param: 1,
                h1: 1,
                h2: 1,
                h3: 1,
                h4: 1,
                h5: 1,
                h6: 1
            }),
            $removeEmpty: e({
                a: 1,
                abbr: 1,
                acronym: 1,
                address: 1,
                b: 1,
                bdo: 1,
                big: 1,
                cite: 1,
                code: 1,
                del: 1,
                dfn: 1,
                em: 1,
                font: 1,
                i: 1,
                ins: 1,
                label: 1,
                kbd: 1,
                q: 1,
                s: 1,
                samp: 1,
                small: 1,
                span: 1,
                strike: 1,
                strong: 1,
                sub: 1,
                sup: 1,
                tt: 1,
                u: 1,
                var: 1
            }),
            $removeEmptyBlock: e({p: 1, div: 1}),
            $tableContent: e({
                caption: 1,
                col: 1,
                colgroup: 1,
                tbody: 1,
                td: 1,
                tfoot: 1,
                th: 1,
                thead: 1,
                tr: 1,
                table: 1
            }),
            $notTransContent: e({pre: 1, script: 1, style: 1, textarea: 1}),
            html: x,
            head: C,
            style: m,
            script: m,
            body: v,
            base: {},
            link: {},
            meta: {},
            title: m,
            col: {},
            tr: e({td: 1, th: 1}),
            img: {},
            embed: {},
            colgroup: e({thead: 1, col: 1, tbody: 1, tr: 1, tfoot: 1}),
            noscript: v,
            td: v,
            br: {},
            th: v,
            center: v,
            kbd: h,
            button: t(d, a),
            basefont: {},
            h5: h,
            h4: h,
            samp: h,
            h6: h,
            ol: y,
            h1: h,
            h3: h,
            option: m,
            h2: h,
            form: t(n, o, a, d),
            select: e({optgroup: 1, option: 1}),
            font: h,
            ins: h,
            menu: y,
            abbr: h,
            label: h,
            table: e({thead: 1, col: 1, tbody: 1, tr: 1, colgroup: 1, caption: 1, tfoot: 1}),
            code: h,
            tfoot: p,
            cite: h,
            li: v,
            input: {},
            iframe: v,
            strong: h,
            textarea: m,
            noframes: v,
            big: h,
            small: h,
            span: e({"#": 1, br: 1}),
            hr: h,
            dt: h,
            sub: h,
            optgroup: e({option: 1}),
            param: {},
            bdo: h,
            var: h,
            div: v,
            object: g,
            sup: h,
            dd: v,
            strike: h,
            area: {},
            dir: y,
            map: t(e({area: 1, form: 1, p: 1}), n, s, a),
            applet: g,
            dl: e({dt: 1, dd: 1}),
            del: h,
            isindex: {},
            fieldset: t(e({legend: 1}), f),
            thead: p,
            ul: y,
            acronym: h,
            b: h,
            a: t(e({a: 1}), u),
            blockquote: t(e({td: 1, tr: 1, tbody: 1, li: 1}), v),
            caption: h,
            i: h,
            u: h,
            tbody: p,
            s: h,
            address: t(o, d),
            tt: h,
            legend: h,
            q: h,
            pre: t(l, r),
            p: t(e({a: 1}), h),
            em: h,
            dfn: h
        })
    }(), attrFix = ie && browser.version < 9 ? {
        tabindex: "tabIndex",
        readonly: "readOnly",
        for: "htmlFor",
        class: "className",
        maxlength: "maxLength",
        cellspacing: "cellSpacing",
        cellpadding: "cellPadding",
        rowspan: "rowSpan",
        colspan: "colSpan",
        usemap: "useMap",
        frameborder: "frameBorder"
    } : {
        tabindex: "tabIndex",
        readonly: "readOnly"
    }, styleBlock = utils.listToMap(["-webkit-box", "-moz-box", "block", "list-item", "table", "table-row-group", "table-header-group", "table-footer-group", "table-row", "table-column-group", "table-column", "table-cell", "table-caption"]), domUtils = dom.domUtils = {
        NODE_ELEMENT: 1,
        NODE_DOCUMENT: 9,
        NODE_TEXT: 3,
        NODE_COMMENT: 8,
        NODE_DOCUMENT_FRAGMENT: 11,
        POSITION_IDENTICAL: 0,
        POSITION_DISCONNECTED: 1,
        POSITION_FOLLOWING: 2,
        POSITION_PRECEDING: 4,
        POSITION_IS_CONTAINED: 8,
        POSITION_CONTAINS: 16,
        fillChar: ie && "6" == browser.version ? "\ufeff" : "â",
        keys: {8: 1, 46: 1, 16: 1, 17: 1, 18: 1, 37: 1, 38: 1, 39: 1, 40: 1, 13: 1},
        getPosition: function (e, t) {
            if (e === t)return 0;
            var n, i = [e], r = [t];
            for (n = e; n = n.parentNode;) {
                if (n === t)return 10;
                i.push(n)
            }
            for (n = t; n = n.parentNode;) {
                if (n === e)return 20;
                r.push(n)
            }
            if (i.reverse(), r.reverse(), i[0] !== r[0])return 1;
            for (var o = -1; o++, i[o] === r[o];);
            for (e = i[o], t = r[o]; e = e.nextSibling;)if (e === t)return 4;
            return 2
        },
        getNodeIndex: function (e, t) {
            for (var n = e, i = 0; n = n.previousSibling;)t && 3 == n.nodeType ? n.nodeType != n.nextSibling.nodeType && i++ : i++;
            return i
        },
        inDoc: function (e, t) {
            return 10 == domUtils.getPosition(e, t)
        },
        findParent: function (e, t, n) {
            if (e && !domUtils.isBody(e))for (e = n ? e : e.parentNode; e;) {
                if (!t || t(e) || domUtils.isBody(e))return t && !t(e) && domUtils.isBody(e) ? null : e;
                e = e.parentNode
            }
            return null
        },
        findParentByTagName: function (e, t, n, i) {
            return t = utils.listToMap(utils.isArray(t) ? t : [t]), domUtils.findParent(e, function (e) {
                return t[e.tagName] && !(i && i(e))
            }, n)
        },
        findParents: function (e, t, n, i) {
            for (var r = t && (n && n(e) || !n) ? [e] : []; e = domUtils.findParent(e, n);)r.push(e);
            return i ? r : r.reverse()
        },
        insertAfter: function (e, t) {
            return e.parentNode.insertBefore(t, e.nextSibling)
        },
        remove: function (e, t) {
            var n, i = e.parentNode;
            if (i) {
                if (t && e.hasChildNodes())for (; n = e.firstChild;)i.insertBefore(n, e);
                i.removeChild(e)
            }
            return e
        },
        getNextDomNode: function (e, t, n, i) {
            return getDomNode(e, "firstChild", "nextSibling", t, n, i)
        },
        isBookmarkNode: function (e) {
            return 1 == e.nodeType && e.id && /^_baidu_bookmark_/i.test(e.id)
        },
        getWindow: function (e) {
            var t = e.ownerDocument || e;
            return t.defaultView || t.parentWindow
        },
        getCommonAncestor: function (e, t) {
            if (e === t)return e;
            for (var n = [e], i = [t], r = e, o = -1; r = r.parentNode;) {
                if (r === t)return r;
                n.push(r)
            }
            for (r = t; r = r.parentNode;) {
                if (r === e)return r;
                i.push(r)
            }
            for (n.reverse(), i.reverse(); o++, n[o] === i[o];);
            return 0 == o ? null : n[o - 1]
        },
        clearEmptySibling: function (e, t, n) {
            function i(e, t) {
                for (var n; e && !domUtils.isBookmarkNode(e) && (domUtils.isEmptyInlineElement(e) || !new RegExp("[^\t\n\r" + domUtils.fillChar + "]").test(e.nodeValue));)n = e[t], domUtils.remove(e), e = n
            }

            !t && i(e.nextSibling, "nextSibling"), !n && i(e.previousSibling, "previousSibling")
        },
        split: function (e, t) {
            var n = e.ownerDocument;
            if (browser.ie && t == e.nodeValue.length) {
                var i = n.createTextNode("");
                return domUtils.insertAfter(e, i)
            }
            var r = e.splitText(t);
            if (browser.ie8) {
                var o = n.createTextNode("");
                domUtils.insertAfter(r, o), domUtils.remove(o)
            }
            return r
        },
        isWhitespace: function (e) {
            return !new RegExp("[^ \t\n\r" + domUtils.fillChar + "]").test(e.nodeValue)
        },
        getXY: function (e) {
            for (var t = 0, n = 0; e.offsetParent;)n += e.offsetTop, t += e.offsetLeft, e = e.offsetParent;
            return {x: t, y: n}
        },
        on: function (e, t, n) {
            var i = utils.isArray(t) ? t : [t], r = i.length;
            if (r)for (; r--;)if (t = i[r], e.addEventListener)e.addEventListener(t, n, !1); else {
                n._d || (n._d = {els: []});
                var o = t + n.toString(), a = utils.indexOf(n._d.els, e);
                n._d[o] && a != -1 || (a == -1 && n._d.els.push(e), n._d[o] || (n._d[o] = function (e) {
                    return n.call(e.srcElement, e || window.event)
                }), e.attachEvent("on" + t, n._d[o]))
            }
            e = null
        },
        un: function (e, t, n) {
            var i = utils.isArray(t) ? t : [t], r = i.length;
            if (r)for (; r--;)if (t = i[r], e.removeEventListener)e.removeEventListener(t, n, !1); else {
                var o = t + n.toString();
                try {
                    e.detachEvent("on" + t, n._d ? n._d[o] : n)
                } catch (e) {
                }
                if (n._d && n._d[o]) {
                    var a = utils.indexOf(n._d.els, e);
                    a != -1 && n._d.els.splice(a, 1), 0 == n._d.els.length && delete n._d[o]
                }
            }
        },
        isSameElement: function (e, t) {
            if (e.tagName != t.tagName)return !1;
            var n = e.attributes, i = t.attributes;
            if (!ie && n.length != i.length)return !1;
            for (var r, o, a = 0, s = 0, l = 0; r = n[l++];) {
                if ("style" == r.nodeName) {
                    if (r.specified && a++, domUtils.isSameStyle(e, t))continue;
                    return !1
                }
                if (ie) {
                    if (!r.specified)continue;
                    a++, o = i.getNamedItem(r.nodeName)
                } else o = t.attributes[r.nodeName];
                if (!o.specified || r.nodeValue != o.nodeValue)return !1
            }
            if (ie) {
                for (l = 0; o = i[l++];)o.specified && s++;
                if (a != s)return !1
            }
            return !0
        },
        isSameStyle: function (e, t) {
            var n = e.style.cssText.replace(/( ?; ?)/g, ";").replace(/( ?: ?)/g, ":"), i = t.style.cssText.replace(/( ?; ?)/g, ";").replace(/( ?: ?)/g, ":");
            if (browser.opera) {
                if (n = e.style, i = t.style, n.length != i.length)return !1;
                for (var r in n)if (!/^(\d+|csstext)$/i.test(r) && n[r] != i[r])return !1;
                return !0
            }
            if (!n || !i)return n == i;
            if (n = n.split(";"), i = i.split(";"), n.length != i.length)return !1;
            for (var o, a = 0; o = n[a++];)if (utils.indexOf(i, o) == -1)return !1;
            return !0
        },
        isBlockElm: function (e) {
            return 1 == e.nodeType && (dtd.$block[e.tagName] || styleBlock[domUtils.getComputedStyle(e, "display")]) && !dtd.$nonChild[e.tagName]
        },
        isBody: function (e) {
            return e && 1 == e.nodeType && "body" == e.tagName.toLowerCase()
        },
        breakParent: function (e, t) {
            var n, i, r, o = e, a = e;
            do {
                for (o = o.parentNode, i ? (n = o.cloneNode(!1), n.appendChild(i), i = n, n = o.cloneNode(!1), n.appendChild(r), r = n) : (i = o.cloneNode(!1), r = i.cloneNode(!1)); n = a.previousSibling;)i.insertBefore(n, i.firstChild);
                for (; n = a.nextSibling;)r.appendChild(n);
                a = o
            } while (t !== o);
            return n = t.parentNode, n.insertBefore(i, t), n.insertBefore(r, t), n.insertBefore(e, r), domUtils.remove(t), e
        },
        isEmptyInlineElement: function (e) {
            if (1 != e.nodeType || !dtd.$removeEmpty[e.tagName])return 0;
            for (e = e.firstChild; e;) {
                if (domUtils.isBookmarkNode(e))return 0;
                if (1 == e.nodeType && !domUtils.isEmptyInlineElement(e) || 3 == e.nodeType && !domUtils.isWhitespace(e))return 0;
                e = e.nextSibling
            }
            return 1
        },
        trimWhiteTextNode: function (e) {
            function t(t) {
                for (var n; (n = e[t]) && 3 == n.nodeType && domUtils.isWhitespace(n);)e.removeChild(n)
            }

            t("firstChild"), t("lastChild")
        },
        mergeChild: function (e, t, n) {
            for (var i, r = domUtils.getElementsByTagName(e, e.tagName.toLowerCase()), o = 0; i = r[o++];)if (i.parentNode && !domUtils.isBookmarkNode(i))if ("span" != i.tagName.toLowerCase())domUtils.isSameElement(e, i) && domUtils.remove(i, !0); else {
                if (e === i.parentNode && (domUtils.trimWhiteTextNode(e), 1 == e.childNodes.length)) {
                    e.style.cssText = i.style.cssText + ";" + e.style.cssText, domUtils.remove(i, !0);
                    continue
                }
                if (i.style.cssText = e.style.cssText + ";" + i.style.cssText, n) {
                    var a = n.style;
                    if (a) {
                        a = a.split(";");
                        for (var s, l = 0; s = a[l++];)i.style[utils.cssStyleToDomStyle(s.split(":")[0])] = s.split(":")[1]
                    }
                }
                domUtils.isSameStyle(i, e) && domUtils.remove(i, !0)
            }
        },
        getElementsByTagName: function (e, t, n) {
            if (n && utils.isString(n)) {
                var i = n;
                n = function (e) {
                    return domUtils.hasClass(e, i)
                }
            }
            t = utils.trim(t).replace(/[ ]{2,}/g, " ").split(" ");
            for (var r, o = [], a = 0; r = t[a++];)for (var s, l = e.getElementsByTagName(r), c = 0; s = l[c++];)n && !n(s) || o.push(s);
            return o
        },
        mergeToParent: function (e) {
            for (var t = e.parentNode; t && dtd.$removeEmpty[t.tagName];) {
                if (t.tagName == e.tagName || "A" == t.tagName) {
                    if (domUtils.trimWhiteTextNode(t), "SPAN" == t.tagName && !domUtils.isSameStyle(t, e) || "A" == t.tagName && "SPAN" == e.tagName) {
                        if (t.childNodes.length > 1 || t !== e.parentNode) {
                            e.style.cssText = t.style.cssText + ";" + e.style.cssText, t = t.parentNode;
                            continue
                        }
                        t.style.cssText += ";" + e.style.cssText, "A" == t.tagName && (t.style.textDecoration = "underline")
                    }
                    if ("A" != t.tagName) {
                        t === e.parentNode && domUtils.remove(e, !0);
                        break
                    }
                }
                t = t.parentNode
            }
        },
        mergeSibling: function (e, t, n) {
            function i(e, t, n) {
                var i;
                if ((i = n[e]) && !domUtils.isBookmarkNode(i) && 1 == i.nodeType && domUtils.isSameElement(n, i)) {
                    for (; i.firstChild;)"firstChild" == t ? n.insertBefore(i.lastChild, n.firstChild) : n.appendChild(i.firstChild);
                    domUtils.remove(i)
                }
            }

            !t && i("previousSibling", "firstChild", e), !n && i("nextSibling", "lastChild", e)
        },
        unSelectable: ie || browser.opera ? function (e) {
            e.onselectstart = function () {
                return !1
            }, e.onclick = e.onkeyup = e.onkeydown = function () {
                return !1
            }, e.unselectable = "on", e.setAttribute("unselectable", "on");
            for (var t, n = 0; t = e.all[n++];)switch (t.tagName.toLowerCase()) {
                case"iframe":
                case"textarea":
                case"input":
                case"select":
                    break;
                default:
                    t.unselectable = "on", e.setAttribute("unselectable", "on")
            }
        } : function (e) {
            e.style.MozUserSelect = e.style.webkitUserSelect = e.style.KhtmlUserSelect = "none"
        },
        removeAttributes: function (e, t) {
            t = utils.isArray(t) ? t : utils.trim(t).replace(/[ ]{2,}/g, " ").split(" ");
            for (var n, i = 0; n = t[i++];) {
                switch (n = attrFix[n] || n) {
                    case"className":
                        e[n] = "";
                        break;
                    case"style":
                        e.style.cssText = "", !browser.ie && e.removeAttributeNode(e.getAttributeNode("style"))
                }
                e.removeAttribute(n)
            }
        },
        createElement: function (e, t, n) {
            return domUtils.setAttributes(e.createElement(t), n)
        },
        setAttributes: function (e, t) {
            for (var n in t)if (t.hasOwnProperty(n)) {
                var i = t[n];
                switch (n) {
                    case"class":
                        e.className = i;
                        break;
                    case"style":
                        e.style.cssText = e.style.cssText + ";" + i;
                        break;
                    case"innerHTML":
                        e[n] = i;
                        break;
                    case"value":
                        e.value = i;
                        break;
                    default:
                        e.setAttribute(attrFix[n] || n, i)
                }
            }
            return e
        },
        getComputedStyle: function (e, t) {
            var n = "width height top left";
            if (n.indexOf(t) > -1)return e["offset" + t.replace(/^\w/, function (e) {
                    return e.toUpperCase()
                })] + "px";
            if (3 == e.nodeType && (e = e.parentNode), browser.ie && browser.version < 9 && "font-size" == t && !e.style.fontSize && !dtd.$empty[e.tagName] && !dtd.$nonChild[e.tagName]) {
                var i = e.ownerDocument.createElement("span");
                i.style.cssText = "padding:0;border:0;font-family:simsun;", i.innerHTML = ".", e.appendChild(i);
                var r = i.offsetHeight;
                return e.removeChild(i), i = null, r + "px"
            }
            try {
                var o = domUtils.getStyle(e, t) || (window.getComputedStyle ? domUtils.getWindow(e).getComputedStyle(e, "").getPropertyValue(t) : (e.currentStyle || e.style)[utils.cssStyleToDomStyle(t)])
            } catch (e) {
                return ""
            }
            return utils.transUnitToPx(utils.fixColor(t, o))
        },
        removeClasses: function (e, t) {
            t = utils.isArray(t) ? t : utils.trim(t).replace(/[ ]{2,}/g, " ").split(" ");
            for (var n, i = 0, r = e.className; n = t[i++];)r = r.replace(new RegExp("\\b" + n + "\\b"), "");
            r = utils.trim(r).replace(/[ ]{2,}/g, " "), r ? e.className = r : domUtils.removeAttributes(e, ["class"])
        },
        addClass: function (e, t) {
            if (e) {
                t = utils.trim(t).replace(/[ ]{2,}/g, " ").split(" ");
                for (var n, i = 0, r = e.className; n = t[i++];)new RegExp("\\b" + n + "\\b").test(r) || (e.className += " " + n)
            }
        },
        hasClass: function (e, t) {
            if (utils.isRegExp(t))return t.test(e.className);
            t = utils.trim(t).replace(/[ ]{2,}/g, " ").split(" ");
            for (var n, i = 0, r = e.className; n = t[i++];)if (!new RegExp("\\b" + n + "\\b", "i").test(r))return !1;
            return i - 1 == t.length
        },
        preventDefault: function (e) {
            e.preventDefault ? e.preventDefault() : e.returnValue = !1
        },
        removeStyle: function (e, t) {
            browser.ie ? e.style.cssText = e.style.cssText.replace(new RegExp(t + "[^:]*:[^;]+;?", "ig"), "") : e.style.removeProperty ? e.style.removeProperty(t) : e.style.removeAttribute(utils.cssStyleToDomStyle(t)), e.style.cssText || domUtils.removeAttributes(e, ["style"])
        },
        getStyle: function (e, t) {
            var n = e.style[utils.cssStyleToDomStyle(t)];
            return utils.fixColor(t, n)
        },
        setStyle: function (e, t, n) {
            e.style[utils.cssStyleToDomStyle(t)] = n, utils.trim(e.style.cssText) || this.removeAttributes(e, "style")
        },
        setStyles: function (e, t) {
            for (var n in t)t.hasOwnProperty(n) && domUtils.setStyle(e, n, t[n])
        },
        removeDirtyAttr: function (e) {
            for (var t, n = 0, i = e.getElementsByTagName("*"); t = i[n++];)t.removeAttribute("_moz_dirty");
            e.removeAttribute("_moz_dirty")
        },
        getChildCount: function (e, t) {
            var n = 0, i = e.firstChild;
            for (t = t || function () {
                    return 1
                }; i;)t(i) && n++, i = i.nextSibling;
            return n
        },
        isEmptyNode: function (e) {
            return !e.firstChild || 0 == domUtils.getChildCount(e, function (e) {
                    return !domUtils.isBr(e) && !domUtils.isBookmarkNode(e) && !domUtils.isWhitespace(e)
                })
        },
        clearSelectedArr: function (e) {
            for (var t; t = e.pop();)domUtils.removeAttributes(t, ["class"])
        },
        scrollToView: function (e, t, n) {
            var i = function () {
                var e = t.document, n = "CSS1Compat" == e.compatMode;
                return {
                    width: (n ? e.documentElement.clientWidth : e.body.clientWidth) || 0,
                    height: (n ? e.documentElement.clientHeight : e.body.clientHeight) || 0
                }
            }, r = function (e) {
                if ("pageXOffset" in e)return {x: e.pageXOffset || 0, y: e.pageYOffset || 0};
                var t = e.document;
                return {
                    x: t.documentElement.scrollLeft || t.body.scrollLeft || 0,
                    y: t.documentElement.scrollTop || t.body.scrollTop || 0
                }
            }, o = i().height, a = o * -1 + n;
            a += e.offsetHeight || 0;
            var s = domUtils.getXY(e);
            a += s.y;
            var l = r(t).y;
            (a > l || a < l - o) && t.scrollTo(0, a + (a < 0 ? -20 : 20))
        },
        isBr: function (e) {
            return 1 == e.nodeType && "BR" == e.tagName
        },
        isFillChar: function (e, t) {
            return 3 == e.nodeType && !e.nodeValue.replace(new RegExp((t ? "^" : "") + domUtils.fillChar), "").length
        },
        isStartInblock: function (e) {
            var t, n = e.cloneRange(), i = 0, r = n.startContainer;
            if (1 == r.nodeType && r.childNodes[n.startOffset]) {
                r = r.childNodes[n.startOffset];
                for (var o = r.previousSibling; o && domUtils.isFillChar(o);)r = o, o = o.previousSibling
            }
            for (this.isFillChar(r, !0) && 1 == n.startOffset && (n.setStartBefore(r), r = n.startContainer); r && domUtils.isFillChar(r);)t = r, r = r.previousSibling;
            for (t && (n.setStartBefore(t), r = n.startContainer), 1 == r.nodeType && domUtils.isEmptyNode(r) && 1 == n.startOffset && n.setStart(r, 0).collapse(!0); !n.startOffset;) {
                if (r = n.startContainer, domUtils.isBlockElm(r) || domUtils.isBody(r)) {
                    i = 1;
                    break
                }
                var a, o = n.startContainer.previousSibling;
                if (o) {
                    for (; o && domUtils.isFillChar(o);)a = o, o = o.previousSibling;
                    a ? n.setStartBefore(a) : n.setStartBefore(n.startContainer)
                } else n.setStartBefore(n.startContainer)
            }
            return i && !domUtils.isBody(n.startContainer) ? 1 : 0
        },
        isEmptyBlock: function (e, t) {
            if (t = t || new RegExp("[ \t\r\n" + domUtils.fillChar + "]", "g"), e[browser.ie ? "innerText" : "textContent"].replace(t, "").length > 0)return 0;
            for (var n in dtd.$isNotEmpty)if (e.getElementsByTagName(n).length)return 0;
            return 1
        },
        setViewportOffset: function (e, t) {
            var n = 0 | parseInt(e.style.left), i = 0 | parseInt(e.style.top), r = e.getBoundingClientRect(), o = t.left - r.left, a = t.top - r.top;
            o && (e.style.left = n + o + "px"), a && (e.style.top = i + a + "px")
        },
        fillNode: function (e, t) {
            var n = browser.ie ? e.createTextNode(domUtils.fillChar) : e.createElement("br");
            t.innerHTML = "", t.appendChild(n)
        },
        moveChild: function (e, t, n) {
            for (; e.firstChild;)n && t.firstChild ? t.insertBefore(e.lastChild, t.firstChild) : t.appendChild(e.firstChild)
        },
        hasNoAttributes: function (e) {
            return browser.ie ? /^<\w+\s*?>/.test(e.outerHTML) : 0 == e.attributes.length
        },
        isCustomeNode: function (e) {
            return 1 == e.nodeType && e.getAttribute("_ue_custom_node_")
        },
        isTagNode: function (e, t) {
            return 1 == e.nodeType && new RegExp(e.tagName, "i").test(t)
        },
        filterNodeList: function (e, t, n) {
            var i = [];
            if (!utils.isFunction(t)) {
                var r = t;
                t = function (e) {
                    return utils.indexOf(utils.isArray(r) ? r : r.split(" "), e.tagName.toLowerCase()) != -1
                }
            }
            return utils.each(e, function (e) {
                t(e) && i.push(e)
            }), 0 == i.length ? null : 1 != i.length && n ? i : i[0]
        },
        isInNodeEndBoundary: function (e, t) {
            var n = e.startContainer;
            if (3 == n.nodeType && e.startOffset != n.nodeValue.length)return 0;
            if (1 == n.nodeType && e.startOffset != n.childNodes.length)return 0;
            for (; n !== t;) {
                if (n.nextSibling)return 0;
                n = n.parentNode
            }
            return 1
        },
        isBoundaryNode: function (e, t) {
            for (var n; !domUtils.isBody(e);)if (n = e, e = e.parentNode, n !== e[t])return !1;
            return !0
        }
    }, fillCharReg = new RegExp(domUtils.fillChar, "g");
    !function () {
        function e(e) {
            e.collapsed = e.startContainer && e.endContainer && e.startContainer === e.endContainer && e.startOffset == e.endOffset
        }

        function t(e) {
            return !e.collapsed && 1 == e.startContainer.nodeType && e.startContainer === e.endContainer && e.endOffset - e.startOffset == 1
        }

        function n(t, n, i, r) {
            return 1 == n.nodeType && (dtd.$empty[n.tagName] || dtd.$nonChild[n.tagName]) && (i = domUtils.getNodeIndex(n) + (t ? 0 : 1), n = n.parentNode), t ? (r.startContainer = n, r.startOffset = i, r.endContainer || r.collapse(!0)) : (r.endContainer = n, r.endOffset = i, r.startContainer || r.collapse(!1)), e(r), r
        }

        function i(e, t) {
            var n, i, r = e.startContainer, o = e.endContainer, a = e.startOffset, s = e.endOffset, l = e.document, c = l.createDocumentFragment();
            if (1 == r.nodeType && (r = r.childNodes[a] || (n = r.appendChild(l.createTextNode("")))), 1 == o.nodeType && (o = o.childNodes[s] || (i = o.appendChild(l.createTextNode("")))), r === o && 3 == r.nodeType)return c.appendChild(l.createTextNode(r.substringData(a, s - a))), t && (r.deleteData(a, s - a), e.collapse(!0)), c;
            for (var d, u, f = c, h = domUtils.findParents(r, !0), p = domUtils.findParents(o, !0), m = 0; h[m] == p[m];)m++;
            for (var g, v = m; g = h[v]; v++) {
                for (d = g.nextSibling, g == r ? n || (3 == e.startContainer.nodeType ? (f.appendChild(l.createTextNode(r.nodeValue.slice(a))), t && r.deleteData(a, r.nodeValue.length - a)) : f.appendChild(t ? r : r.cloneNode(!0))) : (u = g.cloneNode(!1), f.appendChild(u)); d && d !== o && d !== p[v];)g = d.nextSibling, f.appendChild(t ? d : d.cloneNode(!0)), d = g;
                f = u
            }
            f = c, h[m] || (f.appendChild(h[m - 1].cloneNode(!1)), f = f.firstChild);
            for (var y, v = m; y = p[v]; v++) {
                if (d = y.previousSibling, y == o ? i || 3 != e.endContainer.nodeType || (f.appendChild(l.createTextNode(o.substringData(0, s))), t && o.deleteData(0, s)) : (u = y.cloneNode(!1), f.appendChild(u)), v != m || !h[m])for (; d && d !== r;)y = d.previousSibling, f.insertBefore(t ? d : d.cloneNode(!0), f.firstChild), d = y;
                f = u
            }
            return t && e.setStartBefore(p[m] ? h[m] ? p[m] : h[m - 1] : p[m - 1]).collapse(!0), n && domUtils.remove(n), i && domUtils.remove(i), c
        }

        function r(e, t) {
            try {
                if (a && domUtils.inDoc(a, e))if (a.nodeValue.replace(fillCharReg, "").length)a.nodeValue = a.nodeValue.replace(fillCharReg, ""); else {
                    var n = a.parentNode;
                    for (domUtils.remove(a); n && domUtils.isEmptyInlineElement(n) && (browser.safari ? !(domUtils.getPosition(n, t) & domUtils.POSITION_CONTAINS) : !n.contains(t));)a = n.parentNode, domUtils.remove(n), n = a
                }
            } catch (e) {
            }
        }

        function o(e, t) {
            var n;
            for (e = e[t]; e && domUtils.isFillChar(e);)n = e[t], domUtils.remove(e), e = n
        }

        var a, s = 0, l = domUtils.fillChar, c = dom.Range = function (e) {
            var t = this;
            t.startContainer = t.startOffset = t.endContainer = t.endOffset = null, t.document = e, t.collapsed = !0
        };
        c.prototype = {
            cloneContents: function () {
                return this.collapsed ? null : i(this, 0)
            }, deleteContents: function () {
                var e;
                return this.collapsed || i(this, 1), browser.webkit && (e = this.startContainer, 3 != e.nodeType || e.nodeValue.length || (this.setStartBefore(e).collapse(!0), domUtils.remove(e))), this
            }, extractContents: function () {
                return this.collapsed ? null : i(this, 2)
            }, setStart: function (e, t) {
                return n(!0, e, t, this)
            }, setEnd: function (e, t) {
                return n(!1, e, t, this)
            }, setStartAfter: function (e) {
                return this.setStart(e.parentNode, domUtils.getNodeIndex(e) + 1)
            }, setStartBefore: function (e) {
                return this.setStart(e.parentNode, domUtils.getNodeIndex(e))
            }, setEndAfter: function (e) {
                return this.setEnd(e.parentNode, domUtils.getNodeIndex(e) + 1)
            }, setEndBefore: function (e) {
                return this.setEnd(e.parentNode, domUtils.getNodeIndex(e))
            }, setStartAtFirst: function (e) {
                return this.setStart(e, 0)
            }, setStartAtLast: function (e) {
                return this.setStart(e, 3 == e.nodeType ? e.nodeValue.length : e.childNodes.length)
            }, setEndAtFirst: function (e) {
                return this.setEnd(e, 0)
            }, setEndAtLast: function (e) {
                return this.setEnd(e, 3 == e.nodeType ? e.nodeValue.length : e.childNodes.length)
            }, selectNode: function (e) {
                return this.setStartBefore(e).setEndAfter(e)
            }, selectNodeContents: function (e) {
                return this.setStart(e, 0).setEndAtLast(e)
            }, cloneRange: function () {
                var e = this;
                return new c(e.document).setStart(e.startContainer, e.startOffset).setEnd(e.endContainer, e.endOffset)
            }, collapse: function (e) {
                var t = this;
                return e ? (t.endContainer = t.startContainer, t.endOffset = t.startOffset) : (t.startContainer = t.endContainer, t.startOffset = t.endOffset), t.collapsed = !0, t
            }, shrinkBoundary: function (e) {
                function t(e) {
                    return 1 == e.nodeType && !domUtils.isBookmarkNode(e) && !dtd.$empty[e.tagName] && !dtd.$nonChild[e.tagName]
                }

                for (var n, i = this, r = i.collapsed; 1 == i.startContainer.nodeType && (n = i.startContainer.childNodes[i.startOffset]) && t(n);)i.setStart(n, 0);
                if (r)return i.collapse(!0);
                if (!e)for (; 1 == i.endContainer.nodeType && i.endOffset > 0 && (n = i.endContainer.childNodes[i.endOffset - 1]) && t(n);)i.setEnd(n, n.childNodes.length);
                return i
            }, getCommonAncestor: function (e, n) {
                var i = this, r = i.startContainer, o = i.endContainer;
                return r === o ? e && t(this) && (r = r.childNodes[i.startOffset], 1 == r.nodeType) ? r : n && 3 == r.nodeType ? r.parentNode : r : domUtils.getCommonAncestor(r, o)
            }, trimBoundary: function (e) {
                this.txtToElmBoundary();
                var t = this.startContainer, n = this.startOffset, i = this.collapsed, r = this.endContainer;
                if (3 == t.nodeType) {
                    if (0 == n)this.setStartBefore(t); else if (n >= t.nodeValue.length)this.setStartAfter(t); else {
                        var o = domUtils.split(t, n);
                        t === r ? this.setEnd(o, this.endOffset - n) : t.parentNode === r && (this.endOffset += 1), this.setStartBefore(o)
                    }
                    if (i)return this.collapse(!0)
                }
                return e || (n = this.endOffset, r = this.endContainer, 3 == r.nodeType && (0 == n ? this.setEndBefore(r) : (n < r.nodeValue.length && domUtils.split(r, n), this.setEndAfter(r)))), this
            }, txtToElmBoundary: function () {
                function e(e, t) {
                    var n = e[t + "Container"], i = e[t + "Offset"];
                    3 == n.nodeType && (i ? i >= n.nodeValue.length && e["set" + t.replace(/(\w)/, function (e) {
                        return e.toUpperCase()
                    }) + "After"](n) : e["set" + t.replace(/(\w)/, function (e) {
                        return e.toUpperCase()
                    }) + "Before"](n))
                }

                return this.collapsed || (e(this, "start"), e(this, "end")), this
            }, insertNode: function (e) {
                var t = e, n = 1;
                11 == e.nodeType && (t = e.firstChild, n = e.childNodes.length), this.trimBoundary(!0);
                var i = this.startContainer, r = this.startOffset, o = i.childNodes[r];
                return o ? i.insertBefore(e, o) : i.appendChild(e), t.parentNode === this.endContainer && (this.endOffset = this.endOffset + n), this.setStartBefore(t)
            }, setCursor: function (e, t) {
                return this.collapse(!e).select(t)
            }, createBookmark: function (e, t) {
                var n, i = this.document.createElement("span");
                return i.style.cssText = "display:none;line-height:0px;", i.appendChild(this.document.createTextNode("â")), i.id = "_baidu_bookmark_start_" + (t ? "" : s++), this.collapsed || (n = i.cloneNode(!0), n.id = "_baidu_bookmark_end_" + (t ? "" : s++)), this.insertNode(i), n && this.collapse().insertNode(n).setEndBefore(n), this.setStartAfter(i), {
                    start: e ? i.id : i,
                    end: n ? e ? n.id : n : null,
                    id: e
                }
            }, moveToBookmark: function (e) {
                var t = e.id ? this.document.getElementById(e.start) : e.start, n = e.end && e.id ? this.document.getElementById(e.end) : e.end;
                return this.setStartBefore(t), domUtils.remove(t), n ? (this.setEndBefore(n), domUtils.remove(n)) : this.collapse(!0), this
            }, enlarge: function (e, t) {
                var n, i, r = domUtils.isBody, o = this.document.createTextNode("");
                if (e) {
                    for (i = this.startContainer, 1 == i.nodeType ? i.childNodes[this.startOffset] ? n = i = i.childNodes[this.startOffset] : (i.appendChild(o), n = i = o) : n = i; ;) {
                        if (domUtils.isBlockElm(i)) {
                            for (i = n; (n = i.previousSibling) && !domUtils.isBlockElm(n);)i = n;
                            this.setStartBefore(i);
                            break
                        }
                        n = i, i = i.parentNode
                    }
                    for (i = this.endContainer, 1 == i.nodeType ? ((n = i.childNodes[this.endOffset]) ? i.insertBefore(o, n) : i.appendChild(o), n = i = o) : n = i; ;) {
                        if (domUtils.isBlockElm(i)) {
                            for (i = n; (n = i.nextSibling) && !domUtils.isBlockElm(n);)i = n;
                            this.setEndAfter(i);
                            break
                        }
                        n = i, i = i.parentNode
                    }
                    o.parentNode === this.endContainer && this.endOffset--, domUtils.remove(o)
                }
                if (!this.collapsed) {
                    for (; !(0 != this.startOffset || t && t(this.startContainer) || r(this.startContainer));)this.setStartBefore(this.startContainer);
                    for (; !(this.endOffset != (1 == this.endContainer.nodeType ? this.endContainer.childNodes.length : this.endContainer.nodeValue.length) || t && t(this.endContainer) || r(this.endContainer));)this.setEndAfter(this.endContainer)
                }
                return this
            }, adjustmentBoundary: function () {
                if (!this.collapsed) {
                    for (; !domUtils.isBody(this.startContainer) && this.startOffset == this.startContainer[3 == this.startContainer.nodeType ? "nodeValue" : "childNodes"].length && this.startContainer[3 == this.startContainer.nodeType ? "nodeValue" : "childNodes"].length;)this.setStartAfter(this.startContainer);
                    for (; !domUtils.isBody(this.endContainer) && !this.endOffset && this.endContainer[3 == this.endContainer.nodeType ? "nodeValue" : "childNodes"].length;)this.setEndBefore(this.endContainer)
                }
                return this
            }, applyInlineStyle: function (e, t, n) {
                if (this.collapsed)return this;
                this.trimBoundary().enlarge(!1, function (e) {
                    return 1 == e.nodeType && domUtils.isBlockElm(e)
                }).adjustmentBoundary();
                for (var i, r, o = this.createBookmark(), a = o.end, s = function (e) {
                    return 1 == e.nodeType ? "br" != e.tagName.toLowerCase() : !domUtils.isWhitespace(e)
                }, l = domUtils.getNextDomNode(o.start, !1, s), c = this.cloneRange(); l && domUtils.getPosition(l, a) & domUtils.POSITION_PRECEDING;)if (3 == l.nodeType || dtd[e][l.tagName]) {
                    for (c.setStartBefore(l), i = l; i && (3 == i.nodeType || dtd[e][i.tagName]) && i !== a;)r = i, i = domUtils.getNextDomNode(i, 1 == i.nodeType, null, function (t) {
                        return dtd[e][t.tagName]
                    });
                    var d, u = c.setEndAfter(r).extractContents();
                    if (n && n.length > 0) {
                        var f, h;
                        h = f = n[0].cloneNode(!1);
                        for (var p, m = 1; p = n[m++];)f.appendChild(p.cloneNode(!1)), f = f.firstChild;
                        d = f
                    } else d = c.document.createElement(e);
                    t && domUtils.setAttributes(d, t), d.appendChild(u), c.insertNode(n ? h : d);
                    var g;
                    if ("span" == e && t.style && /text\-decoration/.test(t.style) && (g = domUtils.findParentByTagName(d, "a", !0)) ? (domUtils.setAttributes(g, t), domUtils.remove(d, !0), d = g) : (domUtils.mergeSibling(d), domUtils.clearEmptySibling(d)), domUtils.mergeChild(d, t), l = domUtils.getNextDomNode(d, !1, s), domUtils.mergeToParent(d), i === a)break
                } else l = domUtils.getNextDomNode(l, !0, s);
                return this.moveToBookmark(o)
            }, removeInlineStyle: function (e) {
                if (this.collapsed)return this;
                e = utils.isArray(e) ? e : [e], this.shrinkBoundary().adjustmentBoundary();
                for (var t = this.startContainer, n = this.endContainer; ;) {
                    if (1 == t.nodeType) {
                        if (utils.indexOf(e, t.tagName.toLowerCase()) > -1)break;
                        if ("body" == t.tagName.toLowerCase()) {
                            t = null;
                            break
                        }
                    }
                    t = t.parentNode
                }
                for (; ;) {
                    if (1 == n.nodeType) {
                        if (utils.indexOf(e, n.tagName.toLowerCase()) > -1)break;
                        if ("body" == n.tagName.toLowerCase()) {
                            n = null;
                            break
                        }
                    }
                    n = n.parentNode
                }
                var i, r, o = this.createBookmark();
                t && (r = this.cloneRange().setEndBefore(o.start).setStartBefore(t), i = r.extractContents(), r.insertNode(i), domUtils.clearEmptySibling(t, !0), t.parentNode.insertBefore(o.start, t)), n && (r = this.cloneRange().setStartAfter(o.end).setEndAfter(n), i = r.extractContents(), r.insertNode(i), domUtils.clearEmptySibling(n, !1, !0), n.parentNode.insertBefore(o.end, n.nextSibling));
                for (var a, s = domUtils.getNextDomNode(o.start, !1, function (e) {
                    return 1 == e.nodeType
                }); s && s !== o.end;)a = domUtils.getNextDomNode(s, !0, function (e) {
                    return 1 == e.nodeType
                }), utils.indexOf(e, s.tagName.toLowerCase()) > -1 && domUtils.remove(s, !0), s = a;
                return this.moveToBookmark(o)
            }, getClosedNode: function () {
                var e;
                if (!this.collapsed) {
                    var n = this.cloneRange().adjustmentBoundary().shrinkBoundary();
                    if (t(n)) {
                        var i = n.startContainer.childNodes[n.startOffset];
                        i && 1 == i.nodeType && (dtd.$empty[i.tagName] || dtd.$nonChild[i.tagName]) && (e = i)
                    }
                }
                return e
            }, select: browser.ie ? function (e, t) {
                var n;
                this.collapsed || this.shrinkBoundary();
                var i = this.getClosedNode();
                if (i && !t) {
                    try {
                        n = this.document.body.createControlRange(), n.addElement(i), n.select()
                    } catch (e) {
                    }
                    return this
                }
                var s, c = this.createBookmark(), d = c.start;
                if (n = this.document.body.createTextRange(), n.moveToElementText(d), n.moveStart("character", 1), this.collapsed) {
                    if (!e && 3 != this.startContainer.nodeType) {
                        var u = this.document.createTextNode(l), f = this.document.createElement("span");
                        f.appendChild(this.document.createTextNode(l)), d.parentNode.insertBefore(f, d), d.parentNode.insertBefore(u, d), r(this.document, u), a = u, o(f, "previousSibling"), o(d, "nextSibling"), n.moveStart("character", -1), n.collapse(!0)
                    }
                } else {
                    var h = this.document.body.createTextRange();
                    s = c.end, h.moveToElementText(s), n.setEndPoint("EndToEnd", h)
                }
                this.moveToBookmark(c), f && domUtils.remove(f);
                try {
                    n.select()
                } catch (e) {
                }
                return this
            } : function (e) {
                function t(e) {
                    function t(t, n, i) {
                        3 == t.nodeType && t.nodeValue.length < n && (e[i + "Offset"] = t.nodeValue.length)
                    }

                    t(e.startContainer, e.startOffset, "start"), t(e.endContainer, e.endOffset, "end")
                }

                var n, i = domUtils.getWindow(this.document), s = i.getSelection();
                if (browser.gecko ? this.document.body.focus() : i.focus(), s) {
                    if (s.removeAllRanges(), this.collapsed && !e) {
                        var c = this.startContainer, d = c;
                        1 == c.nodeType && (d = c.childNodes[this.startOffset]), 3 == c.nodeType && this.startOffset || (d ? d.previousSibling && 3 == d.previousSibling.nodeType : c.lastChild && 3 == c.lastChild.nodeType) || (n = this.document.createTextNode(l), this.insertNode(n), r(this.document, n), o(n, "previousSibling"), o(n, "nextSibling"), a = n, this.setStart(n, browser.webkit ? 1 : 0).collapse(!0))
                    }
                    var u = this.document.createRange();
                    if (this.collapsed && browser.opera && 1 == this.startContainer.nodeType) {
                        var d = this.startContainer.childNodes[this.startOffset];
                        if (d) {
                            for (; d && domUtils.isBlockElm(d) && 1 == d.nodeType && d.childNodes[0];)d = d.childNodes[0];
                            d && this.setStartBefore(d).collapse(!0)
                        } else d = this.startContainer.lastChild, d && domUtils.isBr(d) && this.setStartBefore(d).collapse(!0)
                    }
                    t(this), u.setStart(this.startContainer, this.startOffset), u.setEnd(this.endContainer, this.endOffset), s.addRange(u)
                }
                return this
            }, scrollToView: function (e, t) {
                e = e ? window : domUtils.getWindow(this.document);
                var n = this, i = n.document.createElement("span");
                return i.innerHTML = "&nbsp;", n.cloneRange().insertNode(i), domUtils.scrollToView(i, e, t), domUtils.remove(i), n
            }, inFillChar: function () {
                var e = this.startContainer;
                return !(!this.collapsed || 3 != e.nodeType || e.nodeValue.replace(new RegExp("^" + domUtils.fillChar), "").length + 1 != e.nodeValue.length)
            }, createAddress: function (e, t) {
                function n(e) {
                    for (var n, i = e ? r.startContainer : r.endContainer, o = domUtils.findParents(i, !0, function (e) {
                        return !domUtils.isBody(e)
                    }), a = [], s = 0; n = o[s++];)a.push(domUtils.getNodeIndex(n, t));
                    var l = 0;
                    if (t)if (3 == i.nodeType) {
                        for (var c = i.previousSibling; c && 3 == c.nodeType;)l += c.nodeValue.replace(fillCharReg, "").length, c = c.previousSibling;
                        l += e ? r.startOffset : r.endOffset
                    } else if (i = i.childNodes[e ? r.startOffset : r.endOffset])l = domUtils.getNodeIndex(i, t); else {
                        i = e ? r.startContainer : r.endContainer;
                        for (var d = i.firstChild; d;)if (domUtils.isFillChar(d))d = d.nextSibling; else if (l++, 3 == d.nodeType)for (; d && 3 == d.nodeType;)d = d.nextSibling; else d = d.nextSibling
                    } else l = e ? domUtils.isFillChar(i) ? 0 : r.startOffset : r.endOffset;
                    return l < 0 && (l = 0), a.push(l), a
                }

                var i = {}, r = this;
                return i.startAddress = n(!0), e || (i.endAddress = r.collapsed ? [].concat(i.startAddress) : n()), i
            }, moveToAddress: function (e, t) {
                function n(e, t) {
                    for (var n, r, o, a = i.document.body, s = 0, l = e.length; s < l; s++)if (o = e[s], n = a, a = a.childNodes[o], !a) {
                        r = o;
                        break
                    }
                    t ? a ? i.setStartBefore(a) : i.setStart(n, r) : a ? i.setEndBefore(a) : i.setEnd(n, r)
                }

                var i = this;
                return n(e.startAddress, !0), !t && e.endAddress && n(e.endAddress), i
            }, equals: function (e) {
                for (var t in this)if (this.hasOwnProperty(t) && this[t] !== e[t])return !1;
                return !0
            }, traversal: function (e, t) {
                if (this.collapsed)return this;
                for (var n = this.createBookmark(), i = n.end, r = domUtils.getNextDomNode(n.start, !1, t); r && r !== i && domUtils.getPosition(r, i) & domUtils.POSITION_PRECEDING;) {
                    var o = domUtils.getNextDomNode(r, !1, t);
                    e(r), r = o
                }
                return this.moveToBookmark(n)
            }
        }
    }(), function () {
        function e(e, t) {
            var n = domUtils.getNodeIndex;
            e = e.duplicate(), e.collapse(t);
            var i = e.parentElement();
            if (!i.hasChildNodes())return {container: i, offset: 0};
            for (var r, o, a = i.children, s = e.duplicate(), l = 0, c = a.length - 1, d = -1; l <= c;) {
                d = Math.floor((l + c) / 2), r = a[d], s.moveToElementText(r);
                var u = s.compareEndPoints("StartToStart", e);
                if (u > 0)c = d - 1; else {
                    if (!(u < 0))return {
                        container: i, offset: n(r)
                    };
                    l = d + 1
                }
            }
            if (d == -1) {
                if (s.moveToElementText(i), s.setEndPoint("StartToStart", e), o = s.text.replace(/(\r\n|\r)/g, "\n").length, a = i.childNodes, !o)return r = a[a.length - 1], {
                    container: r,
                    offset: r.nodeValue.length
                };
                for (var f = a.length; o > 0;)o -= a[--f].nodeValue.length;
                return {container: a[f], offset: -o}
            }
            if (s.collapse(u > 0), s.setEndPoint(u > 0 ? "StartToStart" : "EndToStart", e), o = s.text.replace(/(\r\n|\r)/g, "\n").length, !o)return dtd.$empty[r.tagName] || dtd.$nonChild[r.tagName] ? {
                container: i,
                offset: n(r) + (u > 0 ? 0 : 1)
            } : {container: r, offset: u > 0 ? 0 : r.childNodes.length};
            for (; o > 0;)try {
                var h = r;
                r = r[u > 0 ? "previousSibling" : "nextSibling"], o -= r.nodeValue.length
            } catch (e) {
                return {container: i, offset: n(h)}
            }
            return {container: r, offset: u > 0 ? -o : r.nodeValue.length + o}
        }

        function t(t, n) {
            if (t.item)n.selectNode(t.item(0)); else {
                var i = e(t, !0);
                n.setStart(i.container, i.offset), 0 != t.compareEndPoints("StartToEnd", t) && (i = e(t, !1), n.setEnd(i.container, i.offset))
            }
            return n
        }

        function n(e) {
            var t;
            try {
                t = e.getNative().createRange()
            } catch (e) {
                return null
            }
            var n = t.item ? t.item(0) : t.parentElement();
            return (n.ownerDocument || n) === e.document ? t : null
        }

        var i = dom.Selection = function (e) {
            var t, i = this;
            i.document = e, ie && (t = domUtils.getWindow(e).frameElement, domUtils.on(t, "beforedeactivate", function () {
                i._bakIERange = i.getIERange()
            }), domUtils.on(t, "activate", function () {
                try {
                    !n(i) && i._bakIERange && i._bakIERange.select()
                } catch (e) {
                }
                i._bakIERange = null
            })), t = e = null
        };
        i.prototype = {
            getNative: function () {
                var e = this.document;
                try {
                    return e ? ie ? e.selection : domUtils.getWindow(e).getSelection() : null
                } catch (e) {
                    return null
                }
            }, getIERange: function () {
                var e = n(this);
                return !e && this._bakIERange ? this._bakIERange : e
            }, cache: function () {
                this.clear(), this._cachedRange = this.getRange(), this._cachedStartElement = this.getStart(), this._cachedStartElementPath = this.getStartElementPath()
            }, getStartElementPath: function () {
                if (this._cachedStartElementPath)return this._cachedStartElementPath;
                var e = this.getStart();
                return e ? domUtils.findParents(e, !0, null, !0) : []
            }, clear: function () {
                this._cachedStartElementPath = this._cachedRange = this._cachedStartElement = null
            }, isFocus: function () {
                try {
                    return !!(browser.ie && n(this) || !browser.ie && this.getNative().rangeCount)
                } catch (e) {
                    return !1
                }
            }, getRange: function () {
                function e(e) {
                    for (var t = n.document.body.firstChild, i = e.collapsed; t && t.firstChild;)e.setStart(t, 0), t = t.firstChild;
                    e.startContainer || e.setStart(n.document.body, 0), i && e.collapse(!0)
                }

                var n = this;
                if (null != n._cachedRange)return this._cachedRange;
                var i = new baidu.editor.dom.Range(n.document);
                if (ie) {
                    var r = n.getIERange();
                    if (r)try {
                        t(r, i)
                    } catch (t) {
                        e(i)
                    } else e(i)
                } else {
                    var o = n.getNative();
                    if (o && o.rangeCount) {
                        var a = o.getRangeAt(0), s = o.getRangeAt(o.rangeCount - 1);
                        i.setStart(a.startContainer, a.startOffset).setEnd(s.endContainer, s.endOffset), i.collapsed && domUtils.isBody(i.startContainer) && !i.startOffset && e(i)
                    } else {
                        if (this._bakRange && domUtils.inDoc(this._bakRange.startContainer, this.document))return this._bakRange;
                        e(i)
                    }
                }
                return this._bakRange = i
            }, getStart: function () {
                if (this._cachedStartElement)return this._cachedStartElement;
                var e, t, n, i, r = ie ? this.getIERange() : this.getRange();
                if (ie) {
                    if (!r)return this.document.body.firstChild;
                    if (r.item)return r.item(0);
                    for (e = r.duplicate(), e.text.length > 0 && e.moveStart("character", 1), e.collapse(1), t = e.parentElement(), i = n = r.parentElement(); n = n.parentNode;)if (n == t) {
                        t = i;
                        break
                    }
                } else if (r.shrinkBoundary(), t = r.startContainer, 1 == t.nodeType && t.hasChildNodes() && (t = t.childNodes[Math.min(t.childNodes.length - 1, r.startOffset)]), 3 == t.nodeType)return t.parentNode;
                return t
            }, getText: function () {
                var e, t;
                return this.isFocus() && (e = this.getNative()) ? (t = browser.ie ? e.createRange() : e.getRangeAt(0), browser.ie ? t.text : t.toString()) : ""
            }, clearRange: function () {
                this.getNative()[browser.ie ? "empty" : "removeAllRanges"]()
            }
        }
    }(), function () {
        function e(e, t) {
            var n;
            if (t.textarea)if (utils.isString(t.textarea)) {
                for (var i, r = 0, o = domUtils.getElementsByTagName(e, "textarea"); i = o[r++];)if (i.id == "ueditor_textarea_" + t.options.textarea) {
                    n = i;
                    break
                }
            } else n = t.textarea;
            n || (e.appendChild(n = domUtils.createElement(document, "textarea", {
                name: t.options.textarea,
                id: "ueditor_textarea_" + t.options.textarea,
                style: "display:none"
            })), t.textarea = n), n.value = t.hasContents() ? t.options.allHtmlEnabled ? t.getAllHtml() : t.getContent(null, null, !0) : ""
        }

        var t, n = 0, i = UE.Editor = function (e) {
            var t = this;
            t.uid = n++, EventBase.call(t), t.commands = {}, t.options = utils.extend(utils.clone(e || {}), UEDITOR_CONFIG, !0), t.shortcutkeys = {}, t.inputRules = [], t.outputRules = [], t.setOpt({
                isShow: !0,
                initialContent: "",
                initialStyle: "",
                autoClearinitialContent: !1,
                iframeCssUrl: t.options.UEDITOR_HOME_URL + "themes/iframe.css",
                textarea: "editorValue",
                focus: !1,
                focusInEnd: !0,
                autoClearEmptyNode: !0,
                fullscreen: !1,
                readonly: !1,
                zIndex: 999,
                imagePopup: !0,
                enterTag: "p",
                customDomain: !1,
                lang: "zh-cn",
                langPath: t.options.UEDITOR_HOME_URL + "lang/",
                theme: "default",
                themePath: t.options.UEDITOR_HOME_URL + "themes/",
                allHtmlEnabled: !1,
                scaleEnabled: !1,
                tableNativeEditInFF: !1,
                autoSyncData: !0
            }), utils.loadFile(document, {
                src: t.options.langPath + t.options.lang + "/" + t.options.lang + ".js",
                tag: "script",
                type: "text/javascript",
                defer: "defer"
            }, function () {
                for (var e in UE.plugins)UE.plugins[e].call(t);
                t.langIsReady = !0, t.fireEvent("langReady")
            }), UE.instants["ueditorInstant" + t.uid] = t
        };
        i.prototype = {
            ready: function (e) {
                var t = this;
                e && (t.isReady ? e.apply(t) : t.addListener("ready", e))
            }, setOpt: function (e, t) {
                var n = {};
                utils.isString(e) ? n[e] = t : n = e, utils.extend(this.options, n, !0)
            }, destroy: function () {
                var e = this;
                e.fireEvent("destroy");
                var t = e.container.parentNode, n = e.textarea;
                n ? n.style.display = "" : (n = document.createElement("textarea"), t.parentNode.insertBefore(n, t)), n.style.width = e.iframe.offsetWidth + "px", n.style.height = e.iframe.offsetHeight + "px", n.value = e.getContent(), n.id = e.key, t.innerHTML = "", domUtils.remove(t);
                var i = e.key;
                for (var r in e)e.hasOwnProperty(r) && delete this[r];
                UE.delEditor(i)
            }, render: function (e, t) {
                var n = this, i = n.options;
                if (utils.isString(e) && (e = document.getElementById(e)), e) {
                    var r = ie && browser.version < 9, o = (ie && browser.version < 9 ? "" : "<!DOCTYPE html>") + "<html xmlns='http://www.w3.org/1999/xhtml'" + (r ? "" : " class='view'") + "><head>" + (i.iframeCssUrl ? "<link rel='stylesheet' type='text/css' href='" + utils.unhtml(i.iframeCssUrl) + "'/>" : "") + "<style type='text/css'>.view{padding:0;word-wrap:break-word;cursor:text;height:100%;}\nbody{margin:8px;font-family:sans-serif;font-size:16px;}p{margin:5px 0;}" + (i.initialStyle || "") + "</style></head><body" + (r ? " class='view'" : "") + "></body>";
                    if (i.customDomain && document.domain != location.hostname)o += "<script>window.parent.UE.instants['ueditorInstant" + n.uid + "']._setup(document);</script></html>", e.appendChild(domUtils.createElement(document, "iframe", {
                        id: "ueditor_" + n.uid,
                        width: "100%",
                        height: "100%",
                        frameborder: "0",
                        src: 'javascript:void(function(){document.open();document.domain="' + document.domain + '";document.write("' + o + '");document.close();}())'
                    })); else {
                        i.initialFrameWidth ? i.minFrameWidth = i.initialFrameWidth : i.minFrameWidth = i.initialFrameWidth = e.offsetWidth, i.initialFrameHeight ? i.minFrameHeight = i.initialFrameHeight : i.initialFrameHeight = i.minFrameHeight = e.offsetHeight, e.style.width = i.initialFrameWidth + "px", e.style.height = i.initialFrameHeight + "px", e.style.zIndex = i.zIndex, e.innerHTML = '<iframe id="ueditor_' + this.uid + '"width="100%" height="100%" scroll="no" frameborder="0" ></iframe>';
                        var a = e.firstChild.contentWindow.document;
                        a.open(), a.write(o + "</html>"), a.close(), n._setup(a)
                    }
                    e.style.overflow = "hidden"
                }
            }, _setup: function (t) {
                var n = this, i = n.options;
                ie ? (t.body.disabled = !0, t.body.contentEditable = !0, t.body.disabled = !1) : (t.body.contentEditable = !0, t.body.spellcheck = !1), n.document = t, n.window = t.defaultView || t.parentWindow, n.iframe = n.window.frameElement, n.body = t.body, n.selection = new dom.Selection(t);
                var r;
                browser.gecko && (r = this.selection.getNative()) && r.removeAllRanges(), this._initEvents();
                for (var o = this.iframe.parentNode; !domUtils.isBody(o); o = o.parentNode)if ("FORM" == o.tagName) {
                    n.form = o, n.options.autoSyncData ? domUtils.on(n.window, "blur", function () {
                        e(o, n)
                    }) : domUtils.on(o, "submit", function () {
                        e(this, n)
                    });
                    break
                }
                if (i.initialContent)if (i.autoClearinitialContent) {
                    var a = n.execCommand;
                    n.execCommand = function () {
                        return n.fireEvent("firstBeforeExecCommand"), a.apply(n, arguments)
                    }, this._setDefaultContent(i.initialContent)
                } else this.setContent(i.initialContent, !1, !0);
                domUtils.isEmptyNode(n.body) && (n.body.innerHTML = "<p>" + (browser.ie ? "" : "<br/>") + "</p>"), i.focus && setTimeout(function () {
                    n.focus(n.options.focusInEnd), !n.options.autoClearinitialContent && n._selectionChange()
                }, 0), n.container || (n.container = this.iframe.parentNode), i.fullscreen && n.ui && n.ui.setFullScreen(!0);
                try {
                    n.document.execCommand("2D-position", !1, !1)
                } catch (e) {
                }
                try {
                    n.document.execCommand("enableInlineTableEditing", !1, !1)
                } catch (e) {
                }
                try {
                    n.document.execCommand("enableObjectResizing", !1, !1)
                } catch (e) {
                }
                n._bindshortcutKeys(), n.isReady = 1, n.fireEvent("ready"), i.onready && i.onready.call(n), browser.ie || domUtils.on(n.window, ["blur", "focus"], function (e) {
                    if ("blur" == e.type) {
                        n._bakRange = n.selection.getRange();
                        try {
                            n.selection.getNative().removeAllRanges()
                        } catch (e) {
                        }
                    } else try {
                        n._bakRange && n._bakRange.select()
                    } catch (e) {
                    }
                }), browser.gecko && browser.version <= 10902 && (n.body.contentEditable = !1, setTimeout(function () {
                    n.body.contentEditable = !0
                }, 100), setInterval(function () {
                    n.body.style.height = n.iframe.offsetHeight - 20 + "px"
                }, 100)), !i.isShow && n.setHide(), i.readonly && n.setDisabled()
            }, sync: function (t) {
                var n = this, i = t ? document.getElementById(t) : domUtils.findParent(n.iframe.parentNode, function (e) {
                    return "FORM" == e.tagName
                }, !0);
                i && e(i, n)
            }, setHeight: function (e) {
                e !== parseInt(this.iframe.parentNode.style.height) && (this.iframe.parentNode.style.height = e + "px"), this.document.body.style.height = e - 20 + "px"
            }, addshortcutkey: function (e, t) {
                var n = {};
                t ? n[e] = t : n = e, utils.extend(this.shortcutkeys, n)
            }, _bindshortcutKeys: function () {
                var e = this, t = this.shortcutkeys;
                e.addListener("keydown", function (n, i) {
                    var r = i.keyCode || i.which;
                    for (var o in t)for (var a, s = t[o].split(","), l = 0; a = s[l++];) {
                        a = a.split(":");
                        var c = a[0], d = a[1];
                        (/^(ctrl)(\+shift)?\+(\d+)$/.test(c.toLowerCase()) || /^(\d+)$/.test(c)) && (("ctrl" == RegExp.$1 ? i.ctrlKey || i.metaKey : 0) && ("" != RegExp.$2 ? i[RegExp.$2.slice(1) + "Key"] : 1) && r == RegExp.$3 || r == RegExp.$1) && (e.queryCommandState(o, d) != -1 && e.execCommand(o, d), domUtils.preventDefault(i))
                    }
                })
            }, getContent: function (e, t, n, i, r) {
                var o = this;
                if (e && utils.isFunction(e) && (t = e, e = ""), t ? !t() : !this.hasContents())return "";
                o.fireEvent("beforegetcontent");
                var a = UE.htmlparser(o.body.innerHTML, i);
                return o.filterOutputRule(a), o.fireEvent("aftergetcontent", e), a.toHtml(r)
            }, getAllHtml: function () {
                var e = this, t = [];
                if (e.fireEvent("getAllHtml", t), browser.ie && browser.version > 8) {
                    var n = "";
                    utils.each(e.document.styleSheets, function (e) {
                        n += e.href ? '<link rel="stylesheet" type="text/css" href="' + e.href + '" />' : "<style>" + e.cssText + "</style>"
                    }), utils.each(e.document.getElementsByTagName("script"), function (e) {
                        n += e.outerHTML
                    })
                }
                return "<html><head>" + (e.options.charset ? '<meta http-equiv="Content-Type" content="text/html; charset=' + e.options.charset + '"/>' : "") + (n || e.document.getElementsByTagName("head")[0].innerHTML) + t.join("\n") + "</head><body " + (ie && browser.version < 9 ? 'class="view"' : "") + ">" + e.getContent(null, null, !0) + "</body></html>"
            }, getPlainTxt: function () {
                var e = new RegExp(domUtils.fillChar, "g"), t = this.body.innerHTML.replace(/[\n\r]/g, "");
                return t = t.replace(/<(p|div)[^>]*>(<br\/?>|&nbsp;)<\/\1>/gi, "\n").replace(/<br\/?>/gi, "\n").replace(/<[^>\/]+>/g, "").replace(/(\n)?<\/([^>]+)>/g, function (e, t, n) {
                    return dtd.$block[n] ? "\n" : t ? t : ""
                }), t.replace(e, "").replace(/\u00a0/g, " ").replace(/&nbsp;/g, " ")
            }, getContentTxt: function () {
                var e = new RegExp(domUtils.fillChar, "g");
                return this.body[browser.ie ? "innerText" : "textContent"].replace(e, "").replace(/\u00a0/g, " ")
            }, setContent: function (t, n, i) {
                function r(e) {
                    return "DIV" == e.tagName && e.getAttribute("cdata_tag")
                }

                var o = this;
                o.fireEvent("beforesetcontent", t);
                var a = UE.htmlparser(t);
                if (o.filterInputRule(a), t = a.toHtml(), o.body.innerHTML = (n ? o.body.innerHTML : "") + t, "p" == o.options.enterTag) {
                    var s, l = this.body.firstChild;
                    if (!l || 1 == l.nodeType && (dtd.$cdata[l.tagName] || r(l) || domUtils.isCustomeNode(l)) && l === this.body.lastChild)this.body.innerHTML = "<p>" + (browser.ie ? "&nbsp;" : "<br/>") + "</p>" + this.body.innerHTML; else for (var c = o.document.createElement("p"); l;) {
                        for (; l && (3 == l.nodeType || 1 == l.nodeType && dtd.p[l.tagName] && !dtd.$cdata[l.tagName]);)s = l.nextSibling, c.appendChild(l), l = s;
                        if (c.firstChild) {
                            if (!l) {
                                o.body.appendChild(c);
                                break
                            }
                            l.parentNode.insertBefore(c, l), c = o.document.createElement("p")
                        }
                        l = l.nextSibling
                    }
                }
                o.fireEvent("aftersetcontent"), o.fireEvent("contentchange"), !i && o._selectionChange(), o._bakRange = o._bakIERange = null;
                var d;
                browser.gecko && (d = this.selection.getNative()) && d.removeAllRanges(), o.options.autoSyncData && o.form && e(o.form, o)
            }, focus: function (e) {
                try {
                    var t = this, n = t.selection.getRange();
                    e ? n.setStartAtLast(t.body.lastChild).setCursor(!1, !0) : n.select(!0), this.fireEvent("focus")
                } catch (e) {
                }
            }, _initEvents: function () {
                var e = this, t = e.document, n = e.window;
                e._proxyDomEvent = utils.bind(e._proxyDomEvent, e), domUtils.on(t, ["click", "contextmenu", "mousedown", "keydown", "keyup", "keypress", "mouseup", "mouseover", "mouseout", "selectstart"], e._proxyDomEvent), domUtils.on(n, ["focus", "blur"], e._proxyDomEvent), domUtils.on(t, ["mouseup", "keydown"], function (t) {
                    "keydown" == t.type && (t.ctrlKey || t.metaKey || t.shiftKey || t.altKey) || 2 != t.button && e._selectionChange(250, t)
                });
                var i, r = 0, o = browser.ie ? e.body : e.document;
                domUtils.on(o, "dragstart", function () {
                    r = 1
                }), domUtils.on(o, browser.webkit ? "dragover" : "drop", function () {
                    return browser.webkit ? function () {
                        clearTimeout(i), i = setTimeout(function () {
                            if (!r) {
                                var t = e.selection, n = t.getRange();
                                if (n) {
                                    var i = n.getCommonAncestor();
                                    if (i && e.serialize) {
                                        var o = e.serialize, a = o.filter(o.transformInput(o.parseHTML(o.word(i.innerHTML))));
                                        i.innerHTML = o.toHTML(a)
                                    }
                                }
                            }
                            r = 0
                        }, 200)
                    } : function (e) {
                        r || (e.preventDefault ? e.preventDefault() : e.returnValue = !1), r = 0
                    }
                }())
            }, _proxyDomEvent: function (e) {
                return this.fireEvent(e.type.replace(/^on/, ""), e)
            }, _selectionChange: function (e, n) {
                var i, r, o = this, a = !1;
                if (browser.ie && browser.version < 9 && n && "mouseup" == n.type) {
                    var s = this.selection.getRange();
                    s.collapsed || (a = !0, i = n.clientX, r = n.clientY)
                }
                clearTimeout(t), t = setTimeout(function () {
                    if (o.selection.getNative()) {
                        var e;
                        if (a && "None" == o.selection.getNative().type) {
                            e = o.document.body.createTextRange();
                            try {
                                e.moveToPoint(i, r)
                            } catch (t) {
                                e = null
                            }
                        }
                        var t;
                        e && (t = o.selection.getIERange, o.selection.getIERange = function () {
                            return e
                        }), o.selection.cache(), t && (o.selection.getIERange = t), o.selection._cachedRange && o.selection._cachedStartElement && (o.fireEvent("beforeselectionchange"), o.fireEvent("selectionchange", !!n), o.fireEvent("afterselectionchange"), o.selection.clear())
                    }
                }, e || 50)
            }, _callCmdFn: function (e, t) {
                var n, i, r = t[0].toLowerCase();
                return n = this.commands[r] || UE.commands[r], i = n && n[e], n && i || "queryCommandState" != e ? i ? i.apply(this, t) : void 0 : 0
            }, execCommand: function (e) {
                e = e.toLowerCase();
                var t, n = this, i = n.commands[e] || UE.commands[e];
                return i && i.execCommand ? (i.notNeedUndo || n.__hasEnterExecCommand ? (t = this._callCmdFn("execCommand", arguments), !n._ignoreContentChange && n.fireEvent("contentchange")) : (n.__hasEnterExecCommand = !0, n.queryCommandState.apply(n, arguments) != -1 && (n.fireEvent("beforeexeccommand", e), t = this._callCmdFn("execCommand", arguments), !n._ignoreContentChange && n.fireEvent("contentchange"), n.fireEvent("afterexeccommand", e)), n.__hasEnterExecCommand = !1), !n._ignoreContentChange && n._selectionChange(), t) : null
            }, queryCommandState: function (e) {
                return this._callCmdFn("queryCommandState", arguments)
            }, queryCommandValue: function (e) {
                return this._callCmdFn("queryCommandValue", arguments)
            }, hasContents: function (e) {
                if (e)for (var t, n = 0; t = e[n++];)if (this.document.getElementsByTagName(t).length > 0)return !0;
                if (!domUtils.isEmptyBlock(this.body))return !0;
                for (e = ["div"], n = 0; t = e[n++];)for (var i, r = domUtils.getElementsByTagName(this.document, t), o = 0; i = r[o++];)if (domUtils.isCustomeNode(i))return !0;
                return !1
            }, reset: function () {
                this.fireEvent("reset")
            }, setEnabled: function () {
                var e, t = this;
                if ("false" == t.body.contentEditable) {
                    t.body.contentEditable = !0, e = t.selection.getRange();
                    try {
                        e.moveToBookmark(t.lastBk), delete t.lastBk
                    } catch (n) {
                        e.setStartAtFirst(t.body).collapse(!0)
                    }
                    e.select(!0), t.bkqueryCommandState && (t.queryCommandState = t.bkqueryCommandState, delete t.bkqueryCommandState), t.fireEvent("selectionchange")
                }
            }, enable: function () {
                return this.setEnabled()
            }, setDisabled: function (e) {
                var t = this;
                e = e ? utils.isArray(e) ? e : [e] : [], "true" == t.body.contentEditable && (t.lastBk || (t.lastBk = t.selection.getRange().createBookmark(!0)), t.body.contentEditable = !1, t.bkqueryCommandState = t.queryCommandState, t.queryCommandState = function (n) {
                    return utils.indexOf(e, n) != -1 ? t.bkqueryCommandState.apply(t, arguments) : -1
                }, t.fireEvent("selectionchange"))
            }, disable: function (e) {
                return this.setDisabled(e)
            }, _setDefaultContent: function () {
                function e() {
                    var t = this;
                    t.document.getElementById("initContent") && (t.body.innerHTML = "<p>" + (ie ? "" : "<br/>") + "</p>", t.removeListener("firstBeforeExecCommand focus", e), setTimeout(function () {
                        t.focus(), t._selectionChange()
                    }, 0))
                }

                return function (t) {
                    var n = this;
                    n.body.innerHTML = '<p id="initContent">' + t + "</p>", n.addListener("firstBeforeExecCommand focus", e)
                }
            }(), setShow: function () {
                var e = this, t = e.selection.getRange();
                if ("none" == e.container.style.display) {
                    try {
                        t.moveToBookmark(e.lastBk), delete e.lastBk
                    } catch (n) {
                        t.setStartAtFirst(e.body).collapse(!0)
                    }
                    setTimeout(function () {
                        t.select(!0)
                    }, 100), e.container.style.display = ""
                }
            }, show: function () {
                return this.setShow()
            }, setHide: function () {
                var e = this;
                e.lastBk || (e.lastBk = e.selection.getRange().createBookmark(!0)), e.container.style.display = "none"
            }, hide: function () {
                return this.setHide()
            }, getLang: function (e) {
                var t = UE.I18N[this.options.lang];
                if (!t)throw Error("not import language file");
                e = (e || "").split(".");
                for (var n, i = 0; (n = e[i++]) && (t = t[n], t););
                return t
            }, getContentLength: function (e, t) {
                var n = this.getContent(!1, !1, !0).length;
                if (e) {
                    t = (t || []).concat(["hr", "img", "iframe"]), n = this.getContentTxt().replace(/[\t\r\n]+/g, "").length;
                    for (var i, r = 0; i = t[r++];)n += this.document.getElementsByTagName(i).length
                }
                return n
            }, addInputRule: function (e) {
                this.inputRules.push(e)
            }, filterInputRule: function (e) {
                for (var t, n = 0; t = this.inputRules[n++];)t.call(this, e)
            }, addOutputRule: function (e) {
                this.outputRules.push(e)
            }, filterOutputRule: function (e) {
                for (var t, n = 0; t = this.outputRules[n++];)t.call(this, e)
            }
        }, utils.inherits(i, EventBase)
    }(), UE.ajax = function () {
        function e(e) {
            var t = [];
            for (var n in e)"method" != n && "timeout" != n && "async" != n && "function" != (typeof e[n]).toLowerCase() && "object" != (typeof e[n]).toLowerCase() && t.push(encodeURIComponent(n) + "=" + encodeURIComponent(e[n]));
            return t.join("&")
        }

        var t = "XMLHttpRequest()";
        try {
            new ActiveXObject("Msxml2.XMLHTTP"), t = "ActiveXObject('Msxml2.XMLHTTP')"
        } catch (e) {
            try {
                new ActiveXObject("Microsoft.XMLHTTP"), t = "ActiveXObject('Microsoft.XMLHTTP')"
            } catch (e) {
            }
        }
        var n = new Function("return new " + t);
        return {
            request: function (t, i) {
                var r = n(), o = !1, a = {
                    method: "POST", timeout: 5e3, async: !0, data: {}, onsuccess: function () {
                    }, onerror: function () {
                    }
                };
                if ("object" == typeof t && (i = t, t = i.url), r && t) {
                    var s = i ? utils.extend(a, i) : a, l = e(s);
                    utils.isEmptyObject(s.data) || (l += (l ? "&" : "") + e(s.data));
                    var c = setTimeout(function () {
                        4 != r.readyState && (o = !0, r.abort(), clearTimeout(c))
                    }, s.timeout), d = s.method.toUpperCase(), u = t + (t.indexOf("?") == -1 ? "?" : "&") + ("POST" == d ? "" : l + "&noCache=" + +new Date);
                    r.open(d, u, s.async), r.onreadystatechange = function () {
                        4 == r.readyState && (o || 200 != r.status ? s.onerror(r) : s.onsuccess(r))
                    }, "POST" == d ? (r.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), r.send(l)) : r.send(null)
                }
            }
        }
    }();
    var filterWord = UE.filterWord = function () {
        function e(e) {
            return /(class="?Mso|style="[^"]*\bmso\-|w:WordDocument|<v:)/gi.test(e)
        }

        function t(e) {
            return e = e.replace(/[\d.]+\w+/g, function (e) {
                return utils.transUnitToPx(e)
            })
        }

        function n(e) {
            return e.replace(/[\t\r\n]+/g, "").replace(/<!--[\s\S]*?-->/gi, "").replace(/<v:shape [^>]*>[\s\S]*?.<\/v:shape>/gi, function (e) {
                if (browser.opera)return "";
                try {
                    var n = e.match(/width:([ \d.]*p[tx])/i)[1], i = e.match(/height:([ \d.]*p[tx])/i)[1], r = e.match(/src=\s*"([^"]*)"/i)[1];
                    return '<img width="' + t(n) + '" height="' + t(i) + '" src="' + r + '" />'
                } catch (e) {
                    return ""
                }
            }).replace(/<\/?div[^>]*>/g, "").replace(/v:\w+=(["']?)[^'"]+\1/g, "").replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|xml|meta|link|style|\w+:\w+)(?=[\s\/>]))[^>]*>/gi, "").replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi, "<p><strong>$1</strong></p>").replace(/\s+(class|lang|align)\s*=\s*(['"]?)([\w-]+)\2/gi, function (e, t, n, i) {
                return "class" == t && "MsoListParagraph" == i ? e : ""
            }).replace(/<(font|span)[^>]*>\s*<\/\1>/gi, "").replace(/(<[a-z][^>]*)\sstyle=(["'])([^\2]*?)\2/gi, function (e, n, i, r) {
                for (var o, a = [], s = r.replace(/^\s+|\s+$/, "").replace(/&#39;/g, "'").replace(/&quot;/gi, "'").split(/;\s*/g), l = 0; o = s[l]; l++) {
                    var c, d, u = o.split(":");
                    if (2 == u.length) {
                        if (c = u[0].toLowerCase(), d = u[1].toLowerCase(), /^(background)\w*/.test(c) && 0 == d.replace(/(initial|\s)/g, "").length || /^(margin)\w*/.test(c) && /^0\w+$/.test(d))continue;
                        switch (c) {
                            case"mso-padding-alt":
                            case"mso-padding-top-alt":
                            case"mso-padding-right-alt":
                            case"mso-padding-bottom-alt":
                            case"mso-padding-left-alt":
                            case"mso-margin-alt":
                            case"mso-margin-top-alt":
                            case"mso-margin-right-alt":
                            case"mso-margin-bottom-alt":
                            case"mso-margin-left-alt":
                            case"mso-height":
                            case"mso-width":
                            case"mso-vertical-align-alt":
                                /<table/.test(n) || (a[l] = c.replace(/^mso-|-alt$/g, "") + ":" + t(d));
                                continue;
                            case"horiz-align":
                                a[l] = "text-align:" + d;
                                continue;
                            case"vert-align":
                                a[l] = "vertical-align:" + d;
                                continue;
                            case"font-color":
                            case"mso-foreground":
                                a[l] = "color:" + d;
                                continue;
                            case"mso-background":
                            case"mso-highlight":
                                a[l] = "background:" + d;
                                continue;
                            case"mso-default-height":
                                a[l] = "min-height:" + t(d);
                                continue;
                            case"mso-default-width":
                                a[l] = "min-width:" + t(d);
                                continue;
                            case"mso-padding-between-alt":
                                a[l] = "border-collapse:separate;border-spacing:" + t(d);
                                continue;
                            case"text-line-through":
                                "single" != d && "double" != d || (a[l] = "text-decoration:line-through");
                                continue;
                            case"mso-zero-height":
                                "yes" == d && (a[l] = "display:none");
                                continue;
                            case"background":
                                break;
                            case"margin":
                                if (!/[1-9]/.test(d))continue
                        }
                        if (/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?:decor|trans)|top-bar|version|vnd|word-break)/.test(c) || /text\-indent|padding|margin/.test(c) && /\-[\d.]+/.test(d))continue;
                        a[l] = c + ":" + u[1]
                    }
                }
                return n + (a.length ? ' style="' + a.join(";").replace(/;{2,}/g, ";") + '"' : "")
            }).replace(/[\d.]+(cm|pt)/g, function (e) {
                return utils.transUnitToPx(e)
            })
        }

        return function (t) {
            return e(t) ? n(t) : t
        }
    }();
    !function () {
        function e(e, t, n) {
            return e.push(u), t + (n ? 1 : -1)
        }

        function t(e, t) {
            for (var n = 0; n < t; n++)e.push(d)
        }

        function n(a, s, l, c) {
            switch (a.type) {
                case"root":
                    for (var d, u = 0; d = a.children[u++];)l && "element" == d.type && !dtd.$inlineWithA[d.tagName] && u > 1 && (e(s, c, !0), t(s, c)), n(d, s, l, c);
                    break;
                case"text":
                    i(a, s);
                    break;
                case"element":
                    r(a, s, l, c);
                    break;
                case"comment":
                    o(a, s, l)
            }
            return s
        }

        function i(e, t) {
            t.push("pre" == e.parentNode.tagName ? e.data : e.data.replace(/[ ]{2}/g, " &nbsp;"))
        }

        function r(i, r, o, a) {
            var s = "";
            if (i.attrs) {
                s = [];
                var l = i.attrs;
                for (var c in l)s.push(c + (void 0 !== l[c] ? '="' + utils.unhtml(l[c]) + '"' : ""));
                s = s.join(" ")
            }
            if (r.push("<" + i.tagName + (s ? " " + s : "") + (dtd.$empty[i.tagName] ? "/" : "") + ">"), o && !dtd.$inlineWithA[i.tagName] && "pre" != i.tagName && i.children && i.children.length && (a = e(r, a, !0), t(r, a)), i.children && i.children.length)for (var d, u = 0; d = i.children[u++];)o && "element" == d.type && !dtd.$inlineWithA[d.tagName] && u > 1 && (e(r, a), t(r, a)), n(d, r, o, a);
            dtd.$empty[i.tagName] || (o && !dtd.$inlineWithA[i.tagName] && "pre" != i.tagName && i.children && i.children.length && (a = e(r, a), t(r, a)), r.push("</" + i.tagName + ">"))
        }

        function o(e, t) {
            t.push("<!--" + e.data + "-->")
        }

        function a(e, t) {
            var n;
            if ("element" == e.type && e.getAttr("id") == t)return e;
            if (e.children && e.children.length)for (var i, r = 0; i = e.children[r++];)if (n = a(i, t))return n
        }

        function s(e, t, n) {
            if ("element" == e.type && e.tagName == t && n.push(e), e.children && e.children.length)for (var i, r = 0; i = e.children[r++];)s(i, t, n)
        }

        function l(e, t) {
            if (e.children && e.children.length)for (var n, i = 0; n = e.children[i];)l(n, t), n.parentNode && (n.children && n.children.length && t(n), n.parentNode && i++); else t(e)
        }

        var c = UE.uNode = function (e) {
            this.type = e.type, this.data = e.data, this.tagName = e.tagName, this.parentNode = e.parentNode, this.attrs = e.attrs || {}, this.children = e.children
        }, d = "    ", u = "\n";
        c.createElement = function (e) {
            return /[<>]/.test(e) ? UE.htmlparser(e).children[0] : new c({type: "element", children: [], tagName: e})
        }, c.createText = function (e) {
            return new UE.uNode({type: "text", data: utils.unhtml(e || "")})
        }, c.prototype = {
            toHtml: function (e) {
                var t = [];
                return n(this, t, e, 0), t.join("")
            }, innerHTML: function (e) {
                if ("element" != this.type || dtd.$empty[this.tagName])return this;
                if (utils.isString(e)) {
                    if (this.children)for (var t, n = 0; t = this.children[n++];)t.parentNode = null;
                    this.children = [];
                    for (var t, i = UE.htmlparser(e), n = 0; t = i.children[n++];)this.children.push(t), t.parentNode = this;
                    return this
                }
                var i = new UE.uNode({type: "root", children: this.children});
                return i.toHtml()
            }, innerText: function (e) {
                if ("element" != this.type || dtd.$empty[this.tagName])return this;
                if (e) {
                    if (this.children)for (var t, n = 0; t = this.children[n++];)t.parentNode = null;
                    return this.children = [], this.appendChild(c.createText(e)), this
                }
                return this.toHtml().replace(/<[^>]+>/g, "")
            }, getData: function () {
                return "element" == this.type ? "" : this.data
            }, firstChild: function () {
                return this.children ? this.children[0] : null
            }, lastChild: function () {
                return this.children ? this.children[this.children.length - 1] : null
            }, previousSibling: function () {
                for (var e, t = this.parentNode, n = 0; e = t.children[n]; n++)if (e === this)return 0 == n ? null : t.children[n - 1]
            }, nextSibling: function () {
                for (var e, t = this.parentNode, n = 0; e = t.children[n++];)if (e === this)return t.children[n]
            }, replaceChild: function (e, t) {
                if (this.children) {
                    e.parentNode && e.parentNode.removeChild(e);
                    for (var n, i = 0; n = this.children[i]; i++)if (n === t)return this.children.splice(i, 1, e), t.parentNode = null, e.parentNode = this, e
                }
            }, appendChild: function (e) {
                if ("root" == this.type || "element" == this.type && !dtd.$empty[this.tagName]) {
                    this.children || (this.children = []), e.parentNode && e.parentNode.removeChild(e);
                    for (var t, n = 0; t = this.children[n]; n++)if (t === e) {
                        this.children.splice(n, 1);
                        break
                    }
                    return this.children.push(e), e.parentNode = this, e
                }
            }, insertBefore: function (e, t) {
                if (this.children) {
                    e.parentNode && e.parentNode.removeChild(e);
                    for (var n, i = 0; n = this.children[i]; i++)if (n === t)return this.children.splice(i, 0, e), e.parentNode = this, e
                }
            }, insertAfter: function (e, t) {
                if (this.children) {
                    e.parentNode && e.parentNode.removeChild(e);
                    for (var n, i = 0; n = this.children[i]; i++)if (n === t)return this.children.splice(i + 1, 0, e), e.parentNode = this, e
                }
            }, removeChild: function (e, t) {
                if (this.children)for (var n, i = 0; n = this.children[i]; i++)if (n === e) {
                    if (this.children.splice(i, 1), n.parentNode = null, t && n.children && n.children.length)for (var r, o = 0; r = n.children[o]; o++)this.children.splice(i + o, 0, r), r.parentNode = this;
                    return n
                }
            }, getAttr: function (e) {
                return this.attrs && this.attrs[e.toLowerCase()]
            }, setAttr: function (e, t) {
                if (!e)return void delete this.attrs;
                if (this.attrs || (this.attrs = {}), utils.isObject(e))for (var n in e)e[n] ? this.attrs[n.toLowerCase()] = e[n] : delete this.attrs[n]; else t ? this.attrs[e.toLowerCase()] = t : delete this.attrs[e]
            }, getIndex: function () {
                for (var e, t = this.parentNode, n = 0; e = t.children[n]; n++)if (e === this)return n;
                return -1
            }, getNodeById: function (e) {
                var t;
                if (this.children && this.children.length)for (var n, i = 0; n = this.children[i++];)if (t = a(n, e))return t
            }, getNodesByTagName: function (e) {
                e = utils.trim(e).replace(/[ ]{2,}/g, " ").split(" ");
                var t = [], n = this;
                return utils.each(e, function (e) {
                    if (n.children && n.children.length)for (var i, r = 0; i = n.children[r++];)s(i, e, t)
                }), t
            }, getStyle: function (e) {
                var t = this.getAttr("style");
                if (!t)return "";
                var n = new RegExp(e + ":([^;]+)", "i"), i = t.match(n);
                return i && i[0] ? i[1] : ""
            }, setStyle: function (e, t) {
                function n(e, t) {
                    var n = new RegExp(e + ":([^;]+;?)", "gi");
                    i = i.replace(n, ""), t && (i = e + ":" + utils.unhtml(t) + ";" + i)
                }

                var i = this.getAttr("style");
                if (i || (i = ""), utils.isObject(e))for (var r in e)n(r, e[r]); else n(e, t);
                this.setAttr("style", i)
            }, traversal: function (e) {
                return this.children && this.children.length && l(this, e), this
            }
        }
    }();
    var htmlparser = UE.htmlparser = function (e, t) {
        function n(e, t) {
            if (u[e.tagName]) {
                var n = c.createElement(u[e.tagName]);
                e.appendChild(n), n.appendChild(c.createText(t)), e = n
            } else e.appendChild(c.createText(t))
        }

        function i(e, t, n) {
            var r;
            if (r = d[t]) {
                for (var o, s = e; "root" != s.type;) {
                    if (utils.isArray(r) ? utils.indexOf(r, s.tagName) != -1 : r == s.tagName) {
                        e = s, o = !0;
                        break
                    }
                    s = s.parentNode
                }
                o || (e = i(e, utils.isArray(r) ? r[0] : r))
            }
            var l = new c({
                parentNode: e,
                type: "element",
                tagName: t.toLowerCase(),
                children: dtd.$empty[t] ? null : []
            });
            if (n) {
                for (var u, f = {}; u = a.exec(n);)f[u[1].toLowerCase()] = utils.unhtml(u[2] || u[3] || u[4]);
                l.attrs = f
            }
            return e.children.push(l), dtd.$empty[t] ? e : l
        }

        function r(e, t) {
            e.children.push(new c({type: "comment", data: t, parentNode: e}))
        }

        var o = /<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)-->)|(?:([^\s\/>]+)\s*((?:(?:"[^"]*")|(?:'[^']*')|[^"'<>])*)\/?>))/g, a = /([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g, s = {
            b: 1,
            code: 1,
            i: 1,
            u: 1,
            strike: 1,
            s: 1,
            tt: 1,
            strong: 1,
            q: 1,
            samp: 1,
            em: 1,
            span: 1,
            sub: 1,
            img: 1,
            sup: 1,
            font: 1,
            big: 1,
            small: 1,
            iframe: 1,
            a: 1,
            br: 1,
            pre: 1
        };
        e = e.replace(new RegExp(domUtils.fillChar, "g"), ""), t || (e = e.replace(new RegExp("[\\r\\t\\n" + (t ? "" : " ") + "]*</?(\\w+)\\s*(?:[^>]*)>[\\r\\t\\n" + (t ? "" : " ") + "]*", "g"), function (e, n) {
            return n && s[n.toLowerCase()] ? e.replace(/(^[\n\r]+)|([\n\r]+$)/g, "") : e.replace(new RegExp("^[\\r\\n" + (t ? "" : " ") + "]+"), "").replace(new RegExp("[\\r\\n" + (t ? "" : " ") + "]+$"), "")
        }));
        for (var l, c = UE.uNode, d = {
            td: "tr",
            tr: ["tbody", "thead", "tfoot"],
            tbody: "table",
            th: "tr",
            thead: "table",
            tfoot: "table",
            caption: "table",
            li: ["ul", "ol"],
            dt: "dl",
            dd: "dl",
            option: "select"
        }, u = {ol: "li", ul: "li"}, f = 0, h = 0, p = new c({type: "root", children: []}), m = p; l = o.exec(e);) {
            f = l.index;
            try {
                if (f > h && n(m, e.slice(h, f)), l[3])m = i(m, l[3].toLowerCase(), l[4]); else if (l[1]) {
                    if ("root" != m.type) {
                        for (var g = m; "element" == m.type && m.tagName != l[1].toLowerCase();)if (m = m.parentNode, "root" == m.type)throw m = g, "break";
                        m = m.parentNode
                    }
                } else l[2] && r(m, l[2])
            } catch (e) {
            }
            h = o.lastIndex
        }
        return h < e.length && n(m, e.slice(h)), p
    }, filterNode = UE.filterNode = function () {
        function e(t, n) {
            switch (t.type) {
                case"text":
                    break;
                case"element":
                    var i;
                    if (i = n[t.tagName])if ("-" === i)t.parentNode.removeChild(t); else if (utils.isFunction(i)) {
                        var r = t.parentNode, o = t.getIndex();
                        if (i(t), t.parentNode) {
                            if (t.children)for (var a, s = 0; a = t.children[s];)e(a, n), a.parentNode && s++
                        } else for (var a, s = o; a = r.children[s];)e(a, n), a.parentNode && s++
                    } else {
                        var l = i.$;
                        if (l && t.attrs) {
                            var c, d = {};
                            for (var u in l) {
                                if (c = t.getAttr(u), "style" == u && utils.isArray(l[u])) {
                                    var f = [];
                                    utils.each(l[u], function (e) {
                                        var n;
                                        (n = t.getStyle(e)) && f.push(e + ":" + n)
                                    }), c = f.join(";")
                                }
                                c && (d[u] = c)
                            }
                            t.attrs = d
                        }
                        if (t.children)for (var a, s = 0; a = t.children[s];)e(a, n), a.parentNode && s++
                    } else if (dtd.$cdata[t.tagName])t.parentNode.removeChild(t); else {
                        var r = t.parentNode, o = t.getIndex();
                        t.parentNode.removeChild(t, !0);
                        for (var a, s = o; a = r.children[s];)e(a, n), a.parentNode && s++
                    }
                    break;
                case"comment":
                    t.parentNode.removeChild(t)
            }
        }

        return function (t, n) {
            if (utils.isEmptyObject(n))return t;
            var i;
            (i = n["-"]) && utils.each(i.split(" "), function (e) {
                n[e] = "-"
            });
            for (var r, o = 0; r = t.children[o];)e(r, n), r.parentNode && o++;
            return t
        }
    }();
    UE.plugins.defaultfilter = function () {
        var e = this;
        e.addInputRule(function (t) {
            var n;
            t.traversal(function (t) {
                if ("element" == t.type) {
                    if (!dtd.$cdata[t.tagName] && e.options.autoClearEmptyNode && dtd.$inline[t.tagName] && !dtd.$empty[t.tagName] && (!t.attrs || utils.isEmptyObject(t.attrs)))return void(t.firstChild() ? "span" != t.tagName || t.attrs && !utils.isEmptyObject(t.attrs) || t.parentNode.removeChild(t, !0) : t.parentNode.removeChild(t));
                    switch (t.tagName) {
                        case"style":
                        case"script":
                            t.setAttr({
                                cdata_tag: t.tagName,
                                cdata_data: encodeURIComponent(t.innerText() || "")
                            }), t.tagName = "div", t.removeChild(t.firstChild());
                            break;
                        case"a":
                            (n = t.getAttr("href")) && t.setAttr("_href", n);
                            break;
                        case"img":
                            if ((n = t.getAttr("src")) && /^data:/.test(n)) {
                                t.parentNode.removeChild(t);
                                break
                            }
                            t.setAttr("_src", t.getAttr("src"));
                            break;
                        case"span":
                            browser.webkit && (n = t.getStyle("white-space")) && /nowrap|normal/.test(n) && (t.setStyle("white-space", ""), e.options.autoClearEmptyNode && utils.isEmptyObject(t.attrs) && t.parentNode.removeChild(t, !0));
                            break;
                        case"p":
                            (n = t.getAttr("align")) && (t.setAttr("align"), t.setStyle("text-align", n));
                            var i = t.getAttr("style");
                            i && (i = i.replace(/(margin|padding)[^;]+/g, ""), t.setAttr("style", i)), t.firstChild() || t.innerHTML(UE.browser.ie ? "&nbsp;" : "<br>");
                            break;
                        case"div":
                            if (t.getAttr("cdata_tag"))break;
                            if (n = t.getAttr("class"), n && /^line number\d+/.test(n))break;
                            for (var r, o = UE.uNode.createElement("p"); r = t.firstChild();)"text" != r.type && UE.dom.dtd.$block[r.tagName] ? o.firstChild() ? (t.parentNode.insertBefore(o, t), o = UE.uNode.createElement("p")) : t.parentNode.insertBefore(r, t) : o.appendChild(r);
                            o.firstChild() && t.parentNode.insertBefore(o, t), t.parentNode.removeChild(t);
                            break;
                        case"dl":
                            t.tagName = "ul";
                            break;
                        case"dt":
                        case"dd":
                            t.tagName = "li";
                            break;
                        case"li":
                            var a = t.getAttr("class");
                            a && /list\-/.test(a) || t.setAttr();
                            var s = t.getNodesByTagName("ol ul");
                            UE.utils.each(s, function (e) {
                                t.parentNode.insertAfter(e, t)
                            });
                            break;
                        case"td":
                        case"th":
                        case"caption":
                            t.children && t.children.length || t.appendChild(browser.ie ? UE.uNode.createText(" ") : UE.uNode.createElement("br"))
                    }
                }
                "comment" == t.type && t.parentNode.removeChild(t)
            })
        }), e.addOutputRule(function (t) {
            var n;
            t.traversal(function (t) {
                if ("element" == t.type) {
                    if (e.options.autoClearEmptyNode && dtd.$inline[t.tagName] && !dtd.$empty[t.tagName] && (!t.attrs || utils.isEmptyObject(t.attrs)))return void(t.firstChild() ? "span" != t.tagName || t.attrs && !utils.isEmptyObject(t.attrs) || t.parentNode.removeChild(t, !0) : t.parentNode.removeChild(t));
                    switch (t.tagName) {
                        case"div":
                            (n = t.getAttr("cdata_tag")) && (t.tagName = n, t.appendChild(UE.uNode.createText(t.getAttr("cdata_data"))), t.setAttr({
                                cdata_tag: "",
                                cdata_data: ""
                            }));
                            break;
                        case"a":
                            (n = t.getAttr("_href")) && t.setAttr({href: n, _href: ""});
                            break;
                        case"img":
                            (n = t.getAttr("_src")) && t.setAttr({src: t.getAttr("_src"), _src: ""})
                    }
                }
            })
        })
    }, UE.commands.inserthtml = {
        execCommand: function (e, t, n) {
            var i, r, o = this;
            if (t && o.fireEvent("beforeinserthtml", t) !== !0) {
                if (i = o.selection.getRange(), r = i.document.createElement("div"), r.style.display = "inline", !n) {
                    var a = UE.htmlparser(t);
                    o.options.filterRules && UE.filterNode(a, o.options.filterRules), o.filterInputRule(a), t = a.toHtml()
                }
                if (r.innerHTML = utils.trim(t), !i.collapsed) {
                    var s = i.startContainer;
                    if (domUtils.isFillChar(s) && i.setStartBefore(s), s = i.endContainer, domUtils.isFillChar(s) && i.setEndAfter(s), i.txtToElmBoundary(), i.endContainer && 1 == i.endContainer.nodeType && (s = i.endContainer.childNodes[i.endOffset], s && domUtils.isBr(s) && i.setEndAfter(s)), 0 == i.startOffset && (s = i.startContainer, domUtils.isBoundaryNode(s, "firstChild") && (s = i.endContainer, i.endOffset == (3 == s.nodeType ? s.nodeValue.length : s.childNodes.length) && domUtils.isBoundaryNode(s, "lastChild") && (o.body.innerHTML = "<p>" + (browser.ie ? "" : "<br/>") + "</p>", i.setStart(o.body.firstChild, 0).collapse(!0)))), !i.collapsed && i.deleteContents(), 1 == i.startContainer.nodeType) {
                        var l, c = i.startContainer.childNodes[i.startOffset];
                        if (c && domUtils.isBlockElm(c) && (l = c.previousSibling) && domUtils.isBlockElm(l)) {
                            for (i.setEnd(l, l.childNodes.length).collapse(); c.firstChild;)l.appendChild(c.firstChild);
                            domUtils.remove(c)
                        }
                    }
                }
                var c, d, l, u, f, h = 0;
                i.inFillChar() && (c = i.startContainer, domUtils.isFillChar(c) ? (i.setStartBefore(c).collapse(!0), domUtils.remove(c)) : domUtils.isFillChar(c, !0) && (c.nodeValue = c.nodeValue.replace(fillCharReg, ""), i.startOffset--, i.collapsed && i.collapse(!0)));
                var p = domUtils.findParentByTagName(i.startContainer, "li", !0);
                if (p) {
                    for (var m, g; c = r.firstChild;) {
                        for (; c && (3 == c.nodeType || !domUtils.isBlockElm(c) || "HR" == c.tagName);)m = c.nextSibling, i.insertNode(c).collapse(), g = c, c = m;
                        if (c)if (/^(ol|ul)$/i.test(c.tagName)) {
                            for (; c.firstChild;)g = c.firstChild, domUtils.insertAfter(p, c.firstChild), p = p.nextSibling;
                            domUtils.remove(c)
                        } else {
                            var v;
                            m = c.nextSibling, v = o.document.createElement("li"), domUtils.insertAfter(p, v), v.appendChild(c), g = c, c = m, p = v
                        }
                    }
                    p = domUtils.findParentByTagName(i.startContainer, "li", !0), domUtils.isEmptyBlock(p) && domUtils.remove(p), g && i.setStartAfter(g).collapse(!0).select(!0)
                } else {
                    for (; c = r.firstChild;) {
                        if (h) {
                            for (var y = o.document.createElement("p"); c && (3 == c.nodeType || !dtd.$block[c.tagName]);)f = c.nextSibling, y.appendChild(c), c = f;
                            y.firstChild && (c = y)
                        }
                        if (i.insertNode(c), f = c.nextSibling, !h && c.nodeType == domUtils.NODE_ELEMENT && domUtils.isBlockElm(c) && (d = domUtils.findParent(c, function (e) {
                                return domUtils.isBlockElm(e)
                            }), d && "body" != d.tagName.toLowerCase() && (!dtd[d.tagName][c.nodeName] || c.parentNode !== d))) {
                            if (dtd[d.tagName][c.nodeName])for (u = c.parentNode; u !== d;)l = u, u = u.parentNode; else l = d;
                            domUtils.breakParent(c, l || u);
                            var l = c.previousSibling;
                            domUtils.trimWhiteTextNode(l), l.childNodes.length || domUtils.remove(l), !browser.ie && (m = c.nextSibling) && domUtils.isBlockElm(m) && m.lastChild && !domUtils.isBr(m.lastChild) && m.appendChild(o.document.createElement("br")), h = 1
                        }
                        var m = c.nextSibling;
                        if (!r.firstChild && m && domUtils.isBlockElm(m)) {
                            i.setStart(m, 0).collapse(!0);
                            break
                        }
                        i.setEndAfter(c).collapse()
                    }
                    if (c = i.startContainer, f && domUtils.isBr(f) && domUtils.remove(f), domUtils.isBlockElm(c) && domUtils.isEmptyNode(c))if (f = c.nextSibling)domUtils.remove(c), 1 == f.nodeType && dtd.$block[f.tagName] && i.setStart(f, 0).collapse(!0).shrinkBoundary(); else try {
                        c.innerHTML = browser.ie ? domUtils.fillChar : "<br/>"
                    } catch (e) {
                        i.setStartBefore(c), domUtils.remove(c)
                    }
                    try {
                        i.select(!0)
                    } catch (e) {
                    }
                }
                setTimeout(function () {
                    i = o.selection.getRange(), i.scrollToView(o.autoHeightEnabled, o.autoHeightEnabled ? domUtils.getXY(o.iframe).y : 0), o.fireEvent("afterinserthtml")
                }, 200)
            }
        }
    }, UE.plugins.autotypeset = function () {
        function e(e, t) {
            return e && 3 != e.nodeType ? domUtils.isBr(e) ? 1 : e && e.parentNode && l[e.tagName.toLowerCase()] ? i && i.contains(e) || e.getAttribute("pagebreak") ? 0 : t ? !domUtils.isEmptyBlock(e) : domUtils.isEmptyBlock(e, new RegExp("[\\s" + domUtils.fillChar + "]", "g")) : void 0 : 0
        }

        function t(e) {
            e.style.cssText || (domUtils.removeAttributes(e, ["style"]), "span" == e.tagName.toLowerCase() && domUtils.hasNoAttributes(e) && domUtils.remove(e, !0))
        }

        function n(n, r) {
            var l, c = this;
            if (r) {
                if (!o.pasteFilter)return;
                l = c.document.createElement("div"), l.innerHTML = r.html
            } else l = c.document.body;
            for (var d, u = domUtils.getElementsByTagName(l, "*"), f = 0; d = u[f++];)if (c.fireEvent("excludeNodeinautotype", d) !== !0) {
                if (o.clearFontSize && d.style.fontSize && (domUtils.removeStyle(d, "font-size"), t(d)), o.clearFontFamily && d.style.fontFamily && (domUtils.removeStyle(d, "font-family"), t(d)), e(d)) {
                    if (o.mergeEmptyline)for (var h, p = d.nextSibling, m = domUtils.isBr(d); e(p) && (h = p, p = h.nextSibling, !m || p && (!p || domUtils.isBr(p)));)domUtils.remove(h);
                    if (o.removeEmptyline && domUtils.inDoc(d, l) && !s[d.parentNode.tagName.toLowerCase()]) {
                        if (domUtils.isBr(d) && (p = d.nextSibling, p && !domUtils.isBr(p)))continue;
                        domUtils.remove(d);
                        continue
                    }
                }
                if (e(d, !0) && "SPAN" != d.tagName && (o.indent && (d.style.textIndent = o.indentValue), o.textAlign && (d.style.textAlign = o.textAlign)), o.removeClass && d.className && !a[d.className.toLowerCase()]) {
                    if (i && i.contains(d))continue;
                    domUtils.removeAttributes(d, ["class"])
                }
                if (o.imageBlockLine && "img" == d.tagName.toLowerCase() && !d.getAttribute("emotion"))if (r) {
                    var g = d;
                    switch (o.imageBlockLine) {
                        case"left":
                        case"right":
                        case"none":
                            for (var h, v, p, y = g.parentNode; dtd.$inline[y.tagName] || "A" == y.tagName;)y = y.parentNode;
                            if (h = y, "P" == h.tagName && "center" == domUtils.getStyle(h, "text-align") && !domUtils.isBody(h) && 1 == domUtils.getChildCount(h, function (e) {
                                    return !domUtils.isBr(e) && !domUtils.isWhitespace(e)
                                }))if (v = h.previousSibling, p = h.nextSibling, v && p && 1 == v.nodeType && 1 == p.nodeType && v.tagName == p.tagName && domUtils.isBlockElm(v)) {
                                for (v.appendChild(h.firstChild); p.firstChild;)v.appendChild(p.firstChild);
                                domUtils.remove(h), domUtils.remove(p)
                            } else domUtils.setStyle(h, "text-align", "");
                            domUtils.setStyle(g, "float", o.imageBlockLine);
                            break;
                        case"center":
                            if ("center" != c.queryCommandValue("imagefloat")) {
                                for (y = g.parentNode, domUtils.setStyle(g, "float", "none"), h = g; y && 1 == domUtils.getChildCount(y, function (e) {
                                    return !domUtils.isBr(e) && !domUtils.isWhitespace(e)
                                }) && (dtd.$inline[y.tagName] || "A" == y.tagName);)h = y, y = y.parentNode;
                                var b = c.document.createElement("p");
                                domUtils.setAttributes(b, {style: "text-align:center"}), h.parentNode.insertBefore(b, h), b.appendChild(h), domUtils.setStyle(h, "float", "")
                            }
                    }
                } else {
                    var w = c.selection.getRange();
                    w.selectNode(d).select(), c.execCommand("imagefloat", o.imageBlockLine)
                }
                o.removeEmptyNode && o.removeTagNames[d.tagName.toLowerCase()] && domUtils.hasNoAttributes(d) && domUtils.isEmptyBlock(d) && domUtils.remove(d)
            }
            r && (r.html = l.innerHTML)
        }

        this.setOpt({
            autotypeset: {
                mergeEmptyline: !0,
                removeClass: !0,
                removeEmptyline: !1,
                textAlign: "left",
                imageBlockLine: "center",
                pasteFilter: !1,
                clearFontSize: !1,
                clearFontFamily: !1,
                removeEmptyNode: !1,
                removeTagNames: utils.extend({div: 1}, dtd.$removeEmpty),
                indent: !1,
                indentValue: "2em"
            }
        });
        var i, r = this, o = r.options.autotypeset, a = {
            selectTdClass: 1,
            pagebreak: 1,
            anchorclass: 1
        }, s = {li: 1}, l = {div: 1, p: 1, blockquote: 1, center: 1, h1: 1, h2: 1, h3: 1, h4: 1, h5: 1, h6: 1, span: 1};
        o && (o.pasteFilter && r.addListener("beforepaste", n), r.commands.autotypeset = {
            execCommand: function () {
                r.removeListener("beforepaste", n), o.pasteFilter && r.addListener("beforepaste", n), n.call(r)
            }
        })
    }, UE.plugins.autosubmit = function () {
        var e = this;
        e.commands.autosubmit = {
            execCommand: function () {
                var e = this, t = domUtils.findParentByTagName(e.iframe, "form", !1);
                if (t) {
                    if (e.fireEvent("beforesubmit") === !1)return;
                    e.sync(), t.submit()
                }
            }
        }, e.addshortcutkey({autosubmit: "ctrl+13"})
    }, UE.plugins.background = function () {
        var e = this;
        e.addListener("getAllHtml", function (t, n) {
            var i = this.body, r = domUtils.getComputedStyle(i, "background-image"), o = "";
            o = r.indexOf(e.options.imagePath) > 0 ? r.substring(r.indexOf(e.options.imagePath), r.length - 1).replace(/"|\(|\)/gi, "") : "none" != r ? r.replace(/url\("?|"?\)/gi, "") : "";
            var a = '<style type="text/css">body{', s = {
                "background-color": domUtils.getComputedStyle(i, "background-color") || "#ffffff",
                "background-image": o ? "url(" + o + ")" : "",
                "background-repeat": domUtils.getComputedStyle(i, "background-repeat") || "",
                "background-position": browser.ie ? domUtils.getComputedStyle(i, "background-position-x") + " " + domUtils.getComputedStyle(i, "background-position-y") : domUtils.getComputedStyle(i, "background-position"),
                height: domUtils.getComputedStyle(i, "height")
            };
            for (var l in s)s.hasOwnProperty(l) && (a += l + ":" + s[l] + ";");
            a += "}</style> ", n.push(a)
        })
    }, UE.commands.imagefloat = {
        execCommand: function (e, t) {
            var n = this, i = n.selection.getRange();
            if (!i.collapsed) {
                var r = i.getClosedNode();
                if (r && "IMG" == r.tagName)switch (t) {
                    case"left":
                    case"right":
                    case"none":
                        for (var o, a, s, l = r.parentNode; dtd.$inline[l.tagName] || "A" == l.tagName;)l = l.parentNode;
                        if (o = l, "P" == o.tagName && "center" == domUtils.getStyle(o, "text-align")) {
                            if (!domUtils.isBody(o) && 1 == domUtils.getChildCount(o, function (e) {
                                    return !domUtils.isBr(e) && !domUtils.isWhitespace(e)
                                }))if (a = o.previousSibling, s = o.nextSibling, a && s && 1 == a.nodeType && 1 == s.nodeType && a.tagName == s.tagName && domUtils.isBlockElm(a)) {
                                for (a.appendChild(o.firstChild); s.firstChild;)a.appendChild(s.firstChild);
                                domUtils.remove(o), domUtils.remove(s)
                            } else domUtils.setStyle(o, "text-align", "");
                            i.selectNode(r).select()
                        }
                        domUtils.setStyle(r, "float", "none" == t ? "" : t), "none" == t && domUtils.removeAttributes(r, "align");
                        break;
                    case"center":
                        if ("center" != n.queryCommandValue("imagefloat")) {
                            for (l = r.parentNode, domUtils.setStyle(r, "float", ""), domUtils.removeAttributes(r, "align"), o = r; l && 1 == domUtils.getChildCount(l, function (e) {
                                return !domUtils.isBr(e) && !domUtils.isWhitespace(e)
                            }) && (dtd.$inline[l.tagName] || "A" == l.tagName);)o = l, l = l.parentNode;
                            i.setStartBefore(o).setCursor(!1), l = n.document.createElement("div"), l.appendChild(o), domUtils.setStyle(o, "float", ""), n.execCommand("insertHtml", '<p id="_img_parent_tmp" style="text-align:center">' + l.innerHTML + "</p>"), o = n.document.getElementById("_img_parent_tmp"), o.removeAttribute("id"), o = o.firstChild, i.selectNode(o).select(), s = o.parentNode.nextSibling, s && domUtils.isEmptyNode(s) && domUtils.remove(s)
                        }
                }
            }
        }, queryCommandValue: function () {
            var e, t, n = this.selection.getRange();
            return n.collapsed ? "none" : (e = n.getClosedNode(), e && 1 == e.nodeType && "IMG" == e.tagName ? (t = e.getAttribute("align") || domUtils.getComputedStyle(e, "float"), "none" == t && (t = "center" == domUtils.getComputedStyle(e.parentNode, "text-align") ? "center" : t), {
                left: 1,
                right: 1,
                center: 1
            }[t] ? t : "none") : "none")
        }, queryCommandState: function () {
            var e, t = this.selection.getRange();
            return t.collapsed ? -1 : (e = t.getClosedNode(), e && 1 == e.nodeType && "IMG" == e.tagName ? 0 : -1)
        }
    }, UE.commands.insertimage = {
        execCommand: function (e, t) {
            if (t = utils.isArray(t) ? t : [t], t.length) {
                var n = this, i = n.selection.getRange(), r = i.getClosedNode();
                if (r && /img/i.test(r.tagName) && "edui-faked-video" != r.className && !r.getAttribute("word_img")) {
                    var o = t.shift(), a = o.floatStyle;
                    delete o.floatStyle, domUtils.setAttributes(r, o), n.execCommand("imagefloat", a), t.length > 0 && (i.setStartAfter(r).setCursor(!1, !0), n.execCommand("insertimage", t))
                } else {
                    var s, l = [], c = "";
                    if (s = t[0], 1 == t.length)c = '<img src="' + s.src + '" ' + (s._src ? ' _src="' + s._src + '" ' : "") + (s.width ? 'width="' + s.width + '" ' : "") + (s.height ? ' height="' + s.height + '" ' : "") + ("left" == s.floatStyle || "right" == s.floatStyle ? ' style="float:' + s.floatStyle + ';"' : "") + (s.title && "" != s.title ? ' title="' + s.title + '"' : "") + (s.border && "0" != s.border ? ' border="' + s.border + '"' : "") + (s.alt && "" != s.alt ? ' alt="' + s.alt + '"' : "") + (s.hspace && "0" != s.hspace ? ' hspace = "' + s.hspace + '"' : "") + (s.vspace && "0" != s.vspace ? ' vspace = "' + s.vspace + '"' : "") + "/>", "center" == s.floatStyle && (c = '<p style="text-align: center">' + c + "</p>"), l.push(c); else for (var d = 0; s = t[d++];)c = "<p " + ("center" == s.floatStyle ? 'style="text-align: center" ' : "") + '><img src="' + s.src + '" ' + (s.width ? 'width="' + s.width + '" ' : "") + (s._src ? ' _src="' + s._src + '" ' : "") + (s.height ? ' height="' + s.height + '" ' : "") + ' style="' + (s.floatStyle && "center" != s.floatStyle ? "float:" + s.floatStyle + ";" : "") + (s.border || "") + '" ' + (s.title ? ' title="' + s.title + '"' : "") + " /></p>", l.push(c);
                    n.execCommand("insertHtml", l.join(""))
                }
            }
        }
    }, UE.plugins.justify = function () {
        var e = domUtils.isBlockElm, t = {left: 1, right: 1, center: 1, justify: 1}, n = function (t, n) {
            var i = t.createBookmark(), r = function (e) {
                return 1 == e.nodeType ? "br" != e.tagName.toLowerCase() && !domUtils.isBookmarkNode(e) : !domUtils.isWhitespace(e)
            };
            t.enlarge(!0);
            for (var o, a = t.createBookmark(), s = domUtils.getNextDomNode(a.start, !1, r), l = t.cloneRange(); s && !(domUtils.getPosition(s, a.end) & domUtils.POSITION_FOLLOWING);)if (3 != s.nodeType && e(s))s = domUtils.getNextDomNode(s, !0, r); else {
                for (l.setStartBefore(s); s && s !== a.end && !e(s);)o = s, s = domUtils.getNextDomNode(s, !1, null, function (t) {
                    return !e(t)
                });
                l.setEndAfter(o);
                var c = l.getCommonAncestor();
                if (!domUtils.isBody(c) && e(c))domUtils.setStyles(c, utils.isString(n) ? {"text-align": n} : n), s = c; else {
                    var d = t.document.createElement("p");
                    domUtils.setStyles(d, utils.isString(n) ? {"text-align": n} : n);
                    var u = l.extractContents();
                    d.appendChild(u), l.insertNode(d), s = d
                }
                s = domUtils.getNextDomNode(s, !1, r)
            }
            return t.moveToBookmark(a).moveToBookmark(i)
        };
        UE.commands.justify = {
            execCommand: function (e, t) {
                var i, r = this.selection.getRange();
                return r.collapsed && (i = this.document.createTextNode("p"), r.insertNode(i)), n(r, t), i && (r.setStartBefore(i).collapse(!0), domUtils.remove(i)), r.select(), !0
            }, queryCommandValue: function () {
                var e = this.selection.getStart(), n = domUtils.getComputedStyle(e, "text-align");
                return t[n] ? n : "left"
            }, queryCommandState: function () {
                var e = this.selection.getStart(), t = e && domUtils.findParentByTagName(e, ["td", "th", "caption"], !0);
                return t ? -1 : 0
            }
        }
    }, UE.plugins.font = function () {
        function e(e) {
            var t, n = e.collapsed, i = e.createBookmark();
            if (n)for (t = i.start.parentNode; dtd.$inline[t.tagName];)t = t.parentNode; else t = domUtils.getCommonAncestor(i.start, i.end);
            utils.each(domUtils.getElementsByTagName(t, "span"), function (e) {
                if (e.parentNode && !domUtils.isBookmarkNode(e)) {
                    if (/^\s*border\s*:\s*none;\s*/i.test(e.style.cssText))return void domUtils.remove(e, !0);
                    /border/i.test(e.style.cssText) && "SPAN" == e.parentNode.tagName && /border/i.test(e.parentNode.style.cssText) && (e.style.cssText = e.style.cssText.replace(/border[^:]*:[^;]+;?/gi, ""));
                    for (var t = e.nextSibling; t && 1 == t.nodeType && "SPAN" == t.tagName && (domUtils.isBookmarkNode(t) ? e.appendChild(t) : t.style.cssText == e.style.cssText && (domUtils.moveChild(t, e), domUtils.remove(t)), e.nextSibling !== t);)t = e.nextSibling
                }
            }), e.moveToBookmark(i)
        }

        var t = this, n = {
            forecolor: "color",
            backcolor: "background-color",
            fontsize: "font-size",
            fontfamily: "font-family",
            underline: "text-decoration",
            strikethrough: "text-decoration",
            fontborder: "border"
        }, i = {underline: 1, strikethrough: 1, fontborder: 1};
        t.setOpt({
            fontfamily: [{name: "songti", val: "å®ä½,SimSun"}, {
                name: "yahei",
                val: "å¾®è½¯éé»,Microsoft YaHei"
            }, {name: "kaiti", val: "æ¥·ä½,æ¥·ä½_GB2312, SimKai"}, {name: "heiti", val: "é»ä½, SimHei"}, {
                name: "lishu",
                val: "é¶ä¹¦, SimLi"
            }, {name: "andaleMono", val: "andale mono"}, {
                name: "arial",
                val: "arial, helvetica,sans-serif"
            }, {name: "arialBlack", val: "arial black,avant garde"}, {
                name: "comicSansMs",
                val: "comic sans ms"
            }, {name: "impact", val: "impact,chicago"}, {name: "timesNewRoman", val: "times new roman"}],
            fontsize: [10, 11, 12, 14, 16, 18, 20, 24, 36]
        }), t.addInputRule(function (e) {
            utils.each(e.getNodesByTagName("u s del font"), function (e) {
                if ("font" == e.tagName) {
                    var t = [];
                    for (var n in e.attrs)switch (n) {
                        case"size":
                            t.push("font-size:" + e.attrs[n] + "px");
                            break;
                        case"color":
                            t.push("color:" + e.attrs[n]);
                            break;
                        case"face":
                            t.push("font-family:" + e.attrs[n]);
                            break;
                        case"style":
                            t.push(e.attrs[n])
                    }
                    e.attrs = {style: t.join(";")}
                } else {
                    var i = "u" == e.tagName ? "underline" : "line-through";
                    e.attrs = {style: (e.getAttr("style") || "") + "text-decoration:" + i + ";"}
                }
                e.tagName = "span"
            })
        });
        for (var r in n)!function (t, n) {
            UE.commands[t] = {
                execCommand: function (r, o) {
                    o = o || (this.queryCommandState(r) ? "none" : "underline" == r ? "underline" : "fontborder" == r ? "1px solid #000" : "line-through");
                    var a, s = this, l = this.selection.getRange();
                    if ("default" == o)l.collapsed && (a = s.document.createTextNode("font"), l.insertNode(a).select()), s.execCommand("removeFormat", "span,a", n), a && (l.setStartBefore(a).setCursor(), domUtils.remove(a)); else if (l.collapsed) {
                        var c = domUtils.findParentByTagName(l.startContainer, "span", !0);
                        if (a = s.document.createTextNode("font"), !c || c.children.length || c[browser.ie ? "innerText" : "textContent"].replace(fillCharReg, "").length) {
                            if (l.insertNode(a), l.selectNode(a).select(), c = l.document.createElement("span"), i[t]) {
                                if (domUtils.findParentByTagName(a, "a", !0))return l.setStartBefore(a).setCursor(), void domUtils.remove(a);
                                s.execCommand("removeFormat", "span,a", n)
                            }
                            if (c.style.cssText = n + ":" + o, a.parentNode.insertBefore(c, a), !browser.ie || browser.ie && 9 == browser.version)for (var d = c.parentNode; !domUtils.isBlockElm(d);)"SPAN" == d.tagName && (c.style.cssText = d.style.cssText + ";" + c.style.cssText), d = d.parentNode;
                            opera ? setTimeout(function () {
                                l.setStart(c, 0).collapse(!0), e(l, s), l.select()
                            }) : (l.setStart(c, 0).collapse(!0), e(l, s), l.select())
                        } else l.insertNode(a), i[t] && (l.selectNode(a).select(), s.execCommand("removeFormat", "span,a", n, null), c = domUtils.findParentByTagName(a, "span", !0), l.setStartBefore(a)), c && (c.style.cssText += ";" + n + ":" + o), l.collapse(!0).select();
                        domUtils.remove(a)
                    } else i[t] && s.queryCommandValue(t) && s.execCommand("removeFormat", "span,a", n), l = s.selection.getRange(), l.applyInlineStyle("span", {style: n + ":" + o}), e(l, s), l.select();
                    return !0
                }, queryCommandValue: function (e) {
                    var t = this.selection.getStart();
                    if ("underline" == e || "strikethrough" == e) {
                        for (var i, r = t; r && !domUtils.isBlockElm(r) && !domUtils.isBody(r);) {
                            if (1 == r.nodeType && (i = domUtils.getComputedStyle(r, n), "none" != i))return i;
                            r = r.parentNode
                        }
                        return "none"
                    }
                    if ("fontborder" == e) {
                        for (var o, a = t; a && dtd.$inline[a.tagName];) {
                            if ((o = domUtils.getComputedStyle(a, "border")) && /1px/.test(o) && /solid/.test(o))return o;
                            a = a.parentNode
                        }
                        return ""
                    }
                    return domUtils.getComputedStyle(t, n)
                }, queryCommandState: function (e) {
                    if (!i[e])return 0;
                    var t = this.queryCommandValue(e);
                    return "fontborder" == e ? /1px/.test(t) && /solid/.test(t) : t == ("underline" == e ? "underline" : "line-through")
                }
            }
        }(r, n[r])
    }, UE.plugins.link = function () {
        function e(e) {
            var t = e.startContainer, n = e.endContainer;
            (t = domUtils.findParentByTagName(t, "a", !0)) && e.setStartBefore(t), (n = domUtils.findParentByTagName(n, "a", !0)) && e.setEndAfter(n)
        }

        function t(t, n, i) {
            var r = t.cloneRange(), o = i.queryCommandValue("link");
            e(t = t.adjustmentBoundary());
            var a = t.startContainer;
            if (1 == a.nodeType && o && (a = a.childNodes[t.startOffset], a && 1 == a.nodeType && "A" == a.tagName && /^(?:https?|ftp|file)\s*:\s*\/\//.test(a[browser.ie ? "innerText" : "textContent"]) && (a[browser.ie ? "innerText" : "textContent"] = utils.html(n.textValue || n.href))), r.collapsed && !o || (t.removeInlineStyle("a"), r = t.cloneRange()), r.collapsed) {
                var s = t.document.createElement("a"), l = "";
                n.textValue ? (l = utils.html(n.textValue), delete n.textValue) : l = utils.html(n.href), domUtils.setAttributes(s, n), a = domUtils.findParentByTagName(r.startContainer, "a", !0), a && domUtils.isInNodeEndBoundary(r, a) && t.setStartAfter(a).collapse(!0), s[browser.ie ? "innerText" : "textContent"] = l, t.insertNode(s).selectNode(s)
            } else t.applyInlineStyle("a", n)
        }

        UE.commands.unlink = {
            execCommand: function () {
                var t, n = this.selection.getRange();
                n.collapsed && !domUtils.findParentByTagName(n.startContainer, "a", !0) || (t = n.createBookmark(), e(n), n.removeInlineStyle("a").moveToBookmark(t).select())
            }, queryCommandState: function () {
                return !this.highlight && this.queryCommandValue("link") ? 0 : -1
            }
        }, UE.commands.link = {
            execCommand: function (e, n) {
                var i;
                n._href && (n._href = utils.unhtml(n._href, /[<">]/g)), n.href && (n.href = utils.unhtml(n.href, /[<">]/g)), n.textValue && (n.textValue = utils.unhtml(n.textValue, /[<">]/g)), t(i = this.selection.getRange(), n, this), i.collapse().select(!0)
            }, queryCommandValue: function () {
                var e, t = this.selection.getRange();
                if (!t.collapsed) {
                    t.shrinkBoundary();
                    var n = 3 != t.startContainer.nodeType && t.startContainer.childNodes[t.startOffset] ? t.startContainer.childNodes[t.startOffset] : t.startContainer, i = 3 == t.endContainer.nodeType || 0 == t.endOffset ? t.endContainer : t.endContainer.childNodes[t.endOffset - 1], r = t.getCommonAncestor();
                    if (e = domUtils.findParentByTagName(r, "a", !0), !e && 1 == r.nodeType)for (var o, a, s, l = r.getElementsByTagName("a"), c = 0; s = l[c++];)if (o = domUtils.getPosition(s, n), a = domUtils.getPosition(s, i), (o & domUtils.POSITION_FOLLOWING || o & domUtils.POSITION_CONTAINS) && (a & domUtils.POSITION_PRECEDING || a & domUtils.POSITION_CONTAINS)) {
                        e = s;
                        break
                    }
                    return e
                }
                if (e = t.startContainer, e = 1 == e.nodeType ? e : e.parentNode, e && (e = domUtils.findParentByTagName(e, "a", !0)) && !domUtils.isInNodeEndBoundary(t, e))return e
            }, queryCommandState: function () {
                var e = this.selection.getRange().getClosedNode(), t = e && "edui-faked-video" == e.className;
                return t ? -1 : 0
            }
        }
    }, UE.plugins.insertframe = function () {
        function e() {
            t._iframe && delete t._iframe
        }

        var t = this;
        t.addListener("selectionchange", function () {
            e()
        })
    }, UE.commands.scrawl = {
        queryCommandState: function () {
            return browser.ie && browser.version <= 8 ? -1 : 0
        }
    }, UE.plugins.removeformat = function () {
        var e = this;
        e.setOpt({
            removeFormatTags: "b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var",
            removeFormatAttributes: "class,style,lang,width,height,align,hspace,valign"
        }), e.commands.removeformat = {
            execCommand: function (e, t, n, i, r) {
                function o(e) {
                    if (3 == e.nodeType || "span" != e.tagName.toLowerCase())return 0;
                    if (browser.ie) {
                        var t = e.attributes;
                        if (t.length) {
                            for (var n = 0, i = t.length; n < i; n++)if (t[n].specified)return 0;
                            return 1
                        }
                    }
                    return !e.attributes.length
                }

                function a(e) {
                    var t = e.createBookmark();
                    if (e.collapsed && e.enlarge(!0), !r) {
                        var i = domUtils.findParentByTagName(e.startContainer, "a", !0);
                        i && e.setStartBefore(i), i = domUtils.findParentByTagName(e.endContainer, "a", !0), i && e.setEndAfter(i)
                    }
                    for (s = e.createBookmark(), m = s.start; (l = m.parentNode) && !domUtils.isBlockElm(l);)domUtils.breakParent(m, l), domUtils.clearEmptySibling(m);
                    if (s.end) {
                        for (m = s.end; (l = m.parentNode) && !domUtils.isBlockElm(l);)domUtils.breakParent(m, l), domUtils.clearEmptySibling(m);
                        for (var a, u = domUtils.getNextDomNode(s.start, !1, f); u && u != s.end;)a = domUtils.getNextDomNode(u, !0, f), dtd.$empty[u.tagName.toLowerCase()] || domUtils.isBookmarkNode(u) || (c.test(u.tagName) ? n ? (domUtils.removeStyle(u, n), o(u) && "text-decoration" != n && domUtils.remove(u, !0)) : domUtils.remove(u, !0) : dtd.$tableContent[u.tagName] || dtd.$list[u.tagName] || (domUtils.removeAttributes(u, d), o(u) && domUtils.remove(u, !0))), u = a
                    }
                    var h = s.start.parentNode;
                    !domUtils.isBlockElm(h) || dtd.$tableContent[h.tagName] || dtd.$list[h.tagName] || domUtils.removeAttributes(h, d), h = s.end.parentNode, s.end && domUtils.isBlockElm(h) && !dtd.$tableContent[h.tagName] && !dtd.$list[h.tagName] && domUtils.removeAttributes(h, d), e.moveToBookmark(s).moveToBookmark(t);
                    for (var p, m = e.startContainer, g = e.collapsed; 1 == m.nodeType && domUtils.isEmptyNode(m) && dtd.$removeEmpty[m.tagName];)p = m.parentNode, e.setStartBefore(m), e.startContainer === e.endContainer && e.endOffset--, domUtils.remove(m), m = p;
                    if (!g)for (m = e.endContainer; 1 == m.nodeType && domUtils.isEmptyNode(m) && dtd.$removeEmpty[m.tagName];)p = m.parentNode, e.setEndBefore(m), domUtils.remove(m), m = p
                }

                var s, l, c = new RegExp("^(?:" + (t || this.options.removeFormatTags).replace(/,/g, "|") + ")$", "i"), d = n ? [] : (i || this.options.removeFormatAttributes).split(","), u = new dom.Range(this.document), f = function (e) {
                    return 1 == e.nodeType
                };
                u = this.selection.getRange(), a(u), u.select()
            }
        }
    }, UE.plugins.blockquote = function () {
        function e(e) {
            return domUtils.filterNodeList(e.selection.getStartElementPath(), "blockquote")
        }

        var t = this;
        t.commands.blockquote = {
            execCommand: function (t, n) {
                var i = this.selection.getRange(), r = e(this), o = dtd.blockquote, a = i.createBookmark();
                if (r) {
                    var s = i.startContainer, l = domUtils.isBlockElm(s) ? s : domUtils.findParent(s, function (e) {
                        return domUtils.isBlockElm(e)
                    }), c = i.endContainer, d = domUtils.isBlockElm(c) ? c : domUtils.findParent(c, function (e) {
                        return domUtils.isBlockElm(e)
                    });
                    l = domUtils.findParentByTagName(l, "li", !0) || l, d = domUtils.findParentByTagName(d, "li", !0) || d, "LI" == l.tagName || "TD" == l.tagName || l === r || domUtils.isBody(l) ? domUtils.remove(r, !0) : domUtils.breakParent(l, r), l !== d && (r = domUtils.findParentByTagName(d, "blockquote"), r && ("LI" == d.tagName || "TD" == d.tagName || domUtils.isBody(d) ? r.parentNode && domUtils.remove(r, !0) : domUtils.breakParent(d, r)));
                    for (var u, f = domUtils.getElementsByTagName(this.document, "blockquote"), h = 0; u = f[h++];)u.childNodes.length ? domUtils.getPosition(u, l) & domUtils.POSITION_FOLLOWING && domUtils.getPosition(u, d) & domUtils.POSITION_PRECEDING && domUtils.remove(u, !0) : domUtils.remove(u)
                } else {
                    for (var p = i.cloneRange(), m = 1 == p.startContainer.nodeType ? p.startContainer : p.startContainer.parentNode, g = m, v = 1; ;) {
                        if (domUtils.isBody(m)) {
                            g !== m ? i.collapsed ? (p.selectNode(g), v = 0) : p.setStartBefore(g) : p.setStart(m, 0);
                            break
                        }
                        if (!o[m.tagName]) {
                            i.collapsed ? p.selectNode(g) : p.setStartBefore(g);
                            break
                        }
                        g = m, m = m.parentNode
                    }
                    if (v)for (g = m = m = 1 == p.endContainer.nodeType ? p.endContainer : p.endContainer.parentNode; ;) {
                        if (domUtils.isBody(m)) {
                            g !== m ? p.setEndAfter(g) : p.setEnd(m, m.childNodes.length);
                            break
                        }
                        if (!o[m.tagName]) {
                            p.setEndAfter(g);
                            break
                        }
                        g = m, m = m.parentNode
                    }
                    m = i.document.createElement("blockquote"), domUtils.setAttributes(m, n), m.appendChild(p.extractContents()), p.insertNode(m);
                    for (var y, b = domUtils.getElementsByTagName(m, "blockquote"), h = 0; y = b[h++];)y.parentNode && domUtils.remove(y, !0)
                }
                i.moveToBookmark(a).select()
            }, queryCommandState: function () {
                return e(this) ? 1 : 0
            }
        }
    }, UE.commands.touppercase = UE.commands.tolowercase = {
        execCommand: function (e) {
            var t = this, n = t.selection.getRange();
            if (n.collapsed)return n;
            for (var i = n.createBookmark(), r = i.end, o = function (e) {
                return !domUtils.isBr(e) && !domUtils.isWhitespace(e)
            }, a = domUtils.getNextDomNode(i.start, !1, o); a && domUtils.getPosition(a, r) & domUtils.POSITION_PRECEDING && (3 == a.nodeType && (a.nodeValue = a.nodeValue["touppercase" == e ? "toUpperCase" : "toLowerCase"]()), a = domUtils.getNextDomNode(a, !0, o), a !== r););
            n.moveToBookmark(i).select()
        }
    }, UE.commands.indent = {
        execCommand: function () {
            var e = this, t = e.queryCommandState("indent") ? "0em" : e.options.indentValue || "2em";
            e.execCommand("Paragraph", "p", {style: "text-indent:" + t})
        }, queryCommandState: function () {
            var e = domUtils.filterNodeList(this.selection.getStartElementPath(), "p h1 h2 h3 h4 h5 h6");
            return e && e.style.textIndent && parseInt(e.style.textIndent) ? 1 : 0
        }
    }, UE.commands.print = {
        execCommand: function () {
            this.window.print()
        }, notNeedUndo: 1
    }, UE.commands.preview = {
        execCommand: function () {
            var e = window.open("", "_blank", ""), t = e.document;
            t.open(), t.write('<html><head><script src="' + this.options.UEDITOR_HOME_URL + "ueditor.parse.js\"></script><script>setTimeout(function(){uParse('div',{    'highlightJsUrl':'" + this.options.UEDITOR_HOME_URL + "third-party/SyntaxHighlighter/shCore.js',    'highlightCssUrl':'" + this.options.UEDITOR_HOME_URL + "third-party/SyntaxHighlighter/shCoreDefault.css'})},300)</script></head><body><div>" + this.getContent(null, null, !0) + "</div></body></html>"), t.close()
        }, notNeedUndo: 1
    }, UE.plugins.selectall = function () {
        var e = this;
        e.commands.selectall = {
            execCommand: function () {
                var e = this, t = e.body, n = e.selection.getRange();
                n.selectNodeContents(t), domUtils.isEmptyBlock(t) && (browser.opera && t.firstChild && 1 == t.firstChild.nodeType && n.setStartAtFirst(t.firstChild), n.collapse(!0)), n.select(!0)
            }, notNeedUndo: 1
        }, e.addshortcutkey({selectAll: "ctrl+65"})
    }, UE.plugins.paragraph = function () {
        var e = this, t = domUtils.isBlockElm, n = ["TD", "LI", "PRE"], i = function (e, i, r, o) {
            var a, s = e.createBookmark(), l = function (e) {
                return 1 == e.nodeType ? "br" != e.tagName.toLowerCase() && !domUtils.isBookmarkNode(e) : !domUtils.isWhitespace(e)
            };
            e.enlarge(!0);
            for (var c, d = e.createBookmark(), u = domUtils.getNextDomNode(d.start, !1, l), f = e.cloneRange(); u && !(domUtils.getPosition(u, d.end) & domUtils.POSITION_FOLLOWING);)if (3 != u.nodeType && t(u))u = domUtils.getNextDomNode(u, !0, l); else {
                for (f.setStartBefore(u); u && u !== d.end && !t(u);)c = u, u = domUtils.getNextDomNode(u, !1, null, function (e) {
                    return !t(e)
                });
                f.setEndAfter(c), a = e.document.createElement(i), r && (domUtils.setAttributes(a, r), o && "customstyle" == o && r.style && (a.style.cssText = r.style)), a.appendChild(f.extractContents()), domUtils.isEmptyNode(a) && domUtils.fillChar(e.document, a), f.insertNode(a);
                var h = a.parentNode;
                t(h) && !domUtils.isBody(a.parentNode) && utils.indexOf(n, h.tagName) == -1 && (o && "customstyle" == o || (h.getAttribute("dir") && a.setAttribute("dir", h.getAttribute("dir")), h.style.cssText && (a.style.cssText = h.style.cssText + ";" + a.style.cssText), h.style.textAlign && !a.style.textAlign && (a.style.textAlign = h.style.textAlign), h.style.textIndent && !a.style.textIndent && (a.style.textIndent = h.style.textIndent), h.style.padding && !a.style.padding && (a.style.padding = h.style.padding)), r && /h\d/i.test(h.tagName) && !/h\d/i.test(a.tagName) ? (domUtils.setAttributes(h, r), o && "customstyle" == o && r.style && (h.style.cssText = r.style), domUtils.remove(a, !0), a = h) : domUtils.remove(a.parentNode, !0)), u = utils.indexOf(n, h.tagName) != -1 ? h : a, u = domUtils.getNextDomNode(u, !1, l)
            }
            return e.moveToBookmark(d).moveToBookmark(s)
        };
        e.setOpt("paragraph", {
            p: "",
            h1: "",
            h2: "",
            h3: "",
            h4: "",
            h5: "",
            h6: ""
        }), e.commands.paragraph = {
            execCommand: function (e, t, n, r) {
                var o = this.selection.getRange();
                if (o.collapsed) {
                    var a = this.document.createTextNode("p");
                    if (o.insertNode(a), browser.ie) {
                        var s = a.previousSibling;
                        s && domUtils.isWhitespace(s) && domUtils.remove(s), s = a.nextSibling, s && domUtils.isWhitespace(s) && domUtils.remove(s)
                    }
                }
                if (o = i(o, t, n, r), a && (o.setStartBefore(a).collapse(!0), pN = a.parentNode, domUtils.remove(a), domUtils.isBlockElm(pN) && domUtils.isEmptyNode(pN) && domUtils.fillNode(this.document, pN)), browser.gecko && o.collapsed && 1 == o.startContainer.nodeType) {
                    var l = o.startContainer.childNodes[o.startOffset];
                    l && 1 == l.nodeType && l.tagName.toLowerCase() == t && o.setStart(l, 0).collapse(!0)
                }
                return o.select(), !0
            }, queryCommandValue: function () {
                var e = domUtils.filterNodeList(this.selection.getStartElementPath(), "p h1 h2 h3 h4 h5 h6");
                return e ? e.tagName.toLowerCase() : ""
            }
        }
    }, function () {
        var e = domUtils.isBlockElm, t = function (e) {
            return domUtils.filterNodeList(e.selection.getStartElementPath(), function (e) {
                return e.getAttribute("dir")
            })
        }, n = function (n, i, r) {
            var o, a = function (e) {
                return 1 == e.nodeType ? !domUtils.isBookmarkNode(e) : !domUtils.isWhitespace(e)
            }, s = t(i);
            if (s && n.collapsed)return s.setAttribute("dir", r), n;
            o = n.createBookmark(), n.enlarge(!0);
            for (var l, c = n.createBookmark(), d = domUtils.getNextDomNode(c.start, !1, a), u = n.cloneRange(); d && !(domUtils.getPosition(d, c.end) & domUtils.POSITION_FOLLOWING);)if (3 != d.nodeType && e(d))d = domUtils.getNextDomNode(d, !0, a); else {
                for (u.setStartBefore(d); d && d !== c.end && !e(d);)l = d, d = domUtils.getNextDomNode(d, !1, null, function (t) {
                    return !e(t)
                });
                u.setEndAfter(l);
                var f = u.getCommonAncestor();
                if (!domUtils.isBody(f) && e(f))f.setAttribute("dir", r), d = f; else {
                    var h = n.document.createElement("p");
                    h.setAttribute("dir", r);
                    var p = u.extractContents();
                    h.appendChild(p), u.insertNode(h), d = h
                }
                d = domUtils.getNextDomNode(d, !1, a)
            }
            return n.moveToBookmark(c).moveToBookmark(o)
        };
        UE.commands.directionality = {
            execCommand: function (e, t) {
                var i = this.selection.getRange();
                if (i.collapsed) {
                    var r = this.document.createTextNode("d");
                    i.insertNode(r)
                }
                return n(i, this, t), r && (i.setStartBefore(r).collapse(!0), domUtils.remove(r)), i.select(), !0
            }, queryCommandValue: function () {
                var e = t(this);
                return e ? e.getAttribute("dir") : "ltr"
            }
        }
    }(), UE.plugins.horizontal = function () {
        var e = this;
        e.commands.horizontal = {
            execCommand: function (e) {
                var t = this;
                if (t.queryCommandState(e) !== -1) {
                    t.execCommand("insertHtml", "<hr>");
                    var n = t.selection.getRange(), i = n.startContainer;
                    if (1 == i.nodeType && !i.childNodes[n.startOffset]) {
                        var r;
                        (r = i.childNodes[n.startOffset - 1]) && 1 == r.nodeType && "HR" == r.tagName && ("p" == t.options.enterTag ? (r = t.document.createElement("p"), n.insertNode(r), n.setStart(r, 0).setCursor()) : (r = t.document.createElement("br"), n.insertNode(r), n.setStartBefore(r).setCursor()))
                    }
                    return !0
                }
            }, queryCommandState: function () {
                return domUtils.filterNodeList(this.selection.getStartElementPath(), "table") ? -1 : 0
            }
        }, e.addListener("delkeyup", function () {
            var e = this.selection.getRange();
            if (domUtils.isBody(e.startContainer)) {
                var t = e.startContainer.childNodes[e.startOffset - 1];
                t && "HR" == t.nodeName && domUtils.remove(t)
            }
        })
    }, UE.commands.time = UE.commands.date = {
        execCommand: function (e) {
            var t = new Date;
            this.execCommand("insertHtml", "time" == e ? t.getHours() + ":" + (t.getMinutes() < 10 ? "0" + t.getMinutes() : t.getMinutes()) + ":" + (t.getSeconds() < 10 ? "0" + t.getSeconds() : t.getSeconds()) : t.getFullYear() + "-" + (t.getMonth() + 1 < 10 ? "0" + (t.getMonth() + 1) : t.getMonth() + 1) + "-" + (t.getDate() < 10 ? "0" + t.getDate() : t.getDate()))
        }
    }, UE.plugins.rowspacing = function () {
        var e = this;
        e.setOpt({
            rowspacingtop: ["5", "10", "15", "20", "25"],
            rowspacingbottom: ["5", "10", "15", "20", "25"]
        }), e.commands.rowspacing = {
            execCommand: function (e, t, n) {
                return this.execCommand("paragraph", "p", {style: "margin-" + n + ":" + t + "px"}), !0
            }, queryCommandValue: function (e, t) {
                var n, i = domUtils.filterNodeList(this.selection.getStartElementPath(), function (e) {
                    return domUtils.isBlockElm(e)
                });
                return i ? (n = domUtils.getComputedStyle(i, "margin-" + t).replace(/[^\d]/g, ""), n ? n : 0) : 0
            }
        }
    }, UE.plugins.lineheight = function () {
        var e = this;
        e.setOpt({lineheight: ["1", "1.5", "1.75", "2", "3", "4", "5"]}), e.commands.lineheight = {
            execCommand: function (e, t) {
                return this.execCommand("paragraph", "p", {style: "line-height:" + ("1" == t ? "normal" : t + "em")}), !0
            }, queryCommandValue: function () {
                var e = domUtils.filterNodeList(this.selection.getStartElementPath(), function (e) {
                    return domUtils.isBlockElm(e)
                });
                if (e) {
                    var t = domUtils.getComputedStyle(e, "line-height");
                    return "normal" == t ? 1 : t.replace(/[^\d.]*/gi, "")
                }
            }
        }
    }, UE.plugins.insertcode = function () {
        var e = this;
        e.ready(function () {
            utils.cssRule("pre", "pre{margin:.5em 0;padding:.4em .6em;border-radius:8px;background:#f8f8f8;line-height:1.5}", e.document)
        }), e.setOpt("insertcode", {
            as3: "ActionScript3",
            bash: "Bash/Shell",
            cpp: "C/C++",
            css: "Css",
            cf: "CodeFunction",
            "c#": "C#",
            delphi: "Delphi",
            diff: "Diff",
            erlang: "Erlang",
            groovy: "Groovy",
            html: "Html",
            java: "Java",
            jfx: "JavaFx",
            js: "Javascript",
            pl: "Perl",
            php: "Php",
            plain: "Plain Text",
            ps: "PowerShell",
            python: "Python",
            ruby: "Ruby",
            scala: "Scala",
            sql: "Sql",
            vb: "Vb",
            xml: "Xml"
        }), e.commands.insertcode = {
            execCommand: function (e, t) {
                var n = this, i = n.selection.getRange(), r = domUtils.findParentByTagName(i.startContainer, "pre", !0);
                if (r)r.className = "brush:" + t + ";toolbar:false;"; else {
                    var o = "";
                    if (i.collapsed)o = browser.ie ? browser.version > 8 ? "" : "&nbsp;" : "<br/>"; else {
                        var a = i.extractContents(), s = n.document.createElement("div");
                        s.appendChild(a), utils.each(UE.filterNode(UE.htmlparser(s.innerHTML.replace(/[\r\t]/g, "")), n.options.filterTxtRules).children, function (e) {
                            if (browser.ie && browser.version > 8)"element" == e.type ? "br" == e.tagName ? o += "\n" : dtd.$empty[e.tagName] || (utils.each(e.children, function (t) {
                                "element" == t.type ? "br" == t.tagName ? o += "\n" : dtd.$empty[e.tagName] || (o += t.innerText()) : o += t.data
                            }), /\n$/.test(o) || (o += "\n")) : o += e.data + "\n", !e.nextSibling() && /\n$/.test(o) && (o = o.replace(/\n$/, "")); else if (browser.ie)"element" == e.type ? "br" == e.tagName ? o += "<br>" : dtd.$empty[e.tagName] || (utils.each(e.children, function (t) {
                                "element" == t.type ? "br" == t.tagName ? o += "<br>" : dtd.$empty[e.tagName] || (o += t.innerText()) : o += t.data
                            }), /br>$/.test(o) || (o += "<br>")) : o += e.data + "<br>", !e.nextSibling() && /<br>$/.test(o) && (o = o.replace(/<br>$/, "")); else if (o += "element" == e.type ? dtd.$empty[e.tagName] ? "" : e.innerText() : e.data, !/br\/?\s*>$/.test(o)) {
                                if (!e.nextSibling())return;
                                o += "<br>"
                            }
                        })
                    }
                    n.execCommand("inserthtml", '<pre id="coder"class="brush:' + t + ';toolbar:false">' + o + "</pre>", !0), r = n.document.getElementById("coder"), domUtils.removeAttributes(r, "id");
                    var l = r.previousSibling;
                    l && domUtils.isEmptyBlock(l) && domUtils.remove(l);
                    var i = n.selection.getRange();
                    domUtils.isEmptyBlock(r) ? i.setStart(r, 0).setCursor(!1, !0) : i.selectNodeContents(r).select()
                }
            }, queryCommandValue: function () {
                var e = this.selection.getStartElementPath(), t = "";
                return utils.each(e, function (e) {
                    if ("PRE" == e.nodeName) {
                        var n = e.className.match(/brush:([^;]+)/);
                        return t = n && n[1] ? n[1] : "", !1
                    }
                }), t
            }
        }, e.addInputRule(function (e) {
            utils.each(e.getNodesByTagName("pre"), function (e) {
                var t = e.getNodesByTagName("br");
                if (t.length)return void(browser.ie && browser.version > 8 && utils.each(t, function (e) {
                    var t = UE.uNode.createText("\n");
                    e.parentNode.insertBefore(t, e), e.parentNode.removeChild(e)
                }));
                if (!(browser.ie && browser.version > 8)) {
                    var n = e.innerText().split(/\n/);
                    e.innerHTML(""), utils.each(n, function (t) {
                        t.length && e.appendChild(UE.uNode.createText(t)), e.appendChild(UE.uNode.createElement("br"))
                    })
                }
            })
        }), e.addOutputRule(function (e) {
            utils.each(e.getNodesByTagName("pre"), function (e) {
                var t = "";
                utils.each(e.children, function (e) {
                    t += "text" == e.type ? e.data.replace(/[ ]/g, "&nbsp;") : "\n"
                }), e.innerText(t.replace(/(&nbsp;|\n)+$/, ""))
            })
        }), e.notNeedCodeQuery = {
            help: 1,
            undo: 1,
            redo: 1,
            source: 1,
            print: 1,
            searchreplace: 1,
            fullscreen: 1,
            preview: 1,
            insertparagraph: 1,
            elementpath: 1,
            highlightcode: 1,
            insertcode: 1,
            inserthtml: 1,
            selectall: 1
        };
        e.queryCommandState;
        e.queryCommandState = function (e) {
            var t = this;
            return !t.notNeedCodeQuery[e.toLowerCase()] && t.selection && t.queryCommandValue("insertcode") ? -1 : UE.Editor.prototype.queryCommandState.apply(this, arguments)
        }, e.addListener("beforeenterkeydown", function () {
            var t = e.selection.getRange(), n = domUtils.findParentByTagName(t.startContainer, "pre", !0);
            if (n) {
                if (e.fireEvent("saveScene"), t.collapsed || t.deleteContents(), browser.ie)if (browser.version > 8) {
                    var i = e.document.createTextNode("\n"), r = t.startContainer;
                    if (0 == t.startOffset) {
                        var o = r.previousSibling;
                        if (o) {
                            t.insertNode(i);
                            var a = e.document.createTextNode(" ");
                            t.setStartAfter(i).insertNode(a).setStart(a, 0).collapse(!0).select(!0)
                        }
                    } else {
                        t.insertNode(i).setStartAfter(i);
                        var a = e.document.createTextNode(" ");
                        r = t.startContainer.childNodes[t.startOffset], r && !/^\n/.test(r.nodeValue) && t.setStartBefore(i), t.insertNode(a).setStart(a, 0).collapse(!0).select(!0)
                    }
                } else {
                    var s = e.document.createElement("br");
                    t.insertNode(s), t.insertNode(e.document.createTextNode(domUtils.fillChar)), t.setStartAfter(s), n = s.previousSibling;
                    for (var l; n;)if (l = n, n = n.previousSibling, !n || "BR" == n.nodeName) {
                        n = l;
                        break
                    }
                    if (n) {
                        for (var c = ""; n && "BR" != n.nodeName && new RegExp("^[ " + domUtils.fillChar + "]*$").test(n.nodeValue);)c += n.nodeValue, n = n.nextSibling;
                        if ("BR" != n.nodeName) {
                            var d = n.nodeValue.match(new RegExp("^([ " + domUtils.fillChar + "]+)"));
                            d && d[1] && (c += d[1])
                        }
                        c = e.document.createTextNode(c), t.insertNode(c).setStartAfter(c)
                    }
                    t.collapse(!0).select()
                } else {
                    var n, s = e.document.createElement("br");
                    t.insertNode(s).setStartAfter(s).collapse(!0);
                    var u = s.nextSibling;
                    u ? t.setStartAfter(s) : t.insertNode(s.cloneNode(!1)), n = s.previousSibling;
                    for (var l; n;)if (l = n, n = n.previousSibling, !n || "BR" == n.nodeName) {
                        n = l;
                        break
                    }
                    if (n) {
                        for (var c = ""; n && "BR" != n.nodeName && new RegExp("^[\\s" + domUtils.fillChar + "]*$").test(n.nodeValue);)c += n.nodeValue, n = n.nextSibling;
                        if ("BR" != n.nodeName) {
                            var d = n.nodeValue.match(new RegExp("^([\\s" + domUtils.fillChar + "]+)"));
                            d && d[1] && (c += d[1])
                        }
                        c && (c = e.document.createTextNode(c), t.insertNode(c).setStartAfter(c))
                    }
                    t.collapse(!0).select(!0)
                }
                return e.fireEvent("saveScene"), !0
            }
        }), e.addListener("tabkeydown", function (t, n) {
            var i = e.selection.getRange(), r = domUtils.findParentByTagName(i.startContainer, "pre", !0);
            if (r) {
                if (e.fireEvent("saveScene"), n.shiftKey); else if (i.collapsed) {
                    var o = e.document.createTextNode("    ");
                    i.insertNode(o).setStartAfter(o).collapse(!0).select(!0)
                } else {
                    for (var a = i.createBookmark(), s = a.start.previousSibling; s;) {
                        if (r.firstChild === s && !domUtils.isBr(s)) {
                            r.insertBefore(e.document.createTextNode("    "), s);
                            break
                        }
                        if (domUtils.isBr(s)) {
                            r.insertBefore(e.document.createTextNode("    "), s.nextSibling);
                            break
                        }
                        s = s.previousSibling
                    }
                    var l = a.end;
                    for (s = a.start.nextSibling, r.firstChild === a.start && r.insertBefore(e.document.createTextNode("    "), s.nextSibling); s && s !== l;) {
                        if (domUtils.isBr(s) && s.nextSibling) {
                            if (s.nextSibling === l)break;
                            r.insertBefore(e.document.createTextNode("    "), s.nextSibling)
                        }
                        s = s.nextSibling
                    }
                    i.moveToBookmark(a).select()
                }
                return e.fireEvent("saveScene"), !0
            }
        }), e.addListener("beforeinserthtml", function (e, t) {
            var n = this, i = n.selection.getRange(), r = domUtils.findParentByTagName(i.startContainer, "pre", !0);
            if (r) {
                i.collapsed || i.deleteContents();
                var o = "";
                if (browser.ie && browser.version > 8) {
                    utils.each(UE.filterNode(UE.htmlparser(t), n.options.filterTxtRules).children, function (e) {
                        "element" == e.type ? "br" == e.tagName ? o += "\n" : dtd.$empty[e.tagName] || (utils.each(e.children, function (t) {
                            "element" == t.type ? "br" == t.tagName ? o += "\n" : dtd.$empty[e.tagName] || (o += t.innerText()) : o += t.data
                        }), /\n$/.test(o) || (o += "\n")) : o += e.data + "\n", !e.nextSibling() && /\n$/.test(o) && (o = o.replace(/\n$/, ""))
                    });
                    var a = n.document.createTextNode(utils.html(o.replace(/&nbsp;/g, " ")));
                    i.insertNode(a).selectNode(a).select()
                } else {
                    var s = n.document.createDocumentFragment();
                    utils.each(UE.filterNode(UE.htmlparser(t), n.options.filterTxtRules).children, function (e) {
                        "element" == e.type ? "br" == e.tagName ? s.appendChild(n.document.createElement("br")) : dtd.$empty[e.tagName] || (utils.each(e.children, function (t) {
                            "element" == t.type ? "br" == t.tagName ? s.appendChild(n.document.createElement("br")) : dtd.$empty[e.tagName] || s.appendChild(n.document.createTextNode(utils.html(t.innerText().replace(/&nbsp;/g, " ")))) : s.appendChild(n.document.createTextNode(utils.html(t.data.replace(/&nbsp;/g, " "))))
                        }), "BR" != s.lastChild.nodeName && s.appendChild(n.document.createElement("br"))) : s.appendChild(n.document.createTextNode(utils.html(e.data.replace(/&nbsp;/g, " ")))), e.nextSibling() || "BR" != s.lastChild.nodeName || s.removeChild(s.lastChild)
                    }), i.insertNode(s).select()
                }
                return !0
            }
        }), e.addListener("keydown", function (e, t) {
            var n = this, i = t.keyCode || t.which;
            if (40 == i) {
                var r, o = n.selection.getRange(), a = o.startContainer;
                if (o.collapsed && (r = domUtils.findParentByTagName(o.startContainer, "pre", !0)) && !r.nextSibling) {
                    for (var s = r.lastChild; s && "BR" == s.nodeName;)s = s.previousSibling;
                    (s === a || o.startContainer === r && o.startOffset == r.childNodes.length) && (n.execCommand("insertparagraph"), domUtils.preventDefault(t))
                }
            }
        })
    }, UE.commands.cleardoc = {
        execCommand: function (e) {
            var t = this, n = t.options.enterTag, i = t.selection.getRange();
            "br" == n ? (t.body.innerHTML = "<br/>", i.setStart(t.body, 0).setCursor()) : (t.body.innerHTML = "<p>" + (ie ? "" : "<br/>") + "</p>", i.setStart(t.body.firstChild, 0).setCursor(!1, !0)), setTimeout(function () {
                t.fireEvent("clearDoc")
            }, 0)
        }
    }, UE.plugins.anchor = function () {
        var e = this;
        e.ready(function () {
            utils.cssRule("anchor", ".anchorclass{background: url('" + e.options.UEDITOR_HOME_URL + "themes/default/images/anchor.gif') no-repeat scroll left center transparent;border: 1px dotted #0000FF;cursor: auto;display: inline-block;height: 16px;width: 15px;}", e.document)
        }), e.addOutputRule(function (e) {
            utils.each(e.getNodesByTagName("img"), function (e) {
                var t;
                (t = e.getAttr("anchorname")) && (e.tagName = "a", e.setAttr({anchorname: "", name: t, class: ""}))
            })
        }), e.addInputRule(function (e) {
            utils.each(e.getNodesByTagName("a"), function (e) {
                var t;
                (t = e.getAttr("name")) && !e.getAttr("href") && (e.tagName = "img", e.setAttr({
                    anchorname: e.getAttr("name"),
                    class: "anchorclass"
                }), e.setAttr("name"))
            })
        }), e.commands.anchor = {
            execCommand: function (e, t) {
                var n = this.selection.getRange(), i = n.getClosedNode();
                if (i && i.getAttribute("anchorname"))t ? i.setAttribute("anchorname", t) : (n.setStartBefore(i).setCursor(), domUtils.remove(i)); else if (t) {
                    var r = this.document.createElement("img");
                    n.collapse(!0), domUtils.setAttributes(r, {
                        anchorname: t,
                        class: "anchorclass"
                    }), n.insertNode(r).setStartAfter(r).setCursor(!1, !0)
                }
            }
        }
    }, UE.plugins.wordcount = function () {
        var e = this;
        e.addListener("contentchange", function () {
            e.fireEvent("wordcount")
        });
        var t;
        e.addListener("ready", function () {
            var e = this;
            domUtils.on(e.body, "keyup", function (n) {
                var i = n.keyCode || n.which, r = {16: 1, 18: 1, 20: 1, 37: 1, 38: 1, 39: 1, 40: 1};
                i in r || (clearTimeout(t), t = setTimeout(function () {
                    e.fireEvent("wordcount")
                }, 200))
            })
        })
    }, UE.plugins.pagebreak = function () {
        function e(e) {
            if (domUtils.isEmptyBlock(e)) {
                for (var t, i = e.firstChild; i && 1 == i.nodeType && domUtils.isEmptyBlock(i);)t = i, i = i.firstChild;
                !t && (t = e), domUtils.fillNode(n.document, t)
            }
        }

        function t(e) {
            return e && 1 == e.nodeType && "HR" == e.tagName && "pagebreak" == e.className
        }

        var n = this, i = ["td"];
        n.setOpt("pageBreakTag", "_ueditor_page_break_tag_"), n.ready(function () {
            utils.cssRule("pagebreak", ".pagebreak{display:block;clear:both !important;cursor:default !important;width: 100% !important;margin:0;}", n.document)
        }), n.addInputRule(function (e) {
            e.traversal(function (e) {
                if ("text" == e.type && e.data == n.options.pageBreakTag) {
                    var t = UE.uNode.createElement('<hr class="pagebreak" noshade="noshade" size="5" style="-webkit-user-select: none;">');
                    e.parentNode.insertBefore(t, e), e.parentNode.removeChild(e)
                }
            })
        }), n.addOutputRule(function (e) {
            utils.each(e.getNodesByTagName("hr"), function (e) {
                if ("pagebreak" == e.getAttr("class")) {
                    var t = UE.uNode.createText(n.options.pageBreakTag);
                    e.parentNode.insertBefore(t, e), e.parentNode.removeChild(e)
                }
            })
        }), n.commands.pagebreak = {
            execCommand: function () {
                var r = n.selection.getRange(), o = n.document.createElement("hr");
                domUtils.setAttributes(o, {
                    class: "pagebreak",
                    noshade: "noshade",
                    size: "5"
                }), domUtils.unSelectable(o);
                var a, s = domUtils.findParentByTagName(r.startContainer, i, !0), l = [];
                if (s)switch (s.tagName) {
                    case"TD":
                        if (a = s.parentNode, a.previousSibling)a.parentNode.insertBefore(o, a), l = domUtils.findParents(o); else {
                            var c = domUtils.findParentByTagName(a, "table");
                            c.parentNode.insertBefore(o, c), l = domUtils.findParents(o, !0)
                        }
                        a = l[1], o !== a && domUtils.breakParent(o, a), n.fireEvent("afteradjusttable", n.document)
                } else {
                    if (!r.collapsed) {
                        r.deleteContents();
                        for (var d = r.startContainer; !domUtils.isBody(d) && domUtils.isBlockElm(d) && domUtils.isEmptyNode(d);)r.setStartBefore(d).collapse(!0), domUtils.remove(d), d = r.startContainer
                    }
                    r.insertNode(o);
                    for (var u, a = o.parentNode; !domUtils.isBody(a);)domUtils.breakParent(o, a), u = o.nextSibling, u && domUtils.isEmptyBlock(u) && domUtils.remove(u), a = o.parentNode;
                    u = o.nextSibling;
                    var f = o.previousSibling;
                    if (t(f) ? domUtils.remove(f) : f && e(f), u)t(u) ? domUtils.remove(u) : e(u), r.setEndAfter(o).collapse(!1); else {
                        var h = n.document.createElement("p");
                        o.parentNode.appendChild(h), domUtils.fillNode(n.document, h), r.setStart(h, 0).collapse(!0)
                    }
                    r.select(!0)
                }
            }
        }
    }, UE.plugins.wordimage = function () {
        var e, t = this;
        t.addInputRule(function (e) {
            utils.each(e.getNodesByTagName("img"), function (e) {
                var n = e.attrs, i = parseInt(n.width) < 128 || parseInt(n.height) < 43, r = t.options, o = r.UEDITOR_HOME_URL + "themes/default/images/spacer.gif";
                n._src && n._src.indexOf("file:///") !== -1 && e.setAttr({
                    width: n.width,
                    height: n.height,
                    alt: n.alt,
                    word_img: n._src,
                    src: o,
                    _src: o,
                    style: "background:url(" + (i ? r.themePath + r.theme + "/images/word.gif" : r.langPath + r.lang + "/images/localimage.png") + ") no-repeat center center;border:1px solid #ddd"
                })
            })
        }), t.commands.wordimage = {
            execCommand: function () {
                e = domUtils.getElementsByTagName(t.document.body, "img");
                for (var n, i = [], r = 0; n = e[r++];) {
                    var o = n.getAttribute("word_img");
                    o && i.push(o)
                }
                e.length && (this.word_img = i)
            }, queryCommandState: function () {
                e = domUtils.getElementsByTagName(t.document.body, "img");
                for (var n, i = 0; n = e[i++];)if (n.getAttribute("word_img"))return 1;
                return -1
            }
        }
    }, UE.plugins.dragdrop = function () {
        var e = this;
        e.ready(function () {
            domUtils.on(this.body, "dragend", function () {
                var t = e.selection.getRange(), n = t.getClosedNode() || e.selection.getStart();
                if (n && "IMG" == n.tagName) {
                    for (var i, r = n.previousSibling; (i = n.nextSibling) && 1 == i.nodeType && "SPAN" == i.tagName && !i.firstChild;)domUtils.remove(i);
                    (!r || 1 != r.nodeType || domUtils.isEmptyBlock(r)) && r || i && (!i || domUtils.isEmptyBlock(i)) || (r && "P" == r.tagName && !domUtils.isEmptyBlock(r) ? (r.appendChild(n), domUtils.moveChild(i, r), domUtils.remove(i)) : i && "P" == i.tagName && !domUtils.isEmptyBlock(i) && i.insertBefore(n, i.firstChild), r && "P" == r.tagName && domUtils.isEmptyBlock(r) && domUtils.remove(r), i && "P" == i.tagName && domUtils.isEmptyBlock(i) && domUtils.remove(i), t.selectNode(n).select(), e.fireEvent("saveScene"))
                }
            })
        }), e.addListener("keyup", function (t, n) {
            var i = n.keyCode || n.which;
            if (13 == i) {
                var r, o = e.selection.getRange();
                (r = domUtils.findParentByTagName(o.startContainer, "p", !0)) && "center" == domUtils.getComputedStyle(r, "text-align") && domUtils.removeStyle(r, "text-align")
            }
        })
    }, UE.plugins.undo = function () {
        function e(e, t) {
            if (e.length != t.length)return 0;
            for (var n = 0, i = e.length; n < i; n++)if (e[n] != t[n])return 0;
            return 1
        }

        function t(t, n) {
            return t.collapsed != n.collapsed ? 0 : e(t.startAddress, n.startAddress) && e(t.endAddress, n.endAddress) ? 1 : 0
        }

        function n() {
            this.list = [], this.index = 0, this.hasUndo = !1, this.hasRedo = !1, this.undo = function () {
                if (this.hasUndo) {
                    if (!this.list[this.index - 1] && 1 == this.list.length)return void this.reset();
                    for (; this.list[this.index].content == this.list[this.index - 1].content;)if (this.index--, 0 == this.index)return this.restore(0);
                    this.restore(--this.index)
                }
            }, this.redo = function () {
                if (this.hasRedo) {
                    for (; this.list[this.index].content == this.list[this.index + 1].content;)if (this.index++, this.index == this.list.length - 1)return this.restore(this.index);
                    this.restore(++this.index)
                }
            }, this.restore = function () {
                var e = this.editor, t = this.list[this.index], n = UE.htmlparser(t.content.replace(l, ""));
                e.options.autoClearEmptyNode = !1, e.filterInputRule(n), e.options.autoClearEmptyNode = d, e.document.body.innerHTML = n.toHtml(), e.fireEvent("afterscencerestore"), browser.ie && utils.each(domUtils.getElementsByTagName(e.document, "td th caption p"), function (t) {
                    domUtils.isEmptyNode(t) && domUtils.fillNode(e.document, t)
                });
                try {
                    var i = new dom.Range(e.document).moveToAddress(t.address);
                    i.select(c[i.startContainer.nodeName.toLowerCase()])
                } catch (e) {
                }
                this.update(), this.clearKey(), e.fireEvent("reset", !0)
            }, this.getScene = function (e) {
                var t = this.editor, n = t.selection.getRange(), i = n.createAddress(!1, !0);
                t.fireEvent("beforegetscene");
                var r = UE.htmlparser(t.body.innerHTML, !0);
                t.options.autoClearEmptyNode = !1, t.filterOutputRule(r), t.options.autoClearEmptyNode = d;
                var o = r.toHtml();
                browser.ie && (o = o.replace(/>&nbsp;</g, "><").replace(/\s*</g, "<").replace(/>\s*/g, ">")), t.fireEvent("aftergetscene");
                try {
                } catch (e) {
                }
                return {address: i, content: o}
            }, this.save = function (e, n) {
                clearTimeout(r);
                var i = this.getScene(n), o = this.list[this.index];
                o && o.content == i.content && (e ? 1 : t(o.address, i.address)) || (this.list = this.list.slice(0, this.index + 1), this.list.push(i), this.list.length > a && this.list.shift(), this.index = this.list.length - 1, this.clearKey(), this.update())
            }, this.update = function () {
                this.hasRedo = !!this.list[this.index + 1], this.hasUndo = !!this.list[this.index - 1]
            }, this.reset = function () {
                this.list = [], this.index = 0, this.hasUndo = !1, this.hasRedo = !1, this.clearKey()
            }, this.clearKey = function () {
                h = 0, u = null
            }
        }

        function i() {
            this.undoManger.save()
        }

        var r, o = this, a = o.options.maxUndoCount || 20, s = o.options.maxInputCount || 20, l = new RegExp(domUtils.fillChar + "|</hr>", "gi"), c = {
            ol: 1,
            ul: 1,
            table: 1,
            tbody: 1,
            tr: 1,
            body: 1
        }, d = o.options.autoClearEmptyNode;
        o.undoManger = new n, o.undoManger.editor = o, o.addListener("saveScene", function () {
            var e = Array.prototype.splice.call(arguments, 1);
            this.undoManger.save.apply(this.undoManger, e)
        }), o.addListener("beforeexeccommand", i), o.addListener("afterexeccommand", i), o.addListener("reset", function (e, t) {
            t || this.undoManger.reset()
        }), o.commands.redo = o.commands.undo = {
            execCommand: function (e) {
                this.undoManger[e]()
            }, queryCommandState: function (e) {
                return this.undoManger["has" + ("undo" == e.toLowerCase() ? "Undo" : "Redo")] ? 0 : -1
            }, notNeedUndo: 1
        };
        var u, f = {16: 1, 17: 1, 18: 1, 37: 1, 38: 1, 39: 1, 40: 1}, h = 0, p = !1;
        o.addListener("ready", function () {
            domUtils.on(this.body, "compositionstart", function () {
                p = !0
            }), domUtils.on(this.body, "compositionend", function () {
                p = !1
            })
        }), o.addshortcutkey({Undo: "ctrl+90", Redo: "ctrl+89"});
        var m = !0;
        o.addListener("keydown", function (e, t) {
            function n(e) {
                e.selection.getRange().collapsed && e.fireEvent("contentchange"), e.undoManger.save(!1, !0), e.fireEvent("selectionchange")
            }

            var i = this, o = t.keyCode || t.which;
            if (!(f[o] || t.ctrlKey || t.metaKey || t.shiftKey || t.altKey)) {
                if (p)return;
                if (!i.selection.getRange().collapsed)return i.undoManger.save(!1, !0), void(m = !1);
                0 == i.undoManger.list.length && i.undoManger.save(!0), clearTimeout(r), r = setTimeout(function () {
                    if (p)var e = setInterval(function () {
                        p || (n(i), clearInterval(e))
                    }, 300); else n(i)
                }, 200), u = o, h++, h >= s && n(i)
            }
        }), o.addListener("keyup", function (e, t) {
            var n = t.keyCode || t.which;
            if (!(f[n] || t.ctrlKey || t.metaKey || t.shiftKey || t.altKey)) {
                if (p)return;
                m || (this.undoManger.save(!1, !0), m = !0)
            }
        })
    }, UE.plugins.paste = function () {
        function e(e) {
            var t = this.document;
            if (!t.getElementById("baidu_pastebin")) {
                var n = this.selection.getRange(), i = n.createBookmark(), r = t.createElement("div");
                r.id = "baidu_pastebin", browser.webkit && r.appendChild(t.createTextNode(domUtils.fillChar + domUtils.fillChar)), t.body.appendChild(r), i.start.style.display = "", r.style.cssText = "position:absolute;width:1px;height:1px;overflow:hidden;left:-1000px;white-space:nowrap;top:" + domUtils.getXY(i.start).y + "px", n.selectNodeContents(r).select(!0), setTimeout(function () {
                    if (browser.webkit)for (var o, a = 0, s = t.querySelectorAll("#baidu_pastebin"); o = s[a++];) {
                        if (!domUtils.isEmptyNode(o)) {
                            r = o;
                            break
                        }
                        domUtils.remove(o)
                    }
                    try {
                        r.parentNode.removeChild(r)
                    } catch (e) {
                    }
                    n.moveToBookmark(i).select(!0), e(r)
                }, 0)
            }
        }

        function t(e) {
            var t;
            if (e.firstChild) {
                for (var a, s = domUtils.getElementsByTagName(e, "span"), l = 0; a = s[l++];)"_baidu_cut_start" != a.id && "_baidu_cut_end" != a.id || domUtils.remove(a);
                if (browser.webkit) {
                    for (var c, d = e.querySelectorAll("div br"), l = 0; c = d[l++];) {
                        var u = c.parentNode;
                        "DIV" == u.tagName && 1 == u.childNodes.length && (u.innerHTML = "<p><br/></p>", domUtils.remove(u))
                    }
                    for (var f, h = e.querySelectorAll("#baidu_pastebin"), l = 0; f = h[l++];) {
                        var p = o.document.createElement("p");
                        for (f.parentNode.insertBefore(p, f); f.firstChild;)p.appendChild(f.firstChild);
                        domUtils.remove(f)
                    }
                    for (var m, g = e.querySelectorAll("meta"), l = 0; m = g[l++];)domUtils.remove(m);
                    var d = e.querySelectorAll("br");
                    for (l = 0; m = d[l++];)/^apple-/i.test(m.className) && domUtils.remove(m)
                }
                if (browser.gecko) {
                    var v = e.querySelectorAll("[_moz_dirty]");
                    for (l = 0; m = v[l++];)m.removeAttribute("_moz_dirty")
                }
                if (!browser.ie)for (var m, y = e.querySelectorAll("span.Apple-style-span"), l = 0; m = y[l++];)domUtils.remove(m, !0);
                t = e.innerHTML, t = UE.filterWord(t);
                var b = UE.htmlparser(t, !0);
                if (o.options.filterRules && UE.filterNode(b, o.options.filterRules), o.filterInputRule(b), browser.webkit) {
                    var w = b.lastChild();
                    w && "element" == w.type && "br" == w.tagName && b.removeChild(w), utils.each(o.body.querySelectorAll("div"), function (e) {
                        domUtils.isEmptyBlock(e) && domUtils.remove(e)
                    })
                }
                if (t = {html: b.toHtml()}, o.fireEvent("beforepaste", t, b), !t.html)return;
                b = UE.htmlparser(t.html, !0), 1 === o.queryCommandState("pasteplain") ? o.execCommand("insertHtml", UE.filterNode(b, o.options.filterTxtRules).toHtml(), !0) : (UE.filterNode(b, o.options.filterTxtRules), n = b.toHtml(), i = t.html, r = o.selection.getRange().createAddress(!0), o.execCommand("insertHtml", i, !0)), o.fireEvent("afterpaste", t)
            }
        }

        var n, i, r, o = this;
        o.addListener("pasteTransfer", function (e, t) {
            if (r && n && i && n != i) {
                var a = o.selection.getRange();
                if (a.moveToAddress(r, !0), !a.collapsed) {
                    for (; !domUtils.isBody(a.startContainer);) {
                        var s = a.startContainer;
                        if (1 == s.nodeType) {
                            if (s = s.childNodes[a.startOffset], !s) {
                                a.setStartBefore(a.startContainer);
                                continue
                            }
                            var l = s.previousSibling;
                            l && 3 == l.nodeType && new RegExp("^[\n\r\t " + domUtils.fillChar + "]*$").test(l.nodeValue) && a.setStartBefore(l)
                        }
                        if (0 != a.startOffset)break;
                        a.setStartBefore(a.startContainer)
                    }
                    for (; !domUtils.isBody(a.endContainer);) {
                        var c = a.endContainer;
                        if (1 == c.nodeType) {
                            if (c = c.childNodes[a.endOffset], !c) {
                                a.setEndAfter(a.endContainer);
                                continue
                            }
                            var d = c.nextSibling;
                            d && 3 == d.nodeType && new RegExp("^[\n\r\t" + domUtils.fillChar + "]*$").test(d.nodeValue) && a.setEndAfter(d)
                        }
                        if (a.endOffset != a.endContainer.childNodes.length)break;
                        a.setEndAfter(a.endContainer)
                    }
                }
                a.deleteContents(), a.select(!0), o.__hasEnterExecCommand = !0;
                var u = i;
                2 === t ? u = u.replace(/<(\/?)([\w\-]+)([^>]*)>/gi, function (e, t, n, i) {
                    return n = n.toLowerCase(), {img: 1}[n] ? e : (i = i.replace(/([\w\-]*?)\s*=\s*(("([^"]*)")|('([^']*)')|([^\s>]+))/gi, function (e, t, n) {
                        return {src: 1, href: 1, name: 1}[t.toLowerCase()] ? t + "=" + n + " " : ""
                    }), {span: 1, div: 1}[n] ? "" : "<" + t + n + " " + utils.trim(i) + ">")
                }) : t && (u = n), o.execCommand("inserthtml", u, !0), o.__hasEnterExecCommand = !1;
                var f = o.selection.getRange().createAddress(!0);
                r.endAddress = f.startAddress
            }
        }), o.addListener("ready", function () {
            domUtils.on(o.body, "cut", function () {
                var e = o.selection.getRange();
                !e.collapsed && o.undoManger && o.undoManger.save()
            }), domUtils.on(o.body, browser.ie || browser.opera ? "keydown" : "paste", function (n) {
                (!browser.ie && !browser.opera || (n.ctrlKey || n.metaKey) && "86" == n.keyCode) && e.call(o, function (e) {
                    t(e)
                })
            })
        })
    }, UE.plugins.list = function () {
        function e(e) {
            var t = [];
            for (var n in e)t.push(n);
            return t
        }

        function t(e) {
            var t = e.className;
            return domUtils.hasClass(e, /custom_/) ? t.match(/custom_(\w+)/)[1] : domUtils.getStyle(e, "list-style-type")
        }

        function n(e, n) {
            utils.each(domUtils.getElementsByTagName(e, "ol ul"), function (o) {
                if (domUtils.inDoc(o, e)) {
                    var a = o.parentNode;
                    if (a.tagName == o.tagName) {
                        var s = t(o) || ("OL" == o.tagName ? "decimal" : "disc"), l = t(a) || ("OL" == a.tagName ? "decimal" : "disc");
                        if (s == l) {
                            var u = utils.indexOf(d[o.tagName], s);
                            u = u + 1 == d[o.tagName].length ? 0 : u + 1, r(o, d[o.tagName][u])
                        }
                    }
                    var f = 0, h = 2;
                    domUtils.hasClass(o, /custom_/) ? /[ou]l/i.test(a.tagName) && domUtils.hasClass(a, /custom_/) || (h = 1) : /[ou]l/i.test(a.tagName) && domUtils.hasClass(a, /custom_/) && (h = 3);
                    var p = domUtils.getStyle(o, "list-style-type");
                    p && (o.style.cssText = "list-style-type:" + p), o.className = utils.trim(o.className.replace(/list-paddingleft-\w+/, "")) + " list-paddingleft-" + h, utils.each(domUtils.getElementsByTagName(o, "li"), function (e) {
                        if (e.style.cssText && (e.style.cssText = ""), !e.firstChild)return void domUtils.remove(e);
                        if (e.parentNode === o) {
                            if (f++, domUtils.hasClass(o, /custom_/)) {
                                var n = 1, i = t(o);
                                if ("OL" == o.tagName) {
                                    if (i)switch (i) {
                                        case"cn":
                                        case"cn1":
                                        case"cn2":
                                            f > 10 && (f % 10 == 0 || f > 10 && f < 20) ? n = 2 : f > 20 && (n = 3);
                                            break;
                                        case"num2":
                                            f > 9 && (n = 2)
                                    }
                                    e.className = "list-" + c[i] + f + " list-" + i + "-paddingleft-" + n
                                } else e.className = "list-" + c[i] + " list-" + i + "-paddingleft"
                            } else e.className = e.className.replace(/list-[\w\-]+/gi, "");
                            var r = e.getAttribute("class");
                            null === r || r.replace(/\s/g, "") || domUtils.removeAttributes(e, "class")
                        }
                    }), !n && i(o, o.tagName.toLowerCase(), t(o) || domUtils.getStyle(o, "list-style-type"), !0)
                }
            })
        }

        function i(e, i, r, o) {
            var a = e.nextSibling;
            a && 1 == a.nodeType && a.tagName.toLowerCase() == i && (t(a) || domUtils.getStyle(a, "list-style-type") || ("ol" == i ? "decimal" : "disc")) == r && (domUtils.moveChild(a, e), 0 == a.childNodes.length && domUtils.remove(a)), a && domUtils.isFillChar(a) && domUtils.remove(a);
            var s = e.previousSibling;
            s && 1 == s.nodeType && s.tagName.toLowerCase() == i && (t(s) || domUtils.getStyle(s, "list-style-type") || ("ol" == i ? "decimal" : "disc")) == r && domUtils.moveChild(e, s), s && domUtils.isFillChar(s) && domUtils.remove(s), !o && domUtils.isEmptyBlock(e) && domUtils.remove(e), t(e) && n(e.ownerDocument, !0)
        }

        function r(e, t) {
            c[t] && (e.className = "custom_" + t);
            try {
                domUtils.setStyle(e, "list-style-type", t)
            } catch (e) {
            }
        }

        function o(e) {
            var t = e.previousSibling;
            t && domUtils.isEmptyBlock(t) && domUtils.remove(t), t = e.nextSibling, t && domUtils.isEmptyBlock(t) && domUtils.remove(t)
        }

        function a(e) {
            for (; e && !domUtils.isBody(e);) {
                if ("TABLE" == e.nodeName)return null;
                if ("LI" == e.nodeName)return e;
                e = e.parentNode
            }
        }

        var s = this, l = {TD: 1, PRE: 1, BLOCKQUOTE: 1}, c = {
            cn: "cn-1-",
            cn1: "cn-2-",
            cn2: "cn-3-",
            num: "num-1-",
            num1: "num-2-",
            num2: "num-3-",
            dash: "dash",
            dot: "dot"
        };
        s.setOpt({
            insertorderedlist: {
                num: "",
                num1: "",
                num2: "",
                cn: "",
                cn1: "",
                cn2: "",
                decimal: "",
                "lower-alpha": "",
                "lower-roman": "",
                "upper-alpha": "",
                "upper-roman": ""
            },
            insertunorderedlist: {circle: "", disc: "", square: "", dash: "", dot: ""},
            listDefaultPaddingLeft: "30",
            listiconpath: "http://bs.baidu.com/listicon/",
            maxListLevel: -1
        });
        var d = {OL: e(s.options.insertorderedlist), UL: e(s.options.insertunorderedlist)}, u = s.options.listiconpath;
        for (var f in c)s.options.insertorderedlist.hasOwnProperty(f) || s.options.insertunorderedlist.hasOwnProperty(f) || delete c[f];
        s.ready(function () {
            var e = [];
            for (var t in c) {
                if ("dash" == t || "dot" == t)e.push("li.list-" + c[t] + "{background-image:url(" + u + c[t] + ".gif)}"), e.push("ul.custom_" + t + "{list-style:none;}ul.custom_" + t + " li{background-position:0 3px;background-repeat:no-repeat}"); else {
                    for (var n = 0; n < 99; n++)e.push("li.list-" + c[t] + n + "{background-image:url(" + u + "list-" + c[t] + n + ".gif)}");
                    e.push("ol.custom_" + t + "{list-style:none;}ol.custom_" + t + " li{background-position:0 3px;background-repeat:no-repeat}")
                }
                switch (t) {
                    case"cn":
                        e.push("li.list-" + t + "-paddingleft-1{padding-left:25px}"), e.push("li.list-" + t + "-paddingleft-2{padding-left:40px}"), e.push("li.list-" + t + "-paddingleft-3{padding-left:55px}");
                        break;
                    case"cn1":
                        e.push("li.list-" + t + "-paddingleft-1{padding-left:30px}"), e.push("li.list-" + t + "-paddingleft-2{padding-left:40px}"), e.push("li.list-" + t + "-paddingleft-3{padding-left:55px}");
                        break;
                    case"cn2":
                        e.push("li.list-" + t + "-paddingleft-1{padding-left:40px}"), e.push("li.list-" + t + "-paddingleft-2{padding-left:55px}"), e.push("li.list-" + t + "-paddingleft-3{padding-left:68px}");
                        break;
                    case"num":
                    case"num1":
                        e.push("li.list-" + t + "-paddingleft-1{padding-left:25px}");
                        break;
                    case"num2":
                        e.push("li.list-" + t + "-paddingleft-1{padding-left:35px}"), e.push("li.list-" + t + "-paddingleft-2{padding-left:40px}");
                        break;
                    case"dash":
                        e.push("li.list-" + t + "-paddingleft{padding-left:35px}");
                        break;
                    case"dot":
                        e.push("li.list-" + t + "-paddingleft{padding-left:20px}")
                }
            }
            e.push(".list-paddingleft-1{padding-left:0}"), e.push(".list-paddingleft-2{padding-left:" + s.options.listDefaultPaddingLeft + "px}"), e.push(".list-paddingleft-3{padding-left:" + 2 * s.options.listDefaultPaddingLeft + "px}"), utils.cssRule("list", "ol,ul{margin:0;pading:0;" + (browser.ie ? "" : "width:95%") + "}li{clear:both;}" + e.join("\n"), s.document)
        }), s.ready(function () {
            domUtils.on(s.body, "cut", function () {
                setTimeout(function () {
                    var e, t = s.selection.getRange();
                    if ((e = domUtils.findParentByTagName(t.startContainer, "li", !0)) && !e.nextSibling && domUtils.isEmptyBlock(e)) {
                        var n, i = e.parentNode;
                        if (n = i.previousSibling)domUtils.remove(i), t.setStartAtLast(n).collapse(!0), t.select(!0); else if (n = i.nextSibling)domUtils.remove(i), t.setStartAtFirst(n).collapse(!0), t.select(!0); else {
                            var r = s.document.createElement("p");
                            domUtils.fillNode(s.document, r), i.parentNode.insertBefore(r, i), domUtils.remove(i), t.setStart(r, 0).collapse(!0), t.select(!0)
                        }
                    }
                })
            })
        }), s.addListener("beforepaste", function (e, n) {
            var i, r = this, o = r.selection.getRange(), a = UE.htmlparser(n.html, !0);
            if (i = domUtils.findParentByTagName(o.startContainer, "li", !0)) {
                var s = i.parentNode, l = "OL" == s.tagName ? "ul" : "ol";
                utils.each(a.getNodesByTagName(l), function (n) {
                    if (n.tagName = s.tagName, n.setAttr(), n.parentNode === a)e = t(s) || ("OL" == s.tagName ? "decimal" : "disc"); else {
                        var i = n.parentNode.getAttr("class");
                        e = i && /custom_/.test(i) ? i.match(/custom_(\w+)/)[1] : n.parentNode.getStyle("list-style-type"), e || (e = "OL" == s.tagName ? "decimal" : "disc")
                    }
                    var r = utils.indexOf(d[s.tagName], e);
                    n.parentNode !== a && (r = r + 1 == d[s.tagName].length ? 0 : r + 1);
                    var o = d[s.tagName][r];
                    c[o] ? n.setAttr("class", "custom_" + o) : n.setStyle("list-style-type", o)
                })
            }
            n.html = a.toHtml()
        }), s.addInputRule(function (e) {
            function t(e, t) {
                var r = t.firstChild();
                if (r && "element" == r.type && "span" == r.tagName && /Wingdings|Symbol/.test(r.getStyle("font-family"))) {
                    for (var o in i)if (i[o] == r.data)return o;
                    return "disc"
                }
                for (var o in n)if (n[o].test(e))return o
            }

            utils.each(e.getNodesByTagName("li"), function (e) {
                for (var t, n = UE.uNode.createElement("p"), i = 0; t = e.children[i];)"text" == t.type || dtd.p[t.tagName] ? n.appendChild(t) : n.firstChild() ? (e.insertBefore(n, t), n = UE.uNode.createElement("p"), i += 2) : i++;
                (n.firstChild() && !n.parentNode || !e.firstChild()) && e.appendChild(n)
            });
            var n = {
                num1: /^\d+\)/,
                decimal: /^\d+\./,
                "lower-alpha": /^[a-z]+\)/,
                "upper-alpha": /^[A-Z]+\./,
                cn: /^[\u4E00\u4E8C\u4E09\u56DB\u516d\u4e94\u4e03\u516b\u4e5d]+[\u3001]/,
                cn2: /^\([\u4E00\u4E8C\u4E09\u56DB\u516d\u4e94\u4e03\u516b\u4e5d]+\)/
            }, i = {square: "n"};
            utils.each(e.getNodesByTagName("p"), function (e) {
                function i(e, t, i) {
                    "ol" == e.tagName ? t.innerHTML(t.innerHTML().replace(n[i], "")) : t.removeChild(t.firstChild());
                    var r = UE.uNode.createElement("li");
                    r.appendChild(t), e.appendChild(r)
                }

                if ("MsoListParagraph" == e.getAttr("class")) {
                    e.setAttr("class", "");
                    var r, o = e;
                    if ("li" != e.parentNode.tagName && (r = t(e.innerText(), e))) {
                        var a = UE.uNode.createElement(s.options.insertorderedlist.hasOwnProperty(r) ? "ol" : "ul");
                        for (c[r] ? a.setAttr("class", "custom_" + r) : a.setStyle("list-style-type", r); e && "li" != e.parentNode.tagName && t(e.innerText(), e);)o = e.nextSibling(), o || e.parentNode.insertBefore(a, e), i(a, e, r), e = o;
                        !a.parentNode && e && e.parentNode && e.parentNode.insertBefore(a, e)
                    }
                }
            })
        }), s.addListener("contentchange", function () {
            n(s.document)
        }), s.addListener("keydown", function (e, t) {
            function n() {
                t.preventDefault ? t.preventDefault() : t.returnValue = !1, s.fireEvent("contentchange"), s.undoManger && s.undoManger.save()
            }

            function i(e, t) {
                for (; e && !domUtils.isBody(e);) {
                    if (t(e))return null;
                    if (1 == e.nodeType && /[ou]l/i.test(e.tagName))return e;
                    e = e.parentNode
                }
                return null
            }

            var r = t.keyCode || t.which;
            if (13 == r && !t.shiftKey) {
                var a = s.selection.getRange(), l = domUtils.findParent(a.startContainer, function (e) {
                    return domUtils.isBlockElm(e)
                }, !0), c = domUtils.findParentByTagName(a.startContainer, "li", !0);
                if (l && "PRE" != l.tagName && !c) {
                    var d = l.innerHTML.replace(new RegExp(domUtils.fillChar, "g"), "");
                    /^\s*1\s*\.[^\d]/.test(d) && (l.innerHTML = d.replace(/^\s*1\s*\./, ""), a.setStartAtLast(l).collapse(!0).select(), s.__hasEnterExecCommand = !0, s.execCommand("insertorderedlist"), s.__hasEnterExecCommand = !1)
                }
                var u = s.selection.getRange(), f = i(u.startContainer, function (e) {
                    return "TABLE" == e.tagName
                }), h = u.collapsed ? f : i(u.endContainer, function (e) {
                    return "TABLE" == e.tagName
                });
                if (f && h && f === h) {
                    if (!u.collapsed) {
                        if (f = domUtils.findParentByTagName(u.startContainer, "li", !0), h = domUtils.findParentByTagName(u.endContainer, "li", !0), !f || !h || f !== h) {
                            var p = u.cloneRange(), m = p.collapse(!1).createBookmark();
                            u.deleteContents(), p.moveToBookmark(m);
                            var c = domUtils.findParentByTagName(p.startContainer, "li", !0);
                            return o(c), p.select(), void n()
                        }
                        if (u.deleteContents(), c = domUtils.findParentByTagName(u.startContainer, "li", !0), c && domUtils.isEmptyBlock(c))return C = c.previousSibling, next = c.nextSibling, y = s.document.createElement("p"), domUtils.fillNode(s.document, y), g = c.parentNode, C && next ? (u.setStart(next, 0).collapse(!0).select(!0), domUtils.remove(c)) : ((C || next) && C ? c.parentNode.parentNode.insertBefore(y, g.nextSibling) : g.parentNode.insertBefore(y, g), domUtils.remove(c), g.firstChild || domUtils.remove(g), u.setStart(y, 0).setCursor()), void n()
                    }
                    if (c = domUtils.findParentByTagName(u.startContainer, "li", !0)) {
                        if (domUtils.isEmptyBlock(c)) {
                            m = u.createBookmark();
                            var g = c.parentNode;
                            if (c !== g.lastChild ? (domUtils.breakParent(c, g), o(c)) : (g.parentNode.insertBefore(c, g.nextSibling), domUtils.isEmptyNode(g) && domUtils.remove(g)), !dtd.$list[c.parentNode.tagName])if (domUtils.isBlockElm(c.firstChild))domUtils.remove(c, !0); else {
                                for (y = s.document.createElement("p"), c.parentNode.insertBefore(y, c); c.firstChild;)y.appendChild(c.firstChild);
                                domUtils.remove(c)
                            }
                            u.moveToBookmark(m).select()
                        } else {
                            var v = c.firstChild;
                            if (!v || !domUtils.isBlockElm(v)) {
                                var y = s.document.createElement("p");
                                for (!c.firstChild && domUtils.fillNode(s.document, y); c.firstChild;)y.appendChild(c.firstChild);
                                c.appendChild(y), v = y
                            }
                            var b = s.document.createElement("span");
                            u.insertNode(b), domUtils.breakParent(b, c);
                            var w = b.nextSibling;
                            v = w.firstChild, v || (y = s.document.createElement("p"), domUtils.fillNode(s.document, y), w.appendChild(y), v = y), domUtils.isEmptyNode(v) && (v.innerHTML = "", domUtils.fillNode(s.document, v)), u.setStart(v, 0).collapse(!0).shrinkBoundary().select(), domUtils.remove(b);
                            var C = w.previousSibling;
                            C && domUtils.isEmptyBlock(C) && (C.innerHTML = "<p></p>", domUtils.fillNode(s.document, C.firstChild))
                        }
                        n()
                    }
                }
            }
            if (8 == r && (u = s.selection.getRange(), u.collapsed && domUtils.isStartInblock(u) && (p = u.cloneRange().trimBoundary(), c = domUtils.findParentByTagName(u.startContainer, "li", !0), c && domUtils.isStartInblock(p)))) {
                if (f = domUtils.findParentByTagName(u.startContainer, "p", !0), f && f !== c.firstChild) {
                    var g = domUtils.findParentByTagName(f, ["ol", "ul"]);
                    return domUtils.breakParent(f, g), o(f), s.fireEvent("contentchange"), u.setStart(f, 0).setCursor(!1, !0), s.fireEvent("saveScene"), void domUtils.preventDefault(t)
                }
                if (c && (C = c.previousSibling)) {
                    if (46 == r && c.childNodes.length)return;
                    if (dtd.$list[C.tagName] && (C = C.lastChild), s.undoManger && s.undoManger.save(), v = c.firstChild, domUtils.isBlockElm(v))if (domUtils.isEmptyNode(v))for (C.appendChild(v), u.setStart(v, 0).setCursor(!1, !0); c.firstChild;)C.appendChild(c.firstChild); else b = s.document.createElement("span"), u.insertNode(b), domUtils.isEmptyBlock(C) && (C.innerHTML = ""), domUtils.moveChild(c, C), u.setStartBefore(b).collapse(!0).select(!0), domUtils.remove(b); else if (domUtils.isEmptyNode(c)) {
                        var y = s.document.createElement("p");
                        C.appendChild(y), u.setStart(y, 0).setCursor()
                    } else for (u.setEnd(C, C.childNodes.length).collapse().select(!0); c.firstChild;)C.appendChild(c.firstChild);
                    return domUtils.remove(c), s.fireEvent("contentchange"), s.fireEvent("saveScene"), void domUtils.preventDefault(t)
                }
                if (c && !c.previousSibling) {
                    var g = c.parentNode, m = u.createBookmark();
                    if (domUtils.isTagNode(g.parentNode, "ol ul"))g.parentNode.insertBefore(c, g), domUtils.isEmptyNode(g) && domUtils.remove(g); else {
                        for (; c.firstChild;)g.parentNode.insertBefore(c.firstChild, g);
                        domUtils.remove(c), domUtils.isEmptyNode(g) && domUtils.remove(g)
                    }
                    return u.moveToBookmark(m).setCursor(!1, !0), s.fireEvent("contentchange"), s.fireEvent("saveScene"), void domUtils.preventDefault(t)
                }
            }
        }), s.addListener("keyup", function (e, n) {
            var r = n.keyCode || n.which;
            if (8 == r) {
                var o, a = s.selection.getRange();
                (o = domUtils.findParentByTagName(a.startContainer, ["ol", "ul"], !0)) && i(o, o.tagName.toLowerCase(), t(o) || domUtils.getComputedStyle(o, "list-style-type"), !0)
            }
        }), s.addListener("tabkeydown", function () {
            function e(e) {
                if (s.options.maxListLevel != -1) {
                    for (var t = e.parentNode, n = 0; /[ou]l/i.test(t.tagName);)n++, t = t.parentNode;
                    if (n >= s.options.maxListLevel)return !0
                }
            }

            var n = s.selection.getRange(), o = domUtils.findParentByTagName(n.startContainer, "li", !0);
            if (o) {
                var a;
                if (!n.collapsed) {
                    s.fireEvent("saveScene"), a = n.createBookmark();
                    for (var l, c, u = 0, f = domUtils.findParents(o); c = f[u++];)if (domUtils.isTagNode(c, "ol ul")) {
                        l = c;
                        break
                    }
                    var h = o;
                    if (a.end)for (; h && !(domUtils.getPosition(h, a.end) & domUtils.POSITION_FOLLOWING);)if (e(h))h = domUtils.getNextDomNode(h, !1, null, function (e) {
                        return e !== l
                    }); else {
                        var p = h.parentNode, m = s.document.createElement(p.tagName), g = utils.indexOf(d[m.tagName], t(p) || domUtils.getComputedStyle(p, "list-style-type")), v = g + 1 == d[m.tagName].length ? 0 : g + 1, y = d[m.tagName][v];
                        for (r(m, y), p.insertBefore(m, h); h && !(domUtils.getPosition(h, a.end) & domUtils.POSITION_FOLLOWING);) {
                            if (o = h.nextSibling, m.appendChild(h), !o || domUtils.isTagNode(o, "ol ul")) {
                                if (o)for (; (o = o.firstChild) && "LI" != o.tagName;); else o = domUtils.getNextDomNode(h, !1, null, function (e) {
                                    return e !== l
                                });
                                break
                            }
                            h = o
                        }
                        i(m, m.tagName.toLowerCase(), y), h = o
                    }
                    return s.fireEvent("contentchange"), n.moveToBookmark(a).select(), !0
                }
                if (e(o))return !0;
                var p = o.parentNode, m = s.document.createElement(p.tagName), g = utils.indexOf(d[m.tagName], t(p) || domUtils.getComputedStyle(p, "list-style-type"));
                g = g + 1 == d[m.tagName].length ? 0 : g + 1;
                var y = d[m.tagName][g];
                if (r(m, y), domUtils.isStartInblock(n))return s.fireEvent("saveScene"), a = n.createBookmark(), p.insertBefore(m, o), m.appendChild(o), i(m, m.tagName.toLowerCase(), y), s.fireEvent("contentchange"), n.moveToBookmark(a).select(!0), !0
            }
        }), s.commands.insertorderedlist = s.commands.insertunorderedlist = {
            execCommand: function (e, n) {
                n || (n = "insertorderedlist" == e.toLowerCase() ? "decimal" : "disc");
                var o = this, s = this.selection.getRange(), c = function (e) {
                    return 1 == e.nodeType ? "br" != e.tagName.toLowerCase() : !domUtils.isWhitespace(e)
                }, d = "insertorderedlist" == e.toLowerCase() ? "ol" : "ul", u = o.document.createDocumentFragment();
                s.adjustmentBoundary().shrinkBoundary();
                var f, h, p, m, g = s.createBookmark(!0), v = a(o.document.getElementById(g.start)), y = 0, b = a(o.document.getElementById(g.end)), w = 0;
                if (v || b) {
                    if (v && (f = v.parentNode), g.end || (b = v), b && (h = b.parentNode), f === h) {
                        for (; v !== b;) {
                            if (m = v, v = v.nextSibling, !domUtils.isBlockElm(m.firstChild)) {
                                for (var C = o.document.createElement("p"); m.firstChild;)C.appendChild(m.firstChild);
                                m.appendChild(C)
                            }
                            u.appendChild(m)
                        }
                        if (m = o.document.createElement("span"), f.insertBefore(m, b), !domUtils.isBlockElm(b.firstChild)) {
                            for (C = o.document.createElement("p"); b.firstChild;)C.appendChild(b.firstChild);
                            b.appendChild(C)
                        }
                        u.appendChild(b), domUtils.breakParent(m, f), domUtils.isEmptyNode(m.previousSibling) && domUtils.remove(m.previousSibling), domUtils.isEmptyNode(m.nextSibling) && domUtils.remove(m.nextSibling);
                        var x = t(f) || domUtils.getComputedStyle(f, "list-style-type") || ("insertorderedlist" == e.toLowerCase() ? "decimal" : "disc");
                        if (f.tagName.toLowerCase() == d && x == n) {
                            for (var $, N = 0, T = o.document.createDocumentFragment(); $ = u.childNodes[N++];)if (domUtils.isTagNode($, "ol ul"))utils.each(domUtils.getElementsByTagName($, "li"), function (e) {
                                for (; e.firstChild;)T.appendChild(e.firstChild)
                            }); else for (; $.firstChild;)T.appendChild($.firstChild);
                            m.parentNode.insertBefore(T, m)
                        } else p = o.document.createElement(d), r(p, n), p.appendChild(u), m.parentNode.insertBefore(p, m);
                        return domUtils.remove(m), p && i(p, d, n), void s.moveToBookmark(g).select()
                    }
                    if (v) {
                        for (; v;) {
                            if (m = v.nextSibling, domUtils.isTagNode(v, "ol ul"))u.appendChild(v); else {
                                for (var k = o.document.createDocumentFragment(), E = 0; v.firstChild;)domUtils.isBlockElm(v.firstChild) && (E = 1), k.appendChild(v.firstChild);
                                if (E)u.appendChild(k); else {
                                    var S = o.document.createElement("p");
                                    S.appendChild(k), u.appendChild(S)
                                }
                                domUtils.remove(v)
                            }
                            v = m
                        }
                        f.parentNode.insertBefore(u, f.nextSibling), domUtils.isEmptyNode(f) ? (s.setStartBefore(f), domUtils.remove(f)) : s.setStartAfter(f), y = 1
                    }
                    if (b && domUtils.inDoc(h, o.document)) {
                        for (v = h.firstChild; v && v !== b;) {
                            if (m = v.nextSibling, domUtils.isTagNode(v, "ol ul"))u.appendChild(v); else {
                                for (k = o.document.createDocumentFragment(), E = 0; v.firstChild;)domUtils.isBlockElm(v.firstChild) && (E = 1), k.appendChild(v.firstChild);
                                E ? u.appendChild(k) : (S = o.document.createElement("p"), S.appendChild(k), u.appendChild(S)), domUtils.remove(v)
                            }
                            v = m
                        }
                        var U = domUtils.createElement(o.document, "div", {tmpDiv: 1});
                        domUtils.moveChild(b, U), u.appendChild(U), domUtils.remove(b), h.parentNode.insertBefore(u, h), s.setEndBefore(h), domUtils.isEmptyNode(h) && domUtils.remove(h), w = 1
                    }
                }
                y || s.setStartBefore(o.document.getElementById(g.start)), g.end && !w && s.setEndAfter(o.document.getElementById(g.end)), s.enlarge(!0, function (e) {
                    return l[e.tagName]
                }), u = o.document.createDocumentFragment();
                for (var D, A = s.createBookmark(), B = domUtils.getNextDomNode(A.start, !1, c), _ = s.cloneRange(), M = domUtils.isBlockElm; B && B !== A.end && domUtils.getPosition(B, A.end) & domUtils.POSITION_PRECEDING;)if (3 == B.nodeType || dtd.li[B.tagName]) {
                    if (1 == B.nodeType && dtd.$list[B.tagName]) {
                        for (; B.firstChild;)u.appendChild(B.firstChild);
                        D = domUtils.getNextDomNode(B, !1, c), domUtils.remove(B), B = D;
                        continue
                    }
                    for (D = B, _.setStartBefore(B); B && B !== A.end && (!M(B) || domUtils.isBookmarkNode(B));)D = B, B = domUtils.getNextDomNode(B, !1, null, function (e) {
                        return !l[e.tagName]
                    });
                    B && M(B) && (m = domUtils.getNextDomNode(D, !1, c), m && domUtils.isBookmarkNode(m) && (B = domUtils.getNextDomNode(m, !1, c), D = m)), _.setEndAfter(D), B = domUtils.getNextDomNode(D, !1, c);
                    var I = s.document.createElement("li");
                    if (I.appendChild(_.extractContents()), domUtils.isEmptyNode(I)) {
                        for (var D = s.document.createElement("p"); I.firstChild;)D.appendChild(I.firstChild);
                        I.appendChild(D)
                    }
                    u.appendChild(I)
                } else B = domUtils.getNextDomNode(B, !0, c);
                s.moveToBookmark(A).collapse(!0), p = o.document.createElement(d), r(p, n), p.appendChild(u), s.insertNode(p), i(p, d, n);
                for (var $, N = 0, L = domUtils.getElementsByTagName(p, "div"); $ = L[N++];)$.getAttribute("tmpDiv") && domUtils.remove($, !0);
                s.moveToBookmark(g).select()
            }, queryCommandState: function (e) {
                for (var t, n = "insertorderedlist" == e.toLowerCase() ? "ol" : "ul", i = this.selection.getStartElementPath(), r = 0; t = i[r++];) {
                    if ("TABLE" == t.nodeName)return 0;
                    if (n == t.nodeName.toLowerCase())return 1
                }
                return 0
            }, queryCommandValue: function (e) {
                for (var n, i, r = "insertorderedlist" == e.toLowerCase() ? "ol" : "ul", o = this.selection.getStartElementPath(), a = 0; i = o[a++];) {
                    if ("TABLE" == i.nodeName) {
                        n = null;
                        break
                    }
                    if (r == i.nodeName.toLowerCase()) {
                        n = i;
                        break
                    }
                }
                return n ? t(n) || domUtils.getComputedStyle(n, "list-style-type") : null
            }
        }
    }, function () {
        var e = {
            textarea: function (e, t) {
                var n = t.ownerDocument.createElement("textarea");
                return n.style.cssText = "position:absolute;resize:none;width:100%;height:100%;border:0;padding:0;margin:0;overflow-y:auto;", browser.ie && browser.version < 8 && (n.style.width = t.offsetWidth + "px", n.style.height = t.offsetHeight + "px", t.onresize = function () {
                    n.style.width = t.offsetWidth + "px", n.style.height = t.offsetHeight + "px"
                }), t.appendChild(n), {
                    setContent: function (e) {
                        n.value = e
                    }, getContent: function () {
                        return n.value
                    }, select: function () {
                        var e;
                        browser.ie ? (e = n.createTextRange(), e.collapse(!0), e.select()) : (n.setSelectionRange(0, 0), n.focus())
                    }, dispose: function () {
                        t.removeChild(n), t.onresize = null, n = null, t = null
                    }
                }
            }, codemirror: function (e, t) {
                var n = window.CodeMirror(t, {
                    mode: "text/html",
                    tabMode: "indent",
                    lineNumbers: !0,
                    lineWrapping: !0
                }), i = n.getWrapperElement();
                return i.style.cssText = 'position:absolute;left:0;top:0;width:100%;height:100%;font-family:consolas,"Courier new",monospace;font-size:13px;', n.getScrollerElement().style.cssText = "position:absolute;left:0;top:0;width:100%;height:100%;", n.refresh(), {
                    getCodeMirror: function () {
                        return n
                    }, setContent: function (e) {
                        n.setValue(e)
                    }, getContent: function () {
                        return n.getValue()
                    }, select: function () {
                        n.focus()
                    }, dispose: function () {
                        t.removeChild(i), i = null, n = null
                    }
                }
            }
        };
        UE.plugins.source = function () {
            function t(t) {
                return e["codemirror" == r.sourceEditor && window.CodeMirror ? "codemirror" : "textarea"](i, t)
            }

            var n, i = this, r = this.options, o = !1;
            r.sourceEditor = browser.ie ? "textarea" : r.sourceEditor || "codemirror", i.setOpt({sourceEditorFirst: !1});
            var a, s, l = i.getContent;
            i.commands.source = {
                execCommand: function () {
                    if (o = !o) {
                        s = i.selection.getRange().createAddress(!1, !0), i.undoManger && i.undoManger.save(!0), browser.gecko && (i.body.contentEditable = !1), a = i.iframe.style.cssText, i.iframe.style.cssText += "position:absolute;left:-32768px;top:-32768px;", i.fireEvent("beforegetcontent");
                        var e = UE.htmlparser(i.body.innerHTML, !0);
                        i.filterOutputRule(e), e.traversal(function (e) {
                            if ("element" == e.type)switch (e.tagName) {
                                case"td":
                                case"th":
                                case"caption":
                                    e.children && 1 == e.children.length && "br" == e.firstChild().tagName && e.removeChild(e.firstChild());
                                    break;
                                case"pre":
                                    e.innerText(e.innerText().replace(/&nbsp;/g, " "))
                            }
                        }), i.fireEvent("aftergetcontent");
                        var r = e.toHtml(!0);
                        n = t(i.iframe.parentNode), n.setContent(r), setTimeout(function () {
                            n.select(), i.addListener("fullscreenchanged", function () {
                                try {
                                    n.getCodeMirror().refresh()
                                } catch (e) {
                                }
                            })
                        }), i.getContent = function () {
                            return n.getContent() || "<p>" + (browser.ie ? "" : "<br/>") + "</p>"
                        }
                    } else {
                        i.iframe.style.cssText = a;
                        var c = n.getContent() || "<p>" + (browser.ie ? "" : "<br/>") + "</p>";
                        i.setContent(c), n.dispose(), n = null, i.getContent = l;
                        var d = i.body.firstChild;
                        if (d || (i.body.innerHTML = "<p>" + (browser.ie ? "" : "<br/>") + "</p>", d = i.body.firstChild), i.undoManger && i.undoManger.save(!0), browser.gecko) {
                            var u = document.createElement("input");
                            u.style.cssText = "position:absolute;left:0;top:-32768px", document.body.appendChild(u), i.body.contentEditable = !1, setTimeout(function () {
                                domUtils.setViewportOffset(u, {
                                    left: -32768,
                                    top: 0
                                }), u.focus(), setTimeout(function () {
                                    i.body.contentEditable = !0, i.selection.getRange().moveToAddress(s).select(!0), domUtils.remove(u)
                                })
                            })
                        } else try {
                            i.selection.getRange().moveToAddress(s).select(!0)
                        } catch (e) {
                        }
                    }
                    this.fireEvent("sourcemodechanged", o)
                }, queryCommandState: function () {
                    return 0 | o
                }, notNeedUndo: 1
            };
            var c = i.queryCommandState;
            i.queryCommandState = function (e) {
                return e = e.toLowerCase(), o ? e in {source: 1, fullscreen: 1} ? 1 : -1 : c.apply(this, arguments)
            }, "codemirror" == r.sourceEditor && i.addListener("ready", function () {
                utils.loadFile(document, {
                    src: r.codeMirrorJsUrl || r.UEDITOR_HOME_URL + "third-party/codemirror/codemirror.js",
                    tag: "script",
                    type: "text/javascript",
                    defer: "defer"
                }, function () {
                    r.sourceEditorFirst && setTimeout(function () {
                        i.execCommand("source")
                    }, 0)
                }), utils.loadFile(document, {
                    tag: "link",
                    rel: "stylesheet",
                    type: "text/css",
                    href: r.codeMirrorCssUrl || r.UEDITOR_HOME_URL + "third-party/codemirror/codemirror.css"
                })
            })
        }
    }(), UE.plugins.enterkey = function () {
        var e, t = this, n = t.options.enterTag;
        t.addListener("keyup", function (n, i) {
            var r = i.keyCode || i.which;
            if (13 == r) {
                var o, a = t.selection.getRange(), s = a.startContainer;
                if (browser.ie)t.fireEvent("saveScene", !0, !0); else {
                    if (/h\d/i.test(e)) {
                        if (browser.gecko) {
                            var l = domUtils.findParentByTagName(s, ["h1", "h2", "h3", "h4", "h5", "h6", "blockquote", "caption", "table"], !0);
                            l || (t.document.execCommand("formatBlock", !1, "<p>"), o = 1)
                        } else if (1 == s.nodeType) {
                            var c, d = t.document.createTextNode("");
                            if (a.insertNode(d), c = domUtils.findParentByTagName(d, "div", !0)) {
                                for (var u = t.document.createElement("p"); c.firstChild;)u.appendChild(c.firstChild);
                                c.parentNode.insertBefore(u, c), domUtils.remove(c), a.setStartBefore(d).setCursor(), o = 1
                            }
                            domUtils.remove(d)
                        }
                        t.undoManger && o && t.undoManger.save()
                    }
                    browser.opera && a.select()
                }
            }
        }), t.addListener("keydown", function (i, r) {
            var o = r.keyCode || r.which;
            if (13 == o) {
                if (t.fireEvent("beforeenterkeydown"))return void domUtils.preventDefault(r);
                t.fireEvent("saveScene", !0, !0), e = "";
                var a = t.selection.getRange();
                if (!a.collapsed) {
                    var s = a.startContainer, l = a.endContainer, c = domUtils.findParentByTagName(s, "td", !0), d = domUtils.findParentByTagName(l, "td", !0);
                    if (c && d && c !== d || !c && d || c && !d)return void(r.preventDefault ? r.preventDefault() : r.returnValue = !1)
                }
                if ("p" == n)browser.ie || (s = domUtils.findParentByTagName(a.startContainer, ["ol", "ul", "p", "h1", "h2", "h3", "h4", "h5", "h6", "blockquote", "caption"], !0), s || browser.opera ? (e = s.tagName, "p" == s.tagName.toLowerCase() && browser.gecko && domUtils.removeDirtyAttr(s)) : (t.document.execCommand("formatBlock", !1, "<p>"), browser.gecko && (a = t.selection.getRange(), s = domUtils.findParentByTagName(a.startContainer, "p", !0), s && domUtils.removeDirtyAttr(s)))); else if (r.preventDefault ? r.preventDefault() : r.returnValue = !1, a.collapsed) {
                    f = a.document.createElement("br"), a.insertNode(f);
                    var u = f.parentNode;
                    u.lastChild === f ? (f.parentNode.insertBefore(f.cloneNode(!0), f), a.setStartBefore(f)) : a.setStartAfter(f), a.setCursor()
                } else if (a.deleteContents(), s = a.startContainer, 1 == s.nodeType && (s = s.childNodes[a.startOffset])) {
                    for (; 1 == s.nodeType;) {
                        if (dtd.$empty[s.tagName])return a.setStartBefore(s).setCursor(), t.undoManger && t.undoManger.save(), !1;
                        if (!s.firstChild) {
                            var f = a.document.createElement("br");
                            return s.appendChild(f), a.setStart(s, 0).setCursor(), t.undoManger && t.undoManger.save(), !1
                        }
                        s = s.firstChild
                    }
                    s === a.startContainer.childNodes[a.startOffset] ? (f = a.document.createElement("br"), a.insertNode(f).setCursor()) : a.setStart(s, 0).setCursor()
                } else f = a.document.createElement("br"), a.insertNode(f).setStartAfter(f).setCursor()
            }
        })
    }, UE.plugins.keystrokes = function () {
        var e = this, t = !0;
        e.addListener("keydown", function (n, i) {
            var r = i.keyCode || i.which, o = e.selection.getRange();
            if (!o.collapsed && !(i.ctrlKey || i.shiftKey || i.altKey || i.metaKey) && (r >= 65 && r <= 90 || r >= 48 && r <= 57 || r >= 96 && r <= 111 || {
                    13: 1,
                    8: 1,
                    46: 1
                }[r])) {
                var a = o.startContainer;
                if (domUtils.isFillChar(a) && o.setStartBefore(a), a = o.endContainer, domUtils.isFillChar(a) && o.setEndAfter(a), o.txtToElmBoundary(), o.endContainer && 1 == o.endContainer.nodeType && (a = o.endContainer.childNodes[o.endOffset], a && domUtils.isBr(a) && o.setEndAfter(a)), 0 == o.startOffset && (a = o.startContainer, domUtils.isBoundaryNode(a, "firstChild") && (a = o.endContainer, o.endOffset == (3 == a.nodeType ? a.nodeValue.length : a.childNodes.length) && domUtils.isBoundaryNode(a, "lastChild"))))return e.fireEvent("saveScene"), e.body.innerHTML = "<p>" + (browser.ie ? "" : "<br/>") + "</p>", o.setStart(e.body.firstChild, 0).setCursor(!1, !0), void e._selectionChange()
            }
            if (8 == r) {
                o = e.selection.getRange(), t = o.collapsed;
                var s, l;
                if (o.collapsed && o.inFillChar() && (s = o.startContainer, domUtils.isFillChar(s) ? (o.setStartBefore(s).shrinkBoundary(!0).collapse(!0), domUtils.remove(s)) : (s.nodeValue = s.nodeValue.replace(new RegExp("^" + domUtils.fillChar), ""), o.startOffset--, o.collapse(!0).select(!0))), s = o.getClosedNode())return e.fireEvent("saveScene"), o.setStartBefore(s), domUtils.remove(s), o.setCursor(), e.fireEvent("saveScene"), void domUtils.preventDefault(i);
                if (!browser.ie && (s = domUtils.findParentByTagName(o.startContainer, "table", !0), l = domUtils.findParentByTagName(o.endContainer, "table", !0), s && !l || !s && l || s !== l))return void i.preventDefault()
            }
            if (9 == r) {
                var c = {ol: 1, ul: 1, table: 1};
                if (e.fireEvent("tabkeydown", i))return void domUtils.preventDefault(i);
                var d = e.selection.getRange();
                e.fireEvent("saveScene");
                for (var u = 0, f = "", h = e.options.tabSize || 4, p = e.options.tabNode || "&nbsp;"; u < h; u++)f += p;
                var m = e.document.createElement("span");
                if (m.innerHTML = f + domUtils.fillChar, d.collapsed)d.insertNode(m.cloneNode(!0).firstChild).setCursor(!0); else if (s = domUtils.findParent(d.startContainer, v), l = domUtils.findParent(d.endContainer, v), s && l && s === l)d.deleteContents(), d.insertNode(m.cloneNode(!0).firstChild).setCursor(!0); else {
                    var g = d.createBookmark(), v = function (e) {
                        return domUtils.isBlockElm(e) && !c[e.tagName.toLowerCase()]
                    };
                    d.enlarge(!0);
                    for (var y = d.createBookmark(), b = domUtils.getNextDomNode(y.start, !1, v); b && !(domUtils.getPosition(b, y.end) & domUtils.POSITION_FOLLOWING);)b.insertBefore(m.cloneNode(!0).firstChild, b.firstChild), b = domUtils.getNextDomNode(b, !1, v);
                    d.moveToBookmark(y).moveToBookmark(g).select()
                }
                domUtils.preventDefault(i)
            }
            if (browser.gecko && 46 == r && (d = e.selection.getRange(), d.collapsed && (s = d.startContainer, domUtils.isEmptyBlock(s)))) {
                for (var w = s.parentNode; 1 == domUtils.getChildCount(w) && !domUtils.isBody(w);)s = w, w = w.parentNode;
                return void(s === w.lastChild && i.preventDefault())
            }
        }), e.addListener("keyup", function (e, n) {
            var i, r = n.keyCode || n.which, o = this;
            if (8 == r) {
                if (o.fireEvent("delkeyup"))return;
                if (i = o.selection.getRange(), i.collapsed) {
                    var a, s = ["h1", "h2", "h3", "h4", "h5", "h6"];
                    if ((a = domUtils.findParentByTagName(i.startContainer, s, !0)) && domUtils.isEmptyBlock(a)) {
                        var l = a.previousSibling;
                        if (l && "TABLE" != l.nodeName)return domUtils.remove(a), void i.setStartAtLast(l).setCursor(!1, !0);
                        var c = a.nextSibling;
                        if (c && "TABLE" != c.nodeName)return domUtils.remove(a), void i.setStartAtFirst(c).setCursor(!1, !0)
                    }
                    if (domUtils.isBody(i.startContainer)) {
                        var a = domUtils.createElement(o.document, "p", {innerHTML: browser.ie ? domUtils.fillChar : "<br/>"});
                        i.insertNode(a).setStart(a, 0).setCursor(!1, !0)
                    }
                }
                if (!t && (3 == i.startContainer.nodeType || 1 == i.startContainer.nodeType && domUtils.isEmptyBlock(i.startContainer)))if (browser.ie) {
                    var d = i.document.createElement("span");
                    i.insertNode(d).setStartBefore(d).collapse(!0), i.select(), domUtils.remove(d)
                } else i.select()
            }
        })
    }, UE.plugins.fiximgclick = function () {
        var e = this;
        browser.webkit && e.addListener("click", function (t, n) {
            if ("IMG" == n.target.tagName) {
                var i = new dom.Range(e.document);
                i.selectNode(n.target).select()
            }
        })
    }, UE.plugins.autolink = function () {
        var e = 0;
        if (!browser.ie) {
            var t = this;
            t.addListener("reset", function () {
                e = 0
            }), t.addListener("keydown", function (e, n) {
                var i = n.keyCode || n.which;
                if (32 == i || 13 == i) {
                    for (var r, o, a = t.selection.getNative(), s = a.getRangeAt(0).cloneRange(), l = s.startContainer; 1 == l.nodeType && s.startOffset > 0 && (l = s.startContainer.childNodes[s.startOffset - 1]);)s.setStart(l, 1 == l.nodeType ? l.childNodes.length : l.nodeValue.length), s.collapse(!0), l = s.startContainer;
                    do {
                        if (0 == s.startOffset) {
                            for (l = s.startContainer.previousSibling; l && 1 == l.nodeType;)l = l.lastChild;
                            if (!l || domUtils.isFillChar(l))break;
                            r = l.nodeValue.length
                        } else l = s.startContainer, r = s.startOffset;
                        s.setStart(l, r - 1), o = s.toString().charCodeAt(0)
                    } while (160 != o && 32 != o);
                    if (s.toString().replace(new RegExp(domUtils.fillChar, "g"), "").match(/(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i)) {
                        for (; s.toString().length && !/^(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i.test(s.toString());)try {
                            s.setStart(s.startContainer, s.startOffset + 1)
                        } catch (e) {
                            for (var l = s.startContainer; !(next = l.nextSibling);) {
                                if (domUtils.isBody(l))return;
                                l = l.parentNode
                            }
                            s.setStart(next, 0)
                        }
                        if (domUtils.findParentByTagName(s.startContainer, "a", !0))return;
                        var c, d = t.document.createElement("a"), u = t.document.createTextNode(" ");
                        t.undoManger && t.undoManger.save(), d.appendChild(s.extractContents()), d.href = d.innerHTML = d.innerHTML.replace(/<[^>]+>/g, ""), c = d.getAttribute("href").replace(new RegExp(domUtils.fillChar, "g"), ""), c = /^(?:https?:\/\/)/gi.test(c) ? c : "http://" + c, d.setAttribute("_src", utils.html(c)), d.href = utils.html(c), s.insertNode(d), d.parentNode.insertBefore(u, d.nextSibling), s.setStart(u, 0), s.collapse(!0), a.removeAllRanges(), a.addRange(s), t.undoManger && t.undoManger.save()
                    }
                }
            })
        }
    }, UE.plugins.autoheight = function () {
        function e() {
            var e = this;
            clearTimeout(a), s || (a = setTimeout(function () {
                e.queryCommandState && 1 != e.queryCommandState("source") && (i || (i = e.document.createElement("span"), i.style.cssText = "display:block;width:0;margin:0;padding:0;border:0;clear:both;", i.innerHTML = "."), r = i.cloneNode(!0), e.body.appendChild(r), o = Math.max(domUtils.getXY(r).y + r.offsetHeight, Math.max(c.minFrameHeight, c.initialFrameHeight)), o != l && (e.setHeight(o), l = o), domUtils.remove(r))
            }, 50))
        }

        var t = this;
        if (t.autoHeightEnabled = t.options.autoHeightEnabled !== !1, t.autoHeightEnabled) {
            var n, i, r, o, a, s, l = 0, c = t.options;
            t.addListener("fullscreenchanged", function (e, t) {
                s = t
            }), t.addListener("destroy", function () {
                t.removeListener("contentchange", e), t.removeListener("afterinserthtml", e), t.removeListener("keyup", e), t.removeListener("mouseup", e)
            }), t.enableAutoHeight = function () {
                if (t.autoHeightEnabled) {
                    var i = t.document;
                    t.autoHeightEnabled = !0, n = i.body.style.overflowY, i.body.style.overflowY = "hidden", t.addListener("contentchange", e), t.addListener("afterinserthtml", e), t.addListener("keyup", e), t.addListener("mouseup", e), setTimeout(function () {
                        e.call(this)
                    }, browser.gecko ? 100 : 0), t.fireEvent("autoheightchanged", t.autoHeightEnabled)
                }
            }, t.disableAutoHeight = function () {
                t.body.style.overflowY = n || "", t.removeListener("contentchange", e), t.removeListener("keyup", e), t.removeListener("mouseup", e), t.autoHeightEnabled = !1, t.fireEvent("autoheightchanged", t.autoHeightEnabled)
            }, t.addListener("ready", function () {
                t.enableAutoHeight();
                var n;
                domUtils.on(browser.ie ? t.body : t.document, browser.webkit ? "dragover" : "drop", function () {
                    clearTimeout(n), n = setTimeout(function () {
                        e.call(this)
                    }, 100)
                })
            })
        }
    }, UE.plugins.autofloat = function () {
        function e(e) {
            return e.ui ? 1 : (alert(a.autofloatMsg), 0)
        }

        function t() {
            var e = document.body.style;
            e.backgroundImage = 'url("about:blank")', e.backgroundAttachment = "fixed"
        }

        function n() {
            var e = domUtils.getXY(d), t = domUtils.getComputedStyle(d, "position"), n = domUtils.getComputedStyle(d, "left");
            d.style.width = d.offsetWidth + "px", d.style.zIndex = 1 * o.options.zIndex + 1, d.parentNode.insertBefore(g, d), p || m && browser.ie ? ("absolute" != d.style.position && (d.style.position = "absolute"), d.style.top = (document.body.scrollTop || document.documentElement.scrollTop) - u + l + "px") : (browser.ie7Compat && v && (v = !1, d.style.left = domUtils.getXY(d).x - document.documentElement.getBoundingClientRect().left + 2 + "px"), "fixed" != d.style.position && (d.style.position = "fixed", d.style.top = l + "px", ("absolute" == t || "relative" == t) && parseFloat(n) && (d.style.left = e.x + "px")))
        }

        function i() {
            v = !0, g.parentNode && g.parentNode.removeChild(g), d.style.cssText = c
        }

        function r() {
            var e = f(o.container), t = o.options.toolbarTopOffset || 0;
            e.top < 0 && e.bottom - d.offsetHeight > t ? n() : i()
        }

        var o = this, a = o.getLang();
        o.setOpt({topOffset: 0});
        var s = o.options.autoFloatEnabled !== !1, l = o.options.topOffset;
        if (s) {
            var c, d, u, f, h = UE.ui.uiUtils, p = browser.ie && browser.version <= 6, m = browser.quirks, g = document.createElement("div"), v = !0, y = utils.defer(function () {
                r()
            }, browser.ie ? 200 : 100, !0);
            o.addListener("destroy", function () {
                domUtils.un(window, ["scroll", "resize"], r), o.removeListener("keydown", y)
            }), o.addListener("ready", function () {
                e(o) && (f = h.getClientRect, d = o.ui.getDom("toolbarbox"), u = f(d).top, c = d.style.cssText, g.style.height = d.offsetHeight + "px", p && t(), domUtils.on(window, ["scroll", "resize"], r), o.addListener("keydown", y), o.addListener("beforefullscreenchange", function (e, t) {
                    t && i()
                }), o.addListener("fullscreenchanged", function (e, t) {
                    t || r()
                }), o.addListener("sourcemodechanged", function (e, t) {
                    setTimeout(function () {
                        r()
                    }, 0)
                }), o.addListener("clearDoc", function () {
                    setTimeout(function () {
                        r()
                    }, 0)
                }))
            })
        }
    }, UE.plugins.pasteplain = function () {
        var e = this;
        e.setOpt({
            pasteplain: !1, filterTxtRules: function () {
                function e(e) {
                    e.tagName = "p", e.setStyle()
                }

                return {
                    "-": "script style object iframe embed input select", p: {$: {}}, br: {$: {}}, div: function (e) {
                        for (var t, n = UE.uNode.createElement("p"); t = e.firstChild();)"text" != t.type && UE.dom.dtd.$block[t.tagName] ? n.firstChild() ? (e.parentNode.insertBefore(n, e), n = UE.uNode.createElement("p")) : e.parentNode.insertBefore(t, e) : n.appendChild(t);
                        n.firstChild() && e.parentNode.insertBefore(n, e), e.parentNode.removeChild(e)
                    }, ol: function (e) {
                        e.parentNode.removeChild(e, !0)
                    }, ul: function (e) {
                        e.parentNode.removeChild(e, !0)
                    }, dl: function (e) {
                        e.parentNode.removeChild(e, !0)
                    }, dt: function (e) {
                        e.parentNode.removeChild(e, !0)
                    }, dd: function (e) {
                        e.parentNode.removeChild(e, !0)
                    }, li: function (e) {
                        e.parentNode.removeChild(e, !0)
                    }, caption: e, th: e, tr: e, h1: e, h2: e, h3: e, h4: e, h5: e, h6: e, td: function (e) {
                        var t = !!e.innerText();
                        t && e.parentNode.insertAfter(UE.uNode.createText(" &nbsp; &nbsp;"), e), e.parentNode.removeChild(e, e.innerText())
                    }
                }
            }()
        });
        var t = e.options.pasteplain;
        e.commands.pasteplain = {
            queryCommandState: function () {
                return t ? 1 : 0
            }, execCommand: function () {
                t = 0 | !t
            }, notNeedUndo: 1
        }
    }, UE.plugins.video = function () {
        function e(e, t, i, r, o, a) {
            return a ? '<embed type="application/x-shockwave-flash" class="edui-faked-video" pluginspage="http://www.macromedia.com/go/getflashplayer" src="' + e + '" width="' + t + '" height="' + i + '"' + (o ? ' style="float:' + o + '"' : "") + ' wmode="transparent" play="true" loop="false" menu="false" allowscriptaccess="never" allowfullscreen="true" >' : "<img " + (r ? 'id="' + r + '"' : "") + ' width="' + t + '" height="' + i + '" _url="' + e + '" class="edui-faked-video" src="' + n.options.UEDITOR_HOME_URL + 'themes/default/images/spacer.gif" style="background:url(' + n.options.UEDITOR_HOME_URL + "themes/default/images/videologo.gif) no-repeat center center; border:1px solid gray;" + (o ? "float:" + o + ";" : "") + '" />'
        }

        function t(t, n) {
            utils.each(t.getNodesByTagName(n ? "img" : "embed"), function (t) {
                if ("edui-faked-video" == t.getAttr("class")) {
                    var i = e(n ? t.getAttr("_url") : t.getAttr("src"), t.getAttr("width"), t.getAttr("height"), null, t.getStyle("float") || "", n);
                    t.parentNode.replaceChild(UE.uNode.createElement(i), t)
                }
            })
        }

        var n = this;
        n.addOutputRule(function (e) {
            t(e, !0)
        }), n.addInputRule(function (e) {
            t(e)
        }), n.commands.insertvideo = {
            execCommand: function (t, i) {
                i = utils.isArray(i) ? i : [i];
                for (var r, o = [], a = "tmpVedio", s = 0, l = i.length; s < l; s++)r = i[s], o.push(e(r.url, r.width || 420, r.height || 280, a + s, null, !1));
                n.execCommand("inserthtml", o.join(""), !0);
                for (var c = this.selection.getRange(), s = 0, l = i.length; s < l; s++) {
                    var d = this.document.getElementById("tmpVedio" + s);
                    domUtils.removeAttributes(d, "id"), c.selectNode(d).select(), n.execCommand("imagefloat", i[s].align)
                }
            }, queryCommandState: function () {
                var e = n.selection.getRange().getClosedNode(), t = e && "edui-faked-video" == e.className;
                return t ? 1 : 0
            }
        }
    }, function () {
        function e(e) {
        }

        var t = UE.UETable = function (e) {
            this.table = e, this.indexTable = [], this.selectedTds = [], this.cellsRange = {}, this.update(e)
        };
        t.removeSelectedClass = function (e) {
            utils.each(e, function (e) {
                domUtils.removeClasses(e, "selectTdClass")
            })
        }, t.addSelectedClass = function (e) {
            utils.each(e, function (e) {
                domUtils.addClass(e, "selectTdClass")
            })
        }, t.isEmptyBlock = function (e) {
            var t = new RegExp(domUtils.fillChar, "g");
            if (e[browser.ie ? "innerText" : "textContent"].replace(/^\s*$/, "").replace(t, "").length > 0)return 0;
            for (var n in dtd.$isNotEmpty)if (dtd.$isNotEmpty.hasOwnProperty(n) && e.getElementsByTagName(n).length)return 0;
            return 1
        }, t.getWidth = function (e) {
            return e ? parseInt(domUtils.getComputedStyle(e, "width"), 10) : 0
        }, t.getTableCellAlignState = function (e) {
            !utils.isArray(e) && (e = [e]);
            var t = {}, n = ["align", "valign"], i = null, r = !0;
            return utils.each(e, function (e) {
                return utils.each(n, function (n) {
                    if (i = e.getAttribute(n), !t[n] && i)t[n] = i; else if (!t[n] || i !== t[n])return r = !1, !1
                }), r
            }), r ? t : null
        }, t.getTableItemsByRange = function (e) {
            var t = e.selection.getStart(), n = t && domUtils.findParentByTagName(t, ["td", "th"], !0), i = n && n.parentNode, r = t && domUtils.findParentByTagName(t, "caption", !0), o = r ? r.parentNode : i && i.parentNode.parentNode;
            return {cell: n, tr: i, table: o, caption: r}
        }, t.getUETableBySelected = function (e) {
            var n = t.getTableItemsByRange(e).table;
            return n && n.ueTable && n.ueTable.selectedTds.length ? n.ueTable : null
        }, t.getDefaultValue = function (e, t) {
            var n, i, r, o, a = {thin: "0px", medium: "1px", thick: "2px"};
            if (t)return s = t.getElementsByTagName("td")[0], o = domUtils.getComputedStyle(t, "border-left-width"), n = parseInt(a[o] || o, 10), o = domUtils.getComputedStyle(s, "padding-left"),
                i = parseInt(a[o] || o, 10), o = domUtils.getComputedStyle(s, "border-left-width"), r = parseInt(a[o] || o, 10), {
                tableBorder: n,
                tdPadding: i,
                tdBorder: r
            };
            t = e.document.createElement("table"), t.insertRow(0).insertCell(0).innerHTML = "xxx", e.body.appendChild(t);
            var s = t.getElementsByTagName("td")[0];
            return o = domUtils.getComputedStyle(t, "border-left-width"), n = parseInt(a[o] || o, 10), o = domUtils.getComputedStyle(s, "padding-left"), i = parseInt(a[o] || o, 10), o = domUtils.getComputedStyle(s, "border-left-width"), r = parseInt(a[o] || o, 10), domUtils.remove(t), {
                tableBorder: n,
                tdPadding: i,
                tdBorder: r
            }
        }, t.getUETable = function (e) {
            var n = e.tagName.toLowerCase();
            return e = "td" == n || "th" == n || "caption" == n ? domUtils.findParentByTagName(e, "table", !0) : e, e.ueTable || (e.ueTable = new t(e)), e.ueTable
        }, t.cloneCell = function (e, t, n) {
            if (!e || utils.isString(e))return this.table.ownerDocument.createElement(e || "td");
            var i = domUtils.hasClass(e, "selectTdClass");
            i && domUtils.removeClasses(e, "selectTdClass");
            var r = e.cloneNode(!0);
            return t && (r.rowSpan = r.colSpan = 1), r.style.borderLeftStyle = "", r.style.borderTopStyle = "", r.style.borderLeftColor = e.style.borderRightColor, r.style.borderLeftWidth = e.style.borderRightWidth, r.style.borderTopColor = e.style.borderBottomColor, r.style.borderTopWidth = e.style.borderBottomWidth, i && domUtils.addClass(e, "selectTdClass"), n && domUtils.removeAttributes(r, "width height"), r
        }, t.prototype = {
            getMaxRows: function () {
                for (var e, t = this.table.rows, n = 1, i = 0; e = t[i]; i++) {
                    for (var r, o = 1, a = 0; r = e.cells[a++];)o = Math.max(r.rowSpan || 1, o);
                    n = Math.max(o + i, n)
                }
                return n
            }, getMaxCols: function () {
                for (var e, t = this.table.rows, n = 0, i = {}, r = 0; e = t[r]; r++) {
                    for (var o, a = 0, s = 0; o = e.cells[s++];)if (a += o.colSpan || 1, o.rowSpan && o.rowSpan > 1)for (var l = 1; l < o.rowSpan; l++)i["row_" + (r + l)] ? i["row_" + (r + l)]++ : i["row_" + (r + l)] = o.colSpan || 1;
                    a += i["row_" + r] || 0, n = Math.max(a, n)
                }
                return n
            }, getCellColIndex: function (e) {
            }, getHSideCell: function (t, n) {
                try {
                    var i, r, o = this.getCellInfo(t), a = this.selectedTds.length, s = this.cellsRange;
                    return !n && (a ? !s.beginColIndex : !o.colIndex) || n && (a ? s.endColIndex == this.colsNum - 1 : o.colIndex == this.colsNum - 1) ? null : (i = a ? s.beginRowIndex : o.rowIndex, r = n ? a ? s.endColIndex + 1 : o.colIndex + 1 : a ? s.beginColIndex - 1 : o.colIndex < 1 ? 0 : o.colIndex - 1, this.getCell(this.indexTable[i][r].rowIndex, this.indexTable[i][r].cellIndex))
                } catch (t) {
                    e(t)
                }
            }, getTabNextCell: function (e, t) {
                var n, i = this.getCellInfo(e), r = t || i.rowIndex, o = i.colIndex + 1 + (i.colSpan - 1);
                try {
                    n = this.getCell(this.indexTable[r][o].rowIndex, this.indexTable[r][o].cellIndex)
                } catch (e) {
                    try {
                        r = 1 * r + 1, o = 0, n = this.getCell(this.indexTable[r][o].rowIndex, this.indexTable[r][o].cellIndex)
                    } catch (e) {
                    }
                }
                return n
            }, getVSideCell: function (t, n, i) {
                try {
                    var r, o, a = this.getCellInfo(t), s = this.selectedTds.length && !i, l = this.cellsRange;
                    return !n && 0 == a.rowIndex || n && (s ? l.endRowIndex == this.rowsNum - 1 : a.rowIndex + a.rowSpan > this.rowsNum - 1) ? null : (r = n ? s ? l.endRowIndex + 1 : a.rowIndex + a.rowSpan : s ? l.beginRowIndex - 1 : a.rowIndex - 1, o = s ? l.beginColIndex : a.colIndex, this.getCell(this.indexTable[r][o].rowIndex, this.indexTable[r][o].cellIndex))
                } catch (t) {
                    e(t)
                }
            }, getSameEndPosCells: function (t, n) {
                try {
                    for (var i = "x" === n.toLowerCase(), r = domUtils.getXY(t)[i ? "x" : "y"] + t["offset" + (i ? "Width" : "Height")], o = this.table.rows, a = null, s = [], l = 0; l < this.rowsNum; l++) {
                        a = o[l].cells;
                        for (var c, d = 0; c = a[d++];) {
                            var u = domUtils.getXY(c)[i ? "x" : "y"] + c["offset" + (i ? "Width" : "Height")];
                            if (u > r && i)break;
                            if ((t == c || r == u) && (1 == c[i ? "colSpan" : "rowSpan"] && s.push(c), i))break
                        }
                    }
                    return s
                } catch (t) {
                    e(t)
                }
            }, setCellContent: function (e, t) {
                e.innerHTML = t || (browser.ie ? domUtils.fillChar : "<br />")
            }, cloneCell: t.cloneCell, getSameStartPosXCells: function (t) {
                try {
                    for (var n, i = domUtils.getXY(t).x + t.offsetWidth, r = this.table.rows, o = [], a = 0; a < this.rowsNum; a++) {
                        n = r[a].cells;
                        for (var s, l = 0; s = n[l++];) {
                            var c = domUtils.getXY(s).x;
                            if (c > i)break;
                            if (c == i && 1 == s.colSpan) {
                                o.push(s);
                                break
                            }
                        }
                    }
                    return o
                } catch (t) {
                    e(t)
                }
            }, update: function (e) {
                this.table = e || this.table, this.selectedTds = [], this.cellsRange = {}, this.indexTable = [];
                for (var t = this.table.rows, n = this.getMaxRows(), i = n - t.length, r = this.getMaxCols(); i--;)this.table.insertRow(t.length);
                this.rowsNum = n, this.colsNum = r;
                for (var o = 0, a = t.length; o < a; o++)this.indexTable[o] = new Array(r);
                for (var s, l = 0; s = t[l]; l++)for (var c, d = 0, u = s.cells; c = u[d]; d++) {
                    c.rowSpan > n && (c.rowSpan = n);
                    for (var f = d, h = c.rowSpan || 1, p = c.colSpan || 1; this.indexTable[l][f];)f++;
                    for (var m = 0; m < h; m++)for (var g = 0; g < p; g++)this.indexTable[l + m][f + g] = {
                        rowIndex: l,
                        cellIndex: d,
                        colIndex: f,
                        rowSpan: h,
                        colSpan: p
                    }
                }
                for (m = 0; m < n; m++)for (g = 0; g < r; g++)void 0 === this.indexTable[m][g] && (s = t[m], c = s.cells[s.cells.length - 1], c = c ? c.cloneNode(!0) : this.table.ownerDocument.createElement("td"), this.setCellContent(c), 1 !== c.colSpan && (c.colSpan = 1), 1 !== c.rowSpan && (c.rowSpan = 1), s.appendChild(c), this.indexTable[m][g] = {
                    rowIndex: m,
                    cellIndex: c.cellIndex,
                    colIndex: g,
                    rowSpan: 1,
                    colSpan: 1
                });
                var v = domUtils.getElementsByTagName(this.table, "td"), y = [];
                if (utils.each(v, function (e) {
                        domUtils.hasClass(e, "selectTdClass") && y.push(e)
                    }), y.length) {
                    var b = y[0], w = y[y.length - 1], C = this.getCellInfo(b), x = this.getCellInfo(w);
                    this.selectedTds = y, this.cellsRange = {
                        beginRowIndex: C.rowIndex,
                        beginColIndex: C.colIndex,
                        endRowIndex: x.rowIndex + x.rowSpan - 1,
                        endColIndex: x.colIndex + x.colSpan - 1
                    }
                }
            }, getCellInfo: function (e) {
                if (e)for (var t = e.cellIndex, n = e.parentNode.rowIndex, i = this.indexTable[n], r = this.colsNum, o = t; o < r; o++) {
                    var a = i[o];
                    if (a.rowIndex === n && a.cellIndex === t)return a
                }
            }, getCell: function (e, t) {
                return e < this.rowsNum && this.table.rows[e].cells[t] || null
            }, deleteCell: function (e, t) {
                t = "number" == typeof t ? t : e.parentNode.rowIndex;
                var n = this.table.rows[t];
                n.deleteCell(e.cellIndex)
            }, getCellsRange: function (e, t) {
                function n(e, t, r, o) {
                    var a, s, l, c = e, d = t, u = r, f = o;
                    if (e > 0)for (s = t; s < o; s++)a = i.indexTable[e][s], l = a.rowIndex, l < e && (c = Math.min(l, c));
                    if (o < i.colsNum)for (l = e; l < r; l++)a = i.indexTable[l][o], s = a.colIndex + a.colSpan - 1, s > o && (f = Math.max(s, f));
                    if (r < i.rowsNum)for (s = t; s < o; s++)a = i.indexTable[r][s], l = a.rowIndex + a.rowSpan - 1, l > r && (u = Math.max(l, u));
                    if (t > 0)for (l = e; l < r; l++)a = i.indexTable[l][t], s = a.colIndex, s < t && (d = Math.min(a.colIndex, d));
                    return c != e || d != t || u != r || f != o ? n(c, d, u, f) : {
                        beginRowIndex: e,
                        beginColIndex: t,
                        endRowIndex: r,
                        endColIndex: o
                    }
                }

                try {
                    var i = this, r = i.getCellInfo(e);
                    if (e === t)return {
                        beginRowIndex: r.rowIndex,
                        beginColIndex: r.colIndex,
                        endRowIndex: r.rowIndex + r.rowSpan - 1,
                        endColIndex: r.colIndex + r.colSpan - 1
                    };
                    var o = i.getCellInfo(t), a = Math.min(r.rowIndex, o.rowIndex), s = Math.min(r.colIndex, o.colIndex), l = Math.max(r.rowIndex + r.rowSpan - 1, o.rowIndex + o.rowSpan - 1), c = Math.max(r.colIndex + r.colSpan - 1, o.colIndex + o.colSpan - 1);
                    return n(a, s, l, c)
                } catch (e) {
                    if (debug)throw e
                }
            }, getCells: function (e) {
                this.clearSelected();
                for (var t, n, i, r = e.beginRowIndex, o = e.beginColIndex, a = e.endRowIndex, s = e.endColIndex, l = {}, c = [], d = r; d <= a; d++)for (var u = o; u <= s; u++) {
                    t = this.indexTable[d][u], n = t.rowIndex, i = t.colIndex;
                    var f = n + "|" + i;
                    if (!l[f]) {
                        if (l[f] = 1, n < d || i < u || n + t.rowSpan - 1 > a || i + t.colSpan - 1 > s)return null;
                        c.push(this.getCell(n, t.cellIndex))
                    }
                }
                return c
            }, clearSelected: function () {
                t.removeSelectedClass(this.selectedTds), this.selectedTds = [], this.cellsRange = {}
            }, setSelected: function (e) {
                var n = this.getCells(e);
                t.addSelectedClass(n), this.selectedTds = n, this.cellsRange = e
            }, isFullRow: function () {
                var e = this.cellsRange;
                return e.endColIndex - e.beginColIndex + 1 == this.colsNum
            }, isFullCol: function () {
                var e = this.cellsRange, t = this.table, n = t.getElementsByTagName("th"), i = e.endRowIndex - e.beginRowIndex + 1;
                return n.length ? i == this.rowsNum || i == this.rowsNum - 1 : i == this.rowsNum
            }, getNextCell: function (t, n, i) {
                try {
                    var r, o, a = this.getCellInfo(t), s = this.selectedTds.length && !i, l = this.cellsRange;
                    return !n && 0 == a.rowIndex || n && (s ? l.endRowIndex == this.rowsNum - 1 : a.rowIndex + a.rowSpan > this.rowsNum - 1) ? null : (r = n ? s ? l.endRowIndex + 1 : a.rowIndex + a.rowSpan : s ? l.beginRowIndex - 1 : a.rowIndex - 1, o = s ? l.beginColIndex : a.colIndex, this.getCell(this.indexTable[r][o].rowIndex, this.indexTable[r][o].cellIndex))
                } catch (t) {
                    e(t)
                }
            }, getPreviewCell: function (t, n) {
                try {
                    var i, r, o = this.getCellInfo(t), a = this.selectedTds.length, s = this.cellsRange;
                    return !n && (a ? !s.beginColIndex : !o.colIndex) || n && (a ? s.endColIndex == this.colsNum - 1 : o.rowIndex > this.colsNum - 1) ? null : (i = n ? a ? s.beginRowIndex : o.rowIndex < 1 ? 0 : o.rowIndex - 1 : a ? s.beginRowIndex : o.rowIndex, r = n ? a ? s.endColIndex + 1 : o.colIndex : a ? s.beginColIndex - 1 : o.colIndex < 1 ? 0 : o.colIndex - 1, this.getCell(this.indexTable[i][r].rowIndex, this.indexTable[i][r].cellIndex))
                } catch (t) {
                    e(t)
                }
            }, moveContent: function (e, n) {
                if (!t.isEmptyBlock(n)) {
                    if (t.isEmptyBlock(e))return void(e.innerHTML = n.innerHTML);
                    var i = e.lastChild;
                    for (3 != i.nodeType && dtd.$block[i.tagName] || e.appendChild(e.ownerDocument.createElement("br")); i = n.firstChild;)e.appendChild(i)
                }
            }, mergeRight: function (e) {
                var t = this.getCellInfo(e), n = t.colIndex + t.colSpan, i = this.indexTable[t.rowIndex][n], r = this.getCell(i.rowIndex, i.cellIndex);
                e.colSpan = t.colSpan + i.colSpan, e.removeAttribute("width"), this.moveContent(e, r), this.deleteCell(r, i.rowIndex), this.update()
            }, mergeDown: function (e) {
                var t = this.getCellInfo(e), n = t.rowIndex + t.rowSpan, i = this.indexTable[n][t.colIndex], r = this.getCell(i.rowIndex, i.cellIndex);
                e.rowSpan = t.rowSpan + i.rowSpan, e.removeAttribute("height"), this.moveContent(e, r), this.deleteCell(r, i.rowIndex), this.update()
            }, mergeRange: function () {
                var e = this.cellsRange, t = this.getCell(e.beginRowIndex, this.indexTable[e.beginRowIndex][e.beginColIndex].cellIndex);
                if ("TH" == t.tagName && e.endRowIndex !== e.beginRowIndex) {
                    var n = this.indexTable, i = this.getCellInfo(t);
                    t = this.getCell(1, n[1][i.colIndex].cellIndex), e = this.getCellsRange(t, this.getCell(n[this.rowsNum - 1][i.colIndex].rowIndex, n[this.rowsNum - 1][i.colIndex].cellIndex))
                }
                for (var r, o = this.getCells(e), a = 0; r = o[a++];)r !== t && (this.moveContent(t, r), this.deleteCell(r));
                if (t.rowSpan = e.endRowIndex - e.beginRowIndex + 1, t.rowSpan > 1 && t.removeAttribute("height"), t.colSpan = e.endColIndex - e.beginColIndex + 1, t.colSpan > 1 && t.removeAttribute("width"), t.rowSpan == this.rowsNum && 1 != t.colSpan && (t.colSpan = 1), t.colSpan == this.colsNum && 1 != t.rowSpan) {
                    var s = t.parentNode.rowIndex;
                    if (this.table.deleteRow)for (var a = s + 1, l = s + 1, c = t.rowSpan; a < c; a++)this.table.deleteRow(l); else for (var a = 0, c = t.rowSpan - 1; a < c; a++) {
                        var d = this.table.rows[s + 1];
                        d.parentNode.removeChild(d)
                    }
                    t.rowSpan = 1
                }
                this.update()
            }, insertRow: function (e, t) {
                var n, i = this.colsNum, r = this.table, o = r.insertRow(e);
                parseInt((r.offsetWidth - 20 * i - i - 1) / i, 10);
                if (0 == e || e == this.rowsNum)for (var a = 0; a < i; a++)n = this.cloneCell(t, !0, !0), this.setCellContent(n), n.getAttribute("vAlign") && n.setAttribute("vAlign", n.getAttribute("vAlign")), o.appendChild(n); else {
                    var s = this.indexTable[e];
                    for (a = 0; a < i; a++) {
                        var l = s[a];
                        l.rowIndex < e ? (n = this.getCell(l.rowIndex, l.cellIndex), n.rowSpan = l.rowSpan + 1) : (n = this.cloneCell(t, !0, !0), this.setCellContent(n), o.appendChild(n))
                    }
                }
                return this.update(), o
            }, deleteRow: function (e) {
                for (var t = this.table.rows[e], n = this.indexTable[e], i = this.colsNum, r = 0, o = 0; o < i;) {
                    var a = n[o], s = this.getCell(a.rowIndex, a.cellIndex);
                    if (s.rowSpan > 1 && a.rowIndex == e) {
                        var l = s.cloneNode(!0);
                        l.rowSpan = s.rowSpan - 1, l.innerHTML = "", s.rowSpan = 1;
                        var c, d = e + 1, u = this.table.rows[d], f = this.getPreviewMergedCellsNum(d, o) - r;
                        f < o ? (c = o - f - 1, domUtils.insertAfter(u.cells[c], l)) : u.cells.length && u.insertBefore(l, u.cells[0]), r += 1
                    }
                    o += s.colSpan || 1
                }
                var h = [], p = {};
                for (o = 0; o < i; o++) {
                    var m = n[o].rowIndex, g = n[o].cellIndex, v = m + "_" + g;
                    p[v] || (p[v] = 1, s = this.getCell(m, g), h.push(s))
                }
                var y = [];
                utils.each(h, function (e) {
                    1 == e.rowSpan ? e.parentNode.removeChild(e) : y.push(e)
                }), utils.each(y, function (e) {
                    e.rowSpan--
                }), t.parentNode.removeChild(t), this.update()
            }, insertCol: function (e, t, n) {
                function i(e, t, n) {
                    if (0 == e) {
                        var i = t.nextSibling || t.previousSibling;
                        "TH" == i.tagName && (i = t.ownerDocument.createElement("th"), i.appendChild(t.firstChild), n.insertBefore(i, t), domUtils.remove(t))
                    } else if ("TH" == t.tagName) {
                        var r = t.ownerDocument.createElement("td");
                        r.appendChild(t.firstChild), n.insertBefore(r, t), domUtils.remove(t)
                    }
                }

                var r, o, a, s = this.rowsNum, l = 0, c = parseInt((this.table.offsetWidth - 20 * (this.colsNum + 1) - (this.colsNum + 1)) / (this.colsNum + 1), 10);
                if (0 == e || e == this.colsNum)for (; l < s; l++)r = this.table.rows[l], a = r.cells[0 == e ? e : r.cells.length], o = this.cloneCell(t, !0), this.setCellContent(o), o.setAttribute("vAlign", o.getAttribute("vAlign")), a && o.setAttribute("width", a.getAttribute("width")), e ? domUtils.insertAfter(r.cells[r.cells.length - 1], o) : r.insertBefore(o, r.cells[0]), i(l, o, r); else for (; l < s; l++) {
                    var d = this.indexTable[l][e];
                    d.colIndex < e ? (o = this.getCell(d.rowIndex, d.cellIndex), o.colSpan = d.colSpan + 1) : (r = this.table.rows[l], a = r.cells[d.cellIndex], o = this.cloneCell(t, !0), this.setCellContent(o), o.setAttribute("vAlign", o.getAttribute("vAlign")), a && o.setAttribute("width", a.getAttribute("width")), r.insertBefore(o, a)), i(l, o, r)
                }
                this.update(), this.updateWidth(c, n || {tdPadding: 10, tdBorder: 1})
            }, updateWidth: function (e, n) {
                var i = this.table, r = t.getWidth(i) - 2 * n.tdPadding - n.tdBorder + e;
                if (r < i.ownerDocument.body.offsetWidth)return void i.setAttribute("width", r);
                var o = domUtils.getElementsByTagName(this.table, "td");
                utils.each(o, function (t) {
                    t.setAttribute("width", e)
                })
            }, deleteCol: function (e) {
                for (var t = this.indexTable, n = this.table.rows, i = this.table.getAttribute("width"), r = 0, o = this.rowsNum, a = {}, s = 0; s < o;) {
                    var l = t[s], c = l[e], d = c.rowIndex + "_" + c.colIndex;
                    if (!a[d]) {
                        a[d] = 1;
                        var u = this.getCell(c.rowIndex, c.cellIndex);
                        r || (r = u && parseInt(u.offsetWidth / u.colSpan, 10).toFixed(0)), u.colSpan > 1 ? u.colSpan-- : n[s].deleteCell(c.cellIndex), s += c.rowSpan || 1
                    }
                }
                this.table.setAttribute("width", i - r), this.update()
            }, splitToCells: function (e) {
                var t = this, n = this.splitToRows(e);
                utils.each(n, function (e) {
                    t.splitToCols(e)
                })
            }, splitToRows: function (e) {
                var t = this.getCellInfo(e), n = t.rowIndex, i = t.colIndex, r = [];
                e.rowSpan = 1, r.push(e);
                for (var o = n, a = n + t.rowSpan; o < a; o++)if (o != n) {
                    var s = this.table.rows[o], l = s.insertCell(i - this.getPreviewMergedCellsNum(o, i));
                    l.colSpan = t.colSpan, this.setCellContent(l), l.setAttribute("vAlign", e.getAttribute("vAlign")), l.setAttribute("align", e.getAttribute("align")), e.style.cssText && (l.style.cssText = e.style.cssText), r.push(l)
                }
                return this.update(), r
            }, getPreviewMergedCellsNum: function (e, t) {
                for (var n = this.indexTable[e], i = 0, r = 0; r < t;) {
                    var o = n[r].colSpan, a = n[r].rowIndex;
                    i += o - (a == e ? 1 : 0), r += o
                }
                return i
            }, splitToCols: function (e) {
                var t = (e.offsetWidth / e.colSpan - 22).toFixed(0), n = this.getCellInfo(e), i = n.rowIndex, r = n.colIndex, o = [];
                e.colSpan = 1, e.setAttribute("width", t), o.push(e);
                for (var a = r, s = r + n.colSpan; a < s; a++)if (a != r) {
                    var l = this.table.rows[i], c = l.insertCell(this.indexTable[i][a].cellIndex + 1);
                    if (c.rowSpan = n.rowSpan, this.setCellContent(c), c.setAttribute("vAlign", e.getAttribute("vAlign")), c.setAttribute("align", e.getAttribute("align")), c.setAttribute("width", t), e.style.cssText && (c.style.cssText = e.style.cssText), "TH" == e.tagName) {
                        var d = e.ownerDocument.createElement("th");
                        d.appendChild(c.firstChild), d.setAttribute("vAlign", e.getAttribute("vAlign")), d.rowSpan = c.rowSpan, l.insertBefore(d, c), domUtils.remove(c)
                    }
                    o.push(c)
                }
                return this.update(), o
            }, isLastCell: function (e, t, n) {
                t = t || this.rowsNum, n = n || this.colsNum;
                var i = this.getCellInfo(e);
                return i.rowIndex + i.rowSpan == t && i.colIndex + i.colSpan == n
            }, getLastCell: function (e) {
                e = e || this.table.getElementsByTagName("td");
                var t, n = (this.getCellInfo(e[0]), this), i = e[0], r = i.parentNode, o = 0, a = 0;
                return utils.each(e, function (e) {
                    e.parentNode == r && (a += e.colSpan || 1), o += e.rowSpan * e.colSpan || 1
                }), t = o / a, utils.each(e, function (e) {
                    if (n.isLastCell(e, t, a))return i = e, !1
                }), i
            }, selectRow: function (e) {
                var t = this.indexTable[e], n = this.getCell(t[0].rowIndex, t[0].cellIndex), i = this.getCell(t[this.colsNum - 1].rowIndex, t[this.colsNum - 1].cellIndex), r = this.getCellsRange(n, i);
                this.setSelected(r)
            }, selectTable: function () {
                var e = this.table.getElementsByTagName("td"), t = this.getCellsRange(e[0], e[e.length - 1]);
                this.setSelected(t)
            }, sortTable: function (e, t) {
                var n = this.table, i = n.rows, r = [], o = "TH" === i[0].cells[0].tagName, a = 0;
                if (this.selectedTds.length) {
                    for (var s = this.cellsRange, l = s.endRowIndex + 1, c = s.beginRowIndex; c < l; c++)r[c] = i[c];
                    r.splice(0, s.beginRowIndex), a = s.endRowIndex + 1 === this.rowsNum ? 0 : s.endRowIndex + 1
                } else for (var c = 0, l = i.length; c < l; c++)r[c] = i[c];
                o && r.splice(0, 1), r = utils.sort(r, function (n, i) {
                    var r = function (e) {
                        return e.innerText || e.textContent
                    };
                    return t ? "number" == typeof t ? t : t.call(this, n.cells[e], i.cells[e]) : function () {
                        var t = r(n.cells[e]), o = r(i.cells[e]);
                        return t.localeCompare(o)
                    }()
                });
                for (var d = n.ownerDocument.createDocumentFragment(), u = 0, l = r.length; u < l; u++)d.appendChild(r[u]);
                var f = n.getElementsByTagName("tbody")[0];
                a ? f.insertBefore(d, i[a - s.endRowIndex + s.beginRowIndex - 1]) : f.appendChild(d)
            }, setBackground: function (e, t) {
                if ("string" == typeof t)utils.each(e, function (e) {
                    e.style.backgroundColor = t
                }); else if ("object" == typeof t) {
                    t = utils.extend({repeat: !0, colorList: ["#ddd", "#fff"]}, t);
                    for (var n, i = this.getCellInfo(e[0]).rowIndex, r = 0, o = t.colorList, a = function (e, t, n) {
                        return e[t] ? e[t] : n ? e[t % e.length] : ""
                    }, s = 0; n = e[s++];) {
                        var l = this.getCellInfo(n);
                        n.style.backgroundColor = a(o, i + r == l.rowIndex ? r : ++r, t.repeat)
                    }
                }
            }, removeBackground: function (e) {
                utils.each(e, function (e) {
                    e.style.backgroundColor = ""
                })
            }
        }
    }(), function () {
        function e(e, n) {
            var i = e.getElementsByTagName("td");
            utils.each(i, function (e) {
                e.removeAttribute("width")
            }), e.setAttribute("width", t(n, !0, a(n, e))), setTimeout(function () {
                utils.each(i, function (e) {
                    1 == e.colSpan && e.setAttribute("width", e.offsetWidth + "")
                })
            }, 0)
        }

        function t(e, t, n) {
            var i = e.body;
            return i.offsetWidth - (t ? 2 * parseInt(domUtils.getComputedStyle(i, "margin-left"), 10) : 0) - 2 * n.tableBorder - (e.options.offsetWidth || 0)
        }

        function n(e) {
            var t = r(e).cell;
            if (t) {
                var n = s(t);
                return n.selectedTds.length ? n.selectedTds : [t]
            }
            return []
        }

        var i = UE.UETable, r = function (e) {
            return i.getTableItemsByRange(e)
        }, o = function (e) {
            return i.getUETableBySelected(e)
        }, a = function (e, t) {
            return i.getDefaultValue(e, t)
        }, s = function (e) {
            return i.getUETable(e)
        };
        UE.commands.inserttable = {
            queryCommandState: function () {
                return r(this).table ? -1 : 0
            }, execCommand: function (e, n) {
                function i(e, t, n) {
                    for (var i = [], r = e.numRows, o = e.numCols, a = 0; a < r; a++) {
                        i.push("<tr>");
                        for (var s = 0; s < o; s++)i.push('<td width="' + n + '"  vAlign="' + e.tdvalign + '" >' + (browser.ie ? domUtils.fillChar : "<br/>") + "</td>");
                        i.push("</tr>")
                    }
                    return '<table width="' + t + '"   ><tbody>' + i.join("") + "</tbody></table>"
                }

                n || (n = utils.extend({}, {
                    numCols: this.options.defaultCols,
                    numRows: this.options.defaultRows,
                    tdvalign: this.options.tdvalign
                }));
                var r = this.selection.getRange(), o = r.startContainer, s = domUtils.findParent(o, function (e) {
                    return domUtils.isBlockElm(e)
                }, !0), l = this, c = a(l), d = t(l, !0, c) - (s ? parseInt(domUtils.getXY(s).x, 10) : 0), u = Math.floor(d / n.numCols - 2 * c.tdPadding - c.tdBorder);
                !n.tdvalign && (n.tdvalign = l.options.tdvalign), l.execCommand("inserthtml", i(n, d, u))
            }
        }, UE.commands.insertparagraphbeforetable = {
            queryCommandState: function () {
                return r(this).cell ? 0 : -1
            }, execCommand: function () {
                var e = r(this).table;
                if (e) {
                    var t = this.document.createElement("p");
                    t.innerHTML = browser.ie ? "&nbsp;" : "<br />", e.parentNode.insertBefore(t, e), this.selection.getRange().setStart(t, 0).setCursor()
                }
            }
        }, UE.commands.deletetable = {
            queryCommandState: function () {
                var e = this.selection.getRange();
                return domUtils.findParentByTagName(e.startContainer, "table", !0) ? 0 : -1
            }, execCommand: function (e, t) {
                var n = this.selection.getRange();
                if (t = t || domUtils.findParentByTagName(n.startContainer, "table", !0)) {
                    var i = t.nextSibling;
                    i || (i = domUtils.createElement(this.document, "p", {innerHTML: browser.ie ? domUtils.fillChar : "<br/>"}), t.parentNode.insertBefore(i, t)), domUtils.remove(t), n = this.selection.getRange(), 3 == i.nodeType ? n.setStartBefore(i) : n.setStart(i, 0), n.setCursor(!1, !0), this.fireEvent("tablehasdeleted")
                }
            }
        }, UE.commands.cellalign = {
            queryCommandState: function () {
                return n(this).length ? 0 : -1
            }, execCommand: function (e, t) {
                var i = n(this);
                if (i.length)for (var r, o = 0; r = i[o++];)r.setAttribute("align", t)
            }
        }, UE.commands.cellvalign = {
            queryCommandState: function () {
                return n(this).length ? 0 : -1
            }, execCommand: function (e, t) {
                var i = n(this);
                if (i.length)for (var r, o = 0; r = i[o++];)r.setAttribute("vAlign", t)
            }
        }, UE.commands.insertcaption = {
            queryCommandState: function () {
                var e = r(this).table;
                return e && 0 == e.getElementsByTagName("caption").length ? 1 : -1
            }, execCommand: function () {
                var e = r(this).table;
                if (e) {
                    var t = this.document.createElement("caption");
                    t.innerHTML = browser.ie ? domUtils.fillChar : "<br/>", e.insertBefore(t, e.firstChild);
                    var n = this.selection.getRange();
                    n.setStart(t, 0).setCursor()
                }
            }
        }, UE.commands.deletecaption = {
            queryCommandState: function () {
                var e = this.selection.getRange(), t = domUtils.findParentByTagName(e.startContainer, "table");
                return t ? 0 == t.getElementsByTagName("caption").length ? -1 : 1 : -1
            }, execCommand: function () {
                var e = this.selection.getRange(), t = domUtils.findParentByTagName(e.startContainer, "table");
                if (t) {
                    domUtils.remove(t.getElementsByTagName("caption")[0]);
                    var n = this.selection.getRange();
                    n.setStart(t.rows[0].cells[0], 0).setCursor()
                }
            }
        }, UE.commands.inserttitle = {
            queryCommandState: function () {
                var e = r(this).table;
                if (e) {
                    var t = e.rows[0];
                    return 0 == t.getElementsByTagName("th").length ? 0 : -1
                }
                return -1
            }, execCommand: function () {
                var e = r(this).table;
                e && s(e).insertRow(0, "th");
                var t = e.getElementsByTagName("th")[0];
                this.selection.getRange().setStart(t, 0).setCursor(!1, !0)
            }
        }, UE.commands.deletetitle = {
            queryCommandState: function () {
                var e = r(this).table;
                if (e) {
                    var t = e.rows[0];
                    return t.getElementsByTagName("th").length ? 0 : -1
                }
                return -1
            }, execCommand: function () {
                var e = r(this).table;
                e && domUtils.remove(e.rows[0]);
                var t = e.getElementsByTagName("td")[0];
                this.selection.getRange().setStart(t, 0).setCursor(!1, !0)
            }
        }, UE.commands.mergeright = {
            queryCommandState: function (e) {
                var t = r(this);
                if (!t.cell)return -1;
                var n = s(t.table);
                if (n.selectedTds.length)return -1;
                var i = n.getCellInfo(t.cell), o = i.colIndex + i.colSpan;
                if (o >= n.colsNum)return -1;
                var a = n.indexTable[i.rowIndex][o];
                return a.rowIndex == i.rowIndex && a.rowSpan == i.rowSpan ? 0 : -1
            }, execCommand: function (e) {
                var t = this.selection.getRange(), n = t.createBookmark(!0), i = r(this).cell, o = s(i);
                o.mergeRight(i), t.moveToBookmark(n).select()
            }
        }, UE.commands.mergedown = {
            queryCommandState: function (e) {
                var t = r(this), n = t.cell;
                if (!n || "TH" == n.tagName)return -1;
                var i = s(t.table);
                if (i.selectedTds.length)return -1;
                var o = i.getCellInfo(t.cell), a = o.rowIndex + o.rowSpan;
                if (a >= i.rowsNum)return -1;
                var l = i.indexTable[a][o.colIndex];
                return l.colIndex == o.colIndex && l.colSpan == o.colSpan && "TH" !== t.cell.tagName ? 0 : -1
            }, execCommand: function () {
                var e = this.selection.getRange(), t = e.createBookmark(!0), n = r(this).cell, i = s(n);
                i.mergeDown(n), e.moveToBookmark(t).select()
            }
        }, UE.commands.mergecells = {
            queryCommandState: function () {
                return o(this) ? 0 : -1
            }, execCommand: function () {
                var e = o(this);
                if (e && e.selectedTds.length) {
                    var t = e.selectedTds[0];
                    e.mergeRange();
                    var n = this.selection.getRange();
                    domUtils.isEmptyBlock(t) ? n.setStart(t, 0).collapse(!0) : n.selectNodeContents(t), n.select()
                }
            }
        }, UE.commands.insertrow = {
            queryCommandState: function () {
                var e = r(this), t = e.cell;
                return t && "TD" == t.tagName && s(e.table).rowsNum < this.options.maxRowNum ? 0 : -1
            }, execCommand: function () {
                var e = this.selection.getRange(), t = e.createBookmark(!0), n = r(this), i = n.cell, o = n.table, a = s(o), l = a.getCellInfo(i);
                if (a.selectedTds.length)for (var c = a.cellsRange, d = 0, u = c.endRowIndex - c.beginRowIndex + 1; d < u; d++)a.insertRow(c.beginRowIndex, i); else a.insertRow(l.rowIndex, i);
                e.moveToBookmark(t).select(), "enabled" === o.getAttribute("interlaced") && this.fireEvent("interlacetable", o)
            }
        }, UE.commands.insertrownext = {
            queryCommandState: function () {
                var e = r(this), t = e.cell;
                return t && "TD" == t.tagName && s(e.table).rowsNum < this.options.maxRowNum ? 0 : -1
            }, execCommand: function () {
                var e = this.selection.getRange(), t = e.createBookmark(!0), n = r(this), i = n.cell, o = n.table, a = s(o), l = a.getCellInfo(i);
                if (a.selectedTds.length)for (var c = a.cellsRange, d = 0, u = c.endRowIndex - c.beginRowIndex + 1; d < u; d++)a.insertRow(c.endRowIndex + 1, i); else a.insertRow(l.rowIndex + l.rowSpan, i);
                e.moveToBookmark(t).select(), "enabled" === o.getAttribute("interlaced") && this.fireEvent("interlacetable", o)
            }
        }, UE.commands.deleterow = {
            queryCommandState: function () {
                var e = r(this);
                if (!e.cell)return -1
            }, execCommand: function () {
                var e = r(this).cell, t = s(e), n = t.cellsRange, i = t.getCellInfo(e), o = t.getVSideCell(e), a = t.getVSideCell(e, !0), l = this.selection.getRange();
                if (utils.isEmptyObject(n))t.deleteRow(i.rowIndex); else for (var c = n.beginRowIndex; c < n.endRowIndex + 1; c++)t.deleteRow(n.beginRowIndex);
                var d = t.table;
                if (d.getElementsByTagName("td").length)if (1 == i.rowSpan || i.rowSpan == n.endRowIndex - n.beginRowIndex + 1)(a || o) && l.selectNodeContents(a || o).setCursor(!1, !0); else {
                    var u = t.getCell(i.rowIndex, t.indexTable[i.rowIndex][i.colIndex].cellIndex);
                    u && l.selectNodeContents(u).setCursor(!1, !0)
                } else {
                    var f = d.nextSibling;
                    domUtils.remove(d), f && l.setStart(f, 0).setCursor(!1, !0)
                }
                "enabled" === d.getAttribute("interlaced") && this.fireEvent("interlacetable", d)
            }
        }, UE.commands.insertcol = {
            queryCommandState: function (e) {
                var t = r(this), n = t.cell;
                return n && ("TD" == n.tagName || "TH" == n.tagName) && s(t.table).colsNum < this.options.maxColNum ? 0 : -1
            }, execCommand: function (e) {
                var t = this.selection.getRange(), n = t.createBookmark(!0);
                if (this.queryCommandState(e) != -1) {
                    var i = r(this).cell, o = s(i), a = o.getCellInfo(i);
                    if (o.selectedTds.length)for (var l = o.cellsRange, c = 0, d = l.endColIndex - l.beginColIndex + 1; c < d; c++)o.insertCol(l.beginColIndex, i); else o.insertCol(a.colIndex, i);
                    t.moveToBookmark(n).select(!0)
                }
            }
        }, UE.commands.insertcolnext = {
            queryCommandState: function () {
                var e = r(this), t = e.cell;
                return t && s(e.table).colsNum < this.options.maxColNum ? 0 : -1
            }, execCommand: function () {
                var e = this.selection.getRange(), t = e.createBookmark(!0), n = r(this).cell, i = s(n), o = i.getCellInfo(n);
                if (i.selectedTds.length)for (var a = i.cellsRange, l = 0, c = a.endColIndex - a.beginColIndex + 1; l < c; l++)i.insertCol(a.endColIndex + 1, n); else i.insertCol(o.colIndex + o.colSpan, n);
                e.moveToBookmark(t).select()
            }
        }, UE.commands.deletecol = {
            queryCommandState: function () {
                var e = r(this);
                if (!e.cell)return -1
            }, execCommand: function () {
                var e = r(this).cell, t = s(e), n = t.cellsRange, i = t.getCellInfo(e), o = t.getHSideCell(e), a = t.getHSideCell(e, !0);
                if (utils.isEmptyObject(n))t.deleteCol(i.colIndex); else for (var l = n.beginColIndex; l < n.endColIndex + 1; l++)t.deleteCol(n.beginColIndex);
                var c = t.table, d = this.selection.getRange();
                if (c.getElementsByTagName("td").length)domUtils.inDoc(e, this.document) ? d.setStart(e, 0).setCursor(!1, !0) : a && domUtils.inDoc(a, this.document) ? d.selectNodeContents(a).setCursor(!1, !0) : o && domUtils.inDoc(o, this.document) && d.selectNodeContents(o).setCursor(!0, !0); else {
                    var u = c.nextSibling;
                    domUtils.remove(c), u && d.setStart(u, 0).setCursor(!1, !0)
                }
            }
        }, UE.commands.splittocells = {
            queryCommandState: function () {
                var e = r(this), t = e.cell;
                if (!t)return -1;
                var n = s(e.table);
                return n.selectedTds.length > 0 ? -1 : t && (t.colSpan > 1 || t.rowSpan > 1) ? 0 : -1
            }, execCommand: function () {
                var e = this.selection.getRange(), t = e.createBookmark(!0), n = r(this).cell, i = s(n);
                i.splitToCells(n), e.moveToBookmark(t).select()
            }
        }, UE.commands.splittorows = {
            queryCommandState: function () {
                var e = r(this), t = e.cell;
                if (!t)return -1;
                var n = s(e.table);
                return n.selectedTds.length > 0 ? -1 : t && t.rowSpan > 1 ? 0 : -1
            }, execCommand: function () {
                var e = this.selection.getRange(), t = e.createBookmark(!0), n = r(this).cell, i = s(n);
                i.splitToRows(n), e.moveToBookmark(t).select()
            }
        }, UE.commands.splittocols = {
            queryCommandState: function () {
                var e = r(this), t = e.cell;
                if (!t)return -1;
                var n = s(e.table);
                return n.selectedTds.length > 0 ? -1 : t && t.colSpan > 1 ? 0 : -1
            }, execCommand: function () {
                var e = this.selection.getRange(), t = e.createBookmark(!0), n = r(this).cell, i = s(n);
                i.splitToCols(n), e.moveToBookmark(t).select()
            }
        }, UE.commands.adaptbytext = UE.commands.adaptbywindow = {
            queryCommandState: function () {
                return r(this).table ? 0 : -1
            }, execCommand: function (t) {
                var n = r(this), i = n.table;
                if (i)if ("adaptbywindow" == t)e(i, this); else {
                    var o = domUtils.getElementsByTagName(i, "td th");
                    utils.each(o, function (e) {
                        e.removeAttribute("width")
                    }), i.removeAttribute("width")
                }
            }
        }, UE.commands.averagedistributecol = {
            queryCommandState: function () {
                var e = o(this);
                return e && (e.isFullRow() || e.isFullCol()) ? 0 : -1
            }, execCommand: function (e) {
                function t() {
                    var e, t = r.table, n = 0, o = 0, s = a(i, t);
                    if (r.isFullRow())n = t.offsetWidth, o = r.colsNum; else for (var l, c = r.cellsRange.beginColIndex, d = r.cellsRange.endColIndex, u = c; u <= d;)l = r.selectedTds[u], n += l.offsetWidth, u += l.colSpan, o += 1;
                    return e = Math.ceil(n / o) - 2 * s.tdBorder - 2 * s.tdPadding
                }

                function n(e) {
                    utils.each(domUtils.getElementsByTagName(r.table, "th"), function (e) {
                        e.setAttribute("width", "")
                    });
                    var t = r.isFullRow() ? domUtils.getElementsByTagName(r.table, "td") : r.selectedTds;
                    utils.each(t, function (t) {
                        1 == t.colSpan && t.setAttribute("width", e)
                    })
                }

                var i = this, r = o(i);
                r && r.selectedTds.length && n(t())
            }
        }, UE.commands.averagedistributerow = {
            queryCommandState: function () {
                var e = o(this);
                return e ? e.selectedTds && /th/gi.test(e.selectedTds[0].tagName) ? -1 : e.isFullRow() || e.isFullCol() ? 0 : -1 : -1
            }, execCommand: function (e) {
                function t() {
                    var e, t, n = 0, o = r.table, s = a(i, o), l = parseInt(domUtils.getComputedStyle(o.getElementsByTagName("td")[0], "padding-top"));
                    if (r.isFullCol()) {
                        var c, d, u = domUtils.getElementsByTagName(o, "caption"), f = domUtils.getElementsByTagName(o, "th");
                        u.length > 0 && (c = u[0].offsetHeight), f.length > 0 && (d = f[0].offsetHeight), n = o.offsetHeight - (c || 0) - (d || 0), t = 0 == f.length ? r.rowsNum : r.rowsNum - 1
                    } else {
                        for (var h = r.cellsRange.beginRowIndex, p = r.cellsRange.endRowIndex, m = 0, g = domUtils.getElementsByTagName(o, "tr"), v = h; v <= p; v++)n += g[v].offsetHeight, m += 1;
                        t = m
                    }
                    return e = browser.ie && browser.version < 9 ? Math.ceil(n / t) : Math.ceil(n / t) - 2 * s.tdBorder - 2 * l
                }

                function n(e) {
                    var t = r.isFullCol() ? domUtils.getElementsByTagName(r.table, "td") : r.selectedTds;
                    utils.each(t, function (t) {
                        1 == t.rowSpan && t.setAttribute("height", e)
                    })
                }

                var i = this, r = o(i);
                r && r.selectedTds.length && n(t())
            }
        }, UE.commands.cellalignment = {
            queryCommandState: function () {
                return r(this).table ? 0 : -1
            }, execCommand: function (e, t) {
                var n = this, i = o(n);
                if (i)utils.each(i.selectedTds, function (e) {
                    domUtils.setAttributes(e, t)
                }); else {
                    var r = n.selection.getStart(), a = r && domUtils.findParentByTagName(r, ["td", "th", "caption"], !0);
                    /caption/gi.test(a.tagName) ? (a.style.textAlign = t.align, a.style.verticalAlign = t.vAlign) : domUtils.setAttributes(a, t), n.selection.getRange().setCursor(!0)
                }
            }, queryCommandValue: function (e) {
                var t = r(this).cell;
                if (t || (t = n(this)[0]), t) {
                    var i = UE.UETable.getUETable(t).selectedTds;
                    return !i.length && (i = t), UE.UETable.getTableCellAlignState(i)
                }
                return null
            }
        }, UE.commands.tablealignment = {
            queryCommandState: function () {
                return browser.ie && browser.version < 8 ? -1 : r(this).table ? 0 : -1
            }, execCommand: function (e, t) {
                var n = this, i = n.selection.getStart(), r = i && domUtils.findParentByTagName(i, ["table"], !0);
                r && r.setAttribute("align", t)
            }
        }, UE.commands.edittable = {
            queryCommandState: function () {
                return r(this).table ? 0 : -1
            }, execCommand: function (e, t) {
                var n = this.selection.getRange(), i = domUtils.findParentByTagName(n.startContainer, "table");
                if (i) {
                    var r = domUtils.getElementsByTagName(i, "td").concat(domUtils.getElementsByTagName(i, "th"), domUtils.getElementsByTagName(i, "caption"));
                    utils.each(r, function (e) {
                        e.style.borderColor = t
                    })
                }
            }
        }, UE.commands.edittd = {
            queryCommandState: function () {
                return r(this).table ? 0 : -1
            }, execCommand: function (e, t) {
                var n = this, i = o(n);
                if (i)utils.each(i.selectedTds, function (e) {
                    e.style.backgroundColor = t
                }); else {
                    var r = n.selection.getStart(), a = r && domUtils.findParentByTagName(r, ["td", "th", "caption"], !0);
                    a && (a.style.backgroundColor = t)
                }
            }
        }, UE.commands.sorttable = {
            queryCommandState: function () {
                var e = this, t = r(e);
                if (!t.cell)return -1;
                for (var n, i = t.table, o = i.getElementsByTagName("td"), a = 0; n = o[a++];)if (1 != n.rowSpan || 1 != n.colSpan)return -1;
                return 0
            }, execCommand: function (e, t) {
                var n = this, i = n.selection.getRange(), o = i.createBookmark(!0), a = r(n), l = a.cell, c = s(a.table), d = c.getCellInfo(l);
                c.sortTable(d.cellIndex, t), i.moveToBookmark(o).select()
            }
        }, UE.commands.enablesort = UE.commands.disablesort = {
            queryCommandState: function () {
                return r(this).table ? 0 : -1
            }, execCommand: function (e) {
                var t = r(this).table;
                t.setAttribute("data-sort", "enablesort" == e ? "sortEnabled" : "sortDisabled")
            }
        }, UE.commands.settablebackground = {
            queryCommandState: function () {
                var e = n(this);
                return e.length && "td" === e[0].tagName.toLowerCase() ? 0 : -1
            }, execCommand: function (e, t) {
                var i, r;
                i = n(this), r = s(i[0]), r.setBackground(i, t)
            }
        }, UE.commands.cleartablebackground = {
            queryCommandState: function () {
                var e = n(this);
                if (!e.length)return -1;
                for (var t, i = 0; t = e[i++];)if ("" !== t.style.backgroundColor)return 0;
                return -1
            }, execCommand: function () {
                var e = n(this), t = s(e[0]);
                t.removeBackground(e)
            }
        }, UE.commands.interlacetable = UE.commands.uninterlacetable = {
            queryCommandState: function (e) {
                var t = r(this).table;
                if (!t)return -1;
                var n = t.getAttribute("interlaced");
                return "interlacetable" == e ? "enabled" === n ? -1 : 0 : n && "disabled" !== n ? 0 : -1
            }, execCommand: function (e, t) {
                var n = r(this).table;
                "interlacetable" == e ? (n.setAttribute("interlaced", "enabled"), this.fireEvent("interlacetable", n, t)) : (n.setAttribute("interlaced", "disabled"), this.fireEvent("uninterlacetable", n))
            }
        }
    }(), UE.plugins.table = function () {
        function e(e) {
            if (S)throw e
        }

        function t(e, t) {
            n(e, "width", !0), n(e, "height", !0)
        }

        function n(e, t, n) {
            e.style[t] && (n && e.setAttribute(t, parseInt(e.style[t], 10)), e.style[t] = "")
        }

        function i(e) {
            if ("TD" == e.tagName || "TH" == e.tagName)return e;
            var t;
            return (t = domUtils.findParentByTagName(e, "td", !0) || domUtils.findParentByTagName(e, "th", !0)) ? t : null
        }

        function r(e) {
            var t = new RegExp(domUtils.fillChar, "g");
            if (e[browser.ie ? "innerText" : "textContent"].replace(/^\s*$/, "").replace(t, "").length > 0)return 0;
            for (var n in dtd.$isNotEmpty)if (e.getElementsByTagName(n).length)return 0;
            return 1
        }

        function o(e) {
            return e.pageX || e.pageY ? {
                x: e.pageX,
                y: e.pageY
            } : {
                x: e.clientX + E.document.body.scrollLeft - E.document.body.clientLeft,
                y: e.clientY + E.document.body.scrollTop - E.document.body.clientTop
            }
        }

        function a(t) {
            try {
                var n, r = i(t.target || t.srcElement);
                if (L && F)return E.document.body.style.webkitUserSelect = "none", E.selection.getNative()[browser.ie ? "empty" : "removeAllRanges"](), n = o(t), f(E, !0, "", n, r), void("h" == L ? H.style.left = d(F, t) + "px" : "v" == L && (H.style.top = u(F, t) + "px"));
                if (r) {
                    if (E.fireEvent("excludetable", r) === !0)return;
                    n = o(t);
                    var a = h(r, n), l = domUtils.findParentByTagName(r, "table", !0);
                    if (c(l, r, t, !0)) {
                        if (E.fireEvent("excludetable", l) === !0)return;
                        E.body.style.cursor = "url(" + E.options.cursorpath + "h.png),pointer"
                    } else if (c(l, r, t)) {
                        if (E.fireEvent("excludetable", l) === !0)return;
                        E.body.style.cursor = "url(" + E.options.cursorpath + "v.png),pointer"
                    } else E.body.style.cursor = "text", /\d/.test(a) && (a = a.replace(/\d/, ""), r = D(r).getPreviewCell(r, "v" == a)), f(E, !!r && !!a, r ? a : "", n, r)
                } else s(!1, l, E)
            } catch (t) {
                e(t)
            }
        }

        function s(e, t, n) {
            if (e)l(t, n); else {
                if (P)return;
                W = setTimeout(function () {
                    !P && O && O.parentNode && O.parentNode.removeChild(O)
                }, 2e3)
            }
        }

        function l(e, t) {
            function n(n, i) {
                clearTimeout(a), a = setTimeout(function () {
                    t.fireEvent("tableClicked", e, i)
                }, 300)
            }

            function i(n) {
                clearTimeout(a);
                var i = D(e), r = e.rows[0].cells[0], o = i.getLastCell(), s = i.getCellsRange(r, o);
                t.selection.getRange().setStart(r, 0).setCursor(!1, !0), i.setSelected(s)
            }

            var r = domUtils.getXY(e), o = e.ownerDocument;
            if (O && O.parentNode)return O;
            O = o.createElement("div"), O.contentEditable = !1, O.innerHTML = "", O.style.cssText = "width:15px;height:15px;background-image:url(" + t.options.UEDITOR_HOME_URL + "dialogs/table/dragicon.png);position: absolute;cursor:move;top:" + (r.y - 15) + "px;left:" + r.x + "px;", domUtils.unSelectable(O), O.onmouseover = function (e) {
                P = !0
            }, O.onmouseout = function (e) {
                P = !1
            }, domUtils.on(O, "click", function (e, t) {
                n(t, this)
            }), domUtils.on(O, "dblclick", function (e, t) {
                i(t)
            }), domUtils.on(O, "dragstart", function (e, t) {
                domUtils.preventDefault(t)
            });
            var a;
            o.body.appendChild(O)
        }

        function c(e, t, n, i) {
            var r = o(n), a = h(t, r);
            if (i) {
                var s = e.getElementsByTagName("caption")[0], l = s ? s.offsetHeight : 0;
                return "v1" == a && r.y - domUtils.getXY(e).y - l < 8
            }
            return "h1" == a && r.x - domUtils.getXY(e).x < 8
        }

        function d(e, t) {
            var n = D(e);
            if (n) {
                var i = n.getSameEndPosCells(e, "x")[0], r = n.getSameStartPosXCells(e)[0], a = o(t).x, s = (i ? domUtils.getXY(i).x : domUtils.getXY(n.table).x) + 20, l = r ? domUtils.getXY(r).x + r.offsetWidth - 20 : E.body.offsetWidth + 5 || parseInt(domUtils.getComputedStyle(E.body, "width"), 10);
                return a < s ? s : a > l ? l : a
            }
        }

        function u(t, n) {
            try {
                var i = domUtils.getXY(t).y, r = o(n).y;
                return r < i ? i : r
            } catch (t) {
                e(t)
            }
        }

        function f(t, n, i, r, o) {
            try {
                t.body.style.cursor = "h" == i ? "col-resize" : "v" == i ? "row-resize" : "text", browser.ie && (!i || j || A(t) ? x(t) : (C(t, t.document), $(i, o))), R = n
            } catch (t) {
                e(t)
            }
        }

        function h(e, t) {
            var n = domUtils.getXY(e);
            return n.x + e.offsetWidth - t.x < 4 ? "h" : t.x - n.x < 4 ? "h1" : n.y + e.offsetHeight - t.y < 4 ? "v" : t.y - n.y < 4 ? "v1" : ""
        }

        function p(e, t) {
            if (2 != t.button) {
                if (!t.shiftKey && (_(domUtils.getElementsByTagName(E.body, "td")), _(domUtils.getElementsByTagName(E.body, "th")), utils.each(E.document.getElementsByTagName("table"), function (e) {
                        e.ueTable = null
                    }), M = k(E, t))) {
                    var n = domUtils.findParentByTagName(M, "table", !0);
                    if (a = D(n), a && a.clearSelected(), R) {
                        if (browser.ie && browser.version < 8)return;
                        var i = h(M, o(t));
                        /\d/.test(i) && (i = i.replace(/\d/, ""), M = D(M).getPreviewCell(M, "v" == i)), x(E);
                        for (var r; r = E.document.getElementById("ue_tableDragLine");)domUtils.remove(r);
                        E.fireEvent("saveScene"), C(E, E.document), $(i, M), j = !0, L = i, F = M
                    } else E.document.body.style.webkitUserSelect = "", j = !0, E.addListener("mouseover", g)
                }
            } else {
                var a = A(E), s = !1;
                if (a) {
                    var l = k(E, t);
                    utils.each(a.selectedTds, function (e) {
                        e === l && (s = !0)
                    }), s ? (l = a.selectedTds[0], setTimeout(function () {
                        E.selection.getRange().setStart(l, 0).setCursor(!1, !0)
                    }, 0)) : (_(domUtils.getElementsByTagName(E.body, "td")), _(domUtils.getElementsByTagName(E.body, "th")), a.clearSelected())
                }
            }
        }

        function m(e, t) {
            if (2 != t.button) {
                var n = this, i = n.selection.getRange(), r = domUtils.findParentByTagName(i.startContainer, "table", !0), o = domUtils.findParentByTagName(i.endContainer, "table", !0);
                if ((r || o) && (r === o ? (r = domUtils.findParentByTagName(i.startContainer, ["td", "th", "caption"], !0), o = domUtils.findParentByTagName(i.endContainer, ["td", "th", "caption"], !0), r !== o && n.selection.clearRange()) : n.selection.clearRange()), j = !1, n.document.body.style.webkitUserSelect = "", (!browser.ie || browser.ie && browser.version > 7) && L && F) {
                    H = n.document.getElementById("ue_tableDragLine");
                    var a = domUtils.getXY(F), s = domUtils.getXY(H);
                    switch (L) {
                        case"h":
                            b(F, s.x - a.x - F.offsetWidth);
                            break;
                        case"v":
                            w(F, s.y - a.y - F.offsetHeight)
                    }
                    L = "", F = null;
                    for (var l; l = n.document.getElementById("ue_tableDragLine");)domUtils.remove(l);
                    return n.fireEvent("saveScene"), void(l && n.document.appendChild(l))
                }
                if (M) {
                    var c = D(M), d = c ? c.selectedTds[0] : null;
                    if (d)i = new dom.Range(n.document), domUtils.isEmptyBlock(d) ? i.setStart(d, 0).setCursor(!1, !0) : i.selectNodeContents(d).shrinkBoundary().setCursor(!1, !0); else if (i = n.selection.getRange().shrinkBoundary(), !i.collapsed) {
                        var r = domUtils.findParentByTagName(i.startContainer, ["td", "th"], !0), o = domUtils.findParentByTagName(i.endContainer, ["td", "th"], !0);
                        (r && !o || !r && o || r && o && r !== o) && i.setCursor(!1, !0)
                    }
                    M = null, n.removeListener("mouseover", g)
                } else {
                    var u = domUtils.findParentByTagName(t.target || t.srcElement, "td", !0);
                    if (u || (u = domUtils.findParentByTagName(t.target || t.srcElement, "th", !0)), u && ("TD" == u.tagName || "TH" == u.tagName)) {
                        if (n.fireEvent("excludetable", u) === !0)return;
                        i = new dom.Range(n.document), i.setStart(u, 0).setCursor(!1, !0)
                    }
                }
                n._selectionChange(250, t)
            }
        }

        function g(e, t) {
            var n = this, i = t.target || t.srcElement;
            if (I = domUtils.findParentByTagName(i, "td", !0) || domUtils.findParentByTagName(i, "th", !0), M && I && ("TD" == M.tagName && "TD" == I.tagName || "TH" == M.tagName && "TH" == I.tagName) && domUtils.findParentByTagName(M, "table") == domUtils.findParentByTagName(I, "table")) {
                var r = D(I);
                if (M != I) {
                    n.document.body.style.webkitUserSelect = "none", n.selection.getNative()[browser.ie ? "empty" : "removeAllRanges"]();
                    var o = r.getCellsRange(M, I);
                    r.setSelected(o)
                } else n.document.body.style.webkitUserSelect = "", r.clearSelected()
            }
            t.preventDefault ? t.preventDefault() : t.returnValue = !1
        }

        function v(e, t, n) {
            var i = parseInt(domUtils.getComputedStyle(e, "line-height"), 10), r = n + t;
            t = r < i ? i : r, e.style.height && (e.style.height = ""), 1 == e.rowSpan ? e.setAttribute("height", t) : e.removeAttribute && e.removeAttribute("height")
        }

        function y(e) {
            return e ? parseInt(domUtils.getComputedStyle(e, "width"), 10) : 0
        }

        function b(e, t) {
            if (!(Math.abs(t) < 10)) {
                var n = D(e);
                if (n) {
                    var i = n.table, r = y(i), o = B(E, i), a = n.getSameEndPosCells(e, "x"), s = y(a[0]) - 2 * o.tdPadding - o.tdBorder, l = n.getSameStartPosXCells(e), c = y(l[0]) - 2 * o.tdPadding - o.tdBorder;
                    utils.each(a, function (e) {
                        e.style.width && (e.style.width = ""), t < 0 && (e.style.wordBreak = "break-all"), e.setAttribute("width", s + t)
                    }), utils.each(l, function (e) {
                        e.style.width && (e.style.width = ""), t > 0 && (e.style.wordBreak = "break-all"), e.setAttribute("width", c - t)
                    }), e.nextSibling || (i.style.width && (i.style.width = ""), i.setAttribute("width", r + t))
                }
            }
        }

        function w(e, t) {
            if (!(Math.abs(t) < 10)) {
                var n = D(e);
                if (n)for (var i, r = n.getSameEndPosCells(e, "y"), o = r[0] ? r[0].offsetHeight : 0, a = 0; i = r[a++];)v(i, t, o)
            }
        }

        function C(e, t) {
            j || (H = e.document.createElement("div"), domUtils.setAttributes(H, {
                id: "ue_tableDragLine",
                unselectable: "on",
                contenteditable: !1,
                onresizestart: "return false",
                ondragstart: "return false",
                onselectstart: "return false",
                style: "background-color:blue;position:absolute;padding:0;margin:0;background-image:none;border:0px none;opacity:0;filter:alpha(opacity=0)"
            }), e.body.appendChild(H))
        }

        function x(e) {
            if (!j)for (var t; t = e.document.getElementById("ue_tableDragLine");)domUtils.remove(t)
        }

        function $(e, t) {
            if (t) {
                var n, i = domUtils.findParentByTagName(t, "table"), r = i.getElementsByTagName("caption"), o = i.offsetWidth, a = i.offsetHeight - (r.length > 0 ? r[0].offsetHeight : 0), s = domUtils.getXY(i), l = domUtils.getXY(t);
                switch (e) {
                    case"h":
                        n = "height:" + a + "px;top:" + (s.y + (r.length > 0 ? r[0].offsetHeight : 0)) + "px;left:" + (l.x + t.offsetWidth - 2), H.style.cssText = n + "px;position: absolute;display:block;background-color:blue;width:1px;border:0; color:blue;opacity:.3;filter:alpha(opacity=30)";
                        break;
                    case"v":
                        n = "width:" + o + "px;left:" + s.x + "px;top:" + (l.y + t.offsetHeight - 2), H.style.cssText = n + "px;overflow:hidden;position: absolute;display:block;background-color:blue;height:1px;border:0;color:blue;opacity:.2;filter:alpha(opacity=20)"
                }
            }
        }

        function N(e, t) {
            for (var n, i, r = domUtils.getElementsByTagName(e.body, "table"), o = 0; i = r[o++];) {
                var a = domUtils.getElementsByTagName(i, "td");
                a[0] && (t ? (n = a[0].style.borderColor.replace(/\s/g, ""), /(#ffffff)|(rgb\(255,f55,255\))/gi.test(n) && domUtils.addClass(i, "noBorderTable")) : domUtils.removeClasses(i, "noBorderTable"))
            }
        }

        function T(e, t, n) {
            var i = e.body;
            return i.offsetWidth - (t ? 2 * parseInt(domUtils.getComputedStyle(i, "margin-left"), 10) : 0) - 2 * n.tableBorder - (e.options.offsetWidth || 0)
        }

        function k(e, t) {
            var n = domUtils.findParentByTagName(t.target || t.srcElement, ["td", "th"], !0);
            return n && e.fireEvent("excludetable", n) !== !0 ? n : null
        }

        var E = this, S = !0, U = UE.UETable, D = function (e) {
            return U.getUETable(e)
        }, A = function (e) {
            return U.getUETableBySelected(e)
        }, B = function (e, t) {
            return U.getDefaultValue(e, t)
        }, _ = function (e) {
            return U.removeSelectedClass(e)
        };
        E.ready(function () {
            var e = this, t = e.selection.getText;
            e.selection.getText = function () {
                var n = A(e);
                if (n) {
                    var i = "";
                    return utils.each(n.selectedTds, function (e) {
                        i += e[browser.ie ? "innerText" : "textContent"]
                    }), i
                }
                return t.call(e.selection)
            }
        });
        var M = null, I = null, L = "", R = !1, O = null, P = !1, H = null, F = null, j = !1, V = !0;
        E.setOpt({
            maxColNum: 20,
            maxRowNum: 100,
            defaultCols: 5,
            defaultRows: 5,
            tdvalign: "top",
            cursorpath: E.options.UEDITOR_HOME_URL + "themes/default/images/cursor_",
            tableDragable: !1,
            classList: ["ue-table-interlace-color-single", "ue-table-interlace-color-double"]
        }), E.getUETable = D;
        var q = {
            deletetable: 1,
            inserttable: 1,
            cellvalign: 1,
            insertcaption: 1,
            deletecaption: 1,
            inserttitle: 1,
            deletetitle: 1,
            mergeright: 1,
            mergedown: 1,
            mergecells: 1,
            insertrow: 1,
            insertrownext: 1,
            deleterow: 1,
            insertcol: 1,
            insertcolnext: 1,
            deletecol: 1,
            splittocells: 1,
            splittorows: 1,
            splittocols: 1,
            adaptbytext: 1,
            adaptbywindow: 1,
            adaptbycustomer: 1,
            insertparagraph: 1,
            insertparagraphbeforetable: 1,
            averagedistributecol: 1,
            averagedistributerow: 1
        };
        E.ready(function () {
            utils.cssRule("table", ".selectTdClass{background-color:#edf5fa !important}table.noBorderTable td,table.noBorderTable th,table.noBorderTable caption{border:1px dashed #ddd !important}table{margin-bottom:10px;border-collapse:collapse;display:table;}td,th{padding: 5px 10px;border: 1px solid #DDD;}caption{border:1px dashed #DDD;border-bottom:0;padding:3px;text-align:center;}th{border-top:2px solid #BBB;background:#F7F7F7;}.ue-table-interlace-color-single{ background-color: #fcfcfc; } .ue-table-interlace-color-double{ background-color: #f7faff; }td p{margin:0;padding:0;}", E.document);
            var e, n, l;
            E.addListener("keydown", function (t, i) {
                var o = this, a = i.keyCode || i.which;
                if (8 == a) {
                    var s = A(o);
                    s && s.selectedTds.length && (s.isFullCol() ? o.execCommand("deletecol") : s.isFullRow() ? o.execCommand("deleterow") : o.fireEvent("delcells"), domUtils.preventDefault(i));
                    var c = domUtils.findParentByTagName(o.selection.getStart(), "caption", !0), d = o.selection.getRange();
                    if (d.collapsed && c && r(c)) {
                        o.fireEvent("saveScene");
                        var u = c.parentNode;
                        domUtils.remove(c), u && d.setStart(u.rows[0].cells[0], 0).setCursor(!1, !0), o.fireEvent("saveScene")
                    }
                }
                if (46 == a && (s = A(o))) {
                    o.fireEvent("saveScene");
                    for (var f, h = 0; f = s.selectedTds[h++];)domUtils.fillNode(o.document, f);
                    o.fireEvent("saveScene"), domUtils.preventDefault(i)
                }
                if (13 == a) {
                    var p = o.selection.getRange(), c = domUtils.findParentByTagName(p.startContainer, "caption", !0);
                    if (c) {
                        var u = domUtils.findParentByTagName(c, "table");
                        return p.collapsed ? c && p.setStart(u.rows[0].cells[0], 0).setCursor(!1, !0) : (p.deleteContents(), o.fireEvent("saveScene")), void domUtils.preventDefault(i)
                    }
                    if (p.collapsed) {
                        var u = domUtils.findParentByTagName(p.startContainer, "table");
                        if (u) {
                            var m = u.rows[0].cells[0], g = domUtils.findParentByTagName(o.selection.getStart(), ["td", "th"], !0), v = u.previousSibling;
                            m === g && (!v || 1 == v.nodeType && "TABLE" == v.tagName) && domUtils.isStartInblock(p) && (o.execCommand("insertparagraphbeforetable"), domUtils.preventDefault(i))
                        }
                    }
                }
                if ((i.ctrlKey || i.metaKey) && "67" == i.keyCode) {
                    e = null;
                    var s = A(o);
                    if (s) {
                        var y = s.selectedTds;
                        n = s.isFullCol(), l = s.isFullRow(), e = [[s.cloneCell(y[0])]];
                        for (var f, h = 1; f = y[h]; h++)f.parentNode !== y[h - 1].parentNode ? e.push([s.cloneCell(f)]) : e[e.length - 1].push(s.cloneCell(f))
                    }
                }
            }), E.addListener("tablehasdeleted", function () {
                f(this, !1, "", null), O && domUtils.remove(O)
            }), E.addListener("beforepaste", function (i, o) {
                var a = this, s = a.selection.getRange();
                if (domUtils.findParentByTagName(s.startContainer, "caption", !0)) {
                    var c = a.document.createElement("div");
                    return c.innerHTML = o.html, void(o.html = c[browser.ie ? "innerText" : "textContent"])
                }
                var d = A(a);
                if (e) {
                    a.fireEvent("saveScene");
                    var u, f, s = a.selection.getRange(), h = domUtils.findParentByTagName(s.startContainer, ["td", "th"], !0);
                    if (h) {
                        var p = D(h);
                        if (l) {
                            var m = p.getCellInfo(h).rowIndex;
                            "TH" == h.tagName && m++;
                            for (var g, v = 0; g = e[v++];) {
                                for (var y, b = p.insertRow(m++, "td"), w = 0; y = g[w]; w++) {
                                    var C = b.cells[w];
                                    C || (C = b.insertCell(w)), C.innerHTML = y.innerHTML, y.getAttribute("width") && C.setAttribute("width", y.getAttribute("width")), y.getAttribute("vAlign") && C.setAttribute("vAlign", y.getAttribute("vAlign")), y.getAttribute("align") && C.setAttribute("align", y.getAttribute("align")), y.style.cssText && (C.style.cssText = y.style.cssText)
                                }
                                for (var y, w = 0; (y = b.cells[w]) && g[w]; w++)y.innerHTML = g[w].innerHTML, g[w].getAttribute("width") && y.setAttribute("width", g[w].getAttribute("width")), g[w].getAttribute("vAlign") && y.setAttribute("vAlign", g[w].getAttribute("vAlign")), g[w].getAttribute("align") && y.setAttribute("align", g[w].getAttribute("align")), g[w].style.cssText && (y.style.cssText = g[w].style.cssText)
                            }
                        } else {
                            if (n) {
                                N = p.getCellInfo(h);
                                for (var y, x = 0, w = 0, g = e[0]; y = g[w++];)x += y.colSpan || 1;
                                for (a.__hasEnterExecCommand = !0, v = 0; v < x; v++)a.execCommand("insertcol");
                                a.__hasEnterExecCommand = !1, h = p.table.rows[0].cells[N.cellIndex], "TH" == h.tagName && (h = p.table.rows[1].cells[N.cellIndex])
                            }
                            for (var g, v = 0; g = e[v++];) {
                                u = h;
                                for (var y, w = 0; y = g[w++];)if (h)h.innerHTML = y.innerHTML, y.getAttribute("width") && h.setAttribute("width", y.getAttribute("width")), y.getAttribute("vAlign") && h.setAttribute("vAlign", y.getAttribute("vAlign")), y.getAttribute("align") && h.setAttribute("align", y.getAttribute("align")), y.style.cssText && (h.style.cssText = y.style.cssText), f = h, h = h.nextSibling; else {
                                    var $ = y.cloneNode(!0);
                                    domUtils.removeAttributes($, ["class", "rowSpan", "colSpan"]), f.parentNode.appendChild($)
                                }
                                if (h = p.getNextCell(u, !0, !0), !e[v])break;
                                if (!h) {
                                    var N = p.getCellInfo(u);
                                    p.table.insertRow(p.table.rows.length), p.update(), h = p.getVSideCell(u, !0)
                                }
                            }
                        }
                        p.update()
                    } else {
                        d = a.document.createElement("table");
                        for (var g, v = 0; g = e[v++];) {
                            for (var y, b = d.insertRow(d.rows.length), w = 0; y = g[w++];)$ = U.cloneCell(y), domUtils.removeAttributes($, ["class"]), b.appendChild($);
                            2 == w && $.rowSpan > 1 && ($.rowSpan = 1)
                        }
                        var T = B(a), k = a.body.offsetWidth - (V ? 2 * parseInt(domUtils.getComputedStyle(a.body, "margin-left"), 10) : 0) - 2 * T.tableBorder - (a.options.offsetWidth || 0);
                        a.execCommand("insertHTML", "<table  " + (n && l ? 'width="' + k + '"' : "") + ">" + d.innerHTML.replace(/>\s*</g, "><").replace(/\bth\b/gi, "td") + "</table>")
                    }
                    return a.fireEvent("contentchange"), a.fireEvent("saveScene"), o.html = "", !0
                }
                var E, c = a.document.createElement("div");
                c.innerHTML = o.html, E = c.getElementsByTagName("table"), domUtils.findParentByTagName(a.selection.getStart(), "table") ? (utils.each(E, function (e) {
                    domUtils.remove(e)
                }), domUtils.findParentByTagName(a.selection.getStart(), "caption", !0) && (c.innerHTML = c[browser.ie ? "innerText" : "textContent"])) : utils.each(E, function (e) {
                    t(e, !0), domUtils.removeAttributes(e, ["style", "border"]), utils.each(domUtils.getElementsByTagName(e, "td"), function (e) {
                        r(e) && domUtils.fillNode(a.document, e), t(e, !0)
                    })
                }), o.html = c.innerHTML
            }), E.addListener("afterpaste", function () {
                utils.each(domUtils.getElementsByTagName(E.body, "table"), function (e) {
                    if (e.offsetWidth > E.body.offsetWidth) {
                        var t = B(E, e);
                        e.style.width = E.body.offsetWidth - (V ? 2 * parseInt(domUtils.getComputedStyle(E.body, "margin-left"), 10) : 0) - 2 * t.tableBorder - (E.options.offsetWidth || 0) + "px"
                    }
                })
            }), E.addListener("blur", function () {
                e = null
            });
            var d;
            E.addListener("keydown", function () {
                clearTimeout(d), d = setTimeout(function () {
                    var e = E.selection.getRange(), t = domUtils.findParentByTagName(e.startContainer, ["th", "td"], !0);
                    if (t) {
                        var n = t.parentNode.parentNode.parentNode;
                        n.offsetWidth > n.getAttribute("width") && (t.style.wordBreak = "break-all")
                    }
                }, 100)
            }), E.addListener("selectionchange", function () {
                f(E, !1, "", null)
            }), E.addListener("contentchange", function () {
                var e = this;
                if (x(e), !A(e)) {
                    var t = e.selection.getRange(), n = t.startContainer;
                    n = domUtils.findParentByTagName(n, ["td", "th"], !0), utils.each(domUtils.getElementsByTagName(e.document, "table"), function (t) {
                        e.fireEvent("excludetable", t) !== !0 && (t.ueTable = new U(t), utils.each(domUtils.getElementsByTagName(e.document, "td"), function (t) {
                            domUtils.isEmptyBlock(t) && t !== n && (domUtils.fillNode(e.document, t), browser.ie && 6 == browser.version && (t.innerHTML = "&nbsp;"))
                        }), utils.each(domUtils.getElementsByTagName(e.document, "th"), function (t) {
                            domUtils.isEmptyBlock(t) && t !== n && (domUtils.fillNode(e.document, t), browser.ie && 6 == browser.version && (t.innerHTML = "&nbsp;"))
                        }), t.onmouseover = function () {
                            e.fireEvent("tablemouseover", t)
                        }, t.onmousemove = function () {
                            e.fireEvent("tablemousemove", t), e.options.tableDragable && s(!0, this, e)
                        }, t.onmouseout = function () {
                            e.fireEvent("tablemouseout", t), f(e, !1, "", null), x(e)
                        }, t.onclick = function (t) {
                            t = e.window.event || t;
                            var n = i(t.target || t.srcElement);
                            if (n) {
                                var r, o = D(n), a = o.table, s = o.getCellInfo(n), l = e.selection.getRange();
                                if (c(a, n, t, !0)) {
                                    var d = o.getCell(o.indexTable[o.rowsNum - 1][s.colIndex].rowIndex, o.indexTable[o.rowsNum - 1][s.colIndex].cellIndex);
                                    return void(t.shiftKey && o.selectedTds.length ? o.selectedTds[0] !== d ? (r = o.getCellsRange(o.selectedTds[0], d), o.setSelected(r)) : l && l.selectNodeContents(d).select() : n !== d ? (r = o.getCellsRange(n, d), o.setSelected(r)) : l && l.selectNodeContents(d).select())
                                }
                                if (c(a, n, t)) {
                                    var u = o.getCell(o.indexTable[s.rowIndex][o.colsNum - 1].rowIndex, o.indexTable[s.rowIndex][o.colsNum - 1].cellIndex);
                                    t.shiftKey && o.selectedTds.length ? o.selectedTds[0] !== u ? (r = o.getCellsRange(o.selectedTds[0], u), o.setSelected(r)) : l && l.selectNodeContents(u).select() : n !== u ? (r = o.getCellsRange(n, u), o.setSelected(r)) : l && l.selectNodeContents(u).select()
                                }
                            }
                        }, t.ondblclick = function (t) {
                            t = e.window.event || t;
                            var n = i(t.target || t.srcElement);
                            if (n) {
                                var r;
                                if (r = h(n, o(t))) {
                                    if ("h1" == r)if (r = "h", c(domUtils.findParentByTagName(n, "table"), n, t))e.execCommand("adaptbywindow"); else if (n = D(n).getPreviewCell(n)) {
                                        var a = e.selection.getRange();
                                        a.selectNodeContents(n).setCursor(!0, !0)
                                    }
                                    if ("h" == r) {
                                        for (var s; s = e.document.getElementById("ue_tableDragLine");)domUtils.remove(s);
                                        e.fireEvent("saveScene", !0);
                                        var l = D(n), d = l.getSameEndPosCells(n, "x"), u = l.table;
                                        u.removeAttribute("width"), utils.each(d, function (e) {
                                            e.removeAttribute("width")
                                        }), setTimeout(function () {
                                            var t = d[0].offsetWidth - 20;
                                            utils.each(d, function (e) {
                                                e.setAttribute("width", t)
                                            }), u.setAttribute("width", u.offsetWidth), e.fireEvent("saveScene", !0)
                                        })
                                    }
                                }
                            }
                        })
                    }), N(e, !0)
                }
            }), (!browser.ie || browser.ie && browser.version > 7) && domUtils.on(E.document, "mousemove", a), domUtils.on(E.document, "mouseout", function (e) {
                var t = e.target || e.srcElement;
                "TABLE" == t.tagName && f(E, !1, "", null)
            }), E.addListener("interlacetable", function (e, t, n) {
                if (t) {
                    var i = this, r = t.rows, o = r.length, a = function (e, t, n) {
                        return e[t] ? e[t] : n ? e[t % e.length] : ""
                    }, s = 0, l = 0;
                    for (i.queryCommandState("inserttitle") === -1 && (s = 1); s < o; s++, l++)r[s].className = a(n || i.options.classList, l, !0)
                }
            }), E.addListener("uninterlacetable", function (e, t) {
                if (t)for (var n = this, i = t.rows, r = n.options.classList, o = i.length, a = 0; a < o; a++)domUtils.removeClasses(i[a], r)
            }), E.addListener("mousedown", p), E.addListener("mouseup", m);
            var u = 0;
            E.addListener("mousedown", function () {
                u = 0
            }), E.addListener("tabkeydown", function () {
                var e = this.selection.getRange(), t = e.getCommonAncestor(!0, !0), n = domUtils.findParentByTagName(t, "table");
                if (n) {
                    if (domUtils.findParentByTagName(t, "caption", !0)) {
                        var i = domUtils.getElementsByTagName(n, "th td");
                        i && i.length && e.setStart(i[0], 0).setCursor(!1, !0)
                    } else {
                        var i = domUtils.findParentByTagName(t, ["td", "th"], !0), o = D(i);
                        u = i.rowSpan > 1 ? u : o.getCellInfo(i).rowIndex;
                        var a = o.getTabNextCell(i, u);
                        a ? r(a) ? e.setStart(a, 0).setCursor(!1, !0) : e.selectNodeContents(a).select() : (E.fireEvent("saveScene"), E.__hasEnterExecCommand = !0, this.execCommand("insertrownext"), E.__hasEnterExecCommand = !1, e = this.selection.getRange(), e.setStart(n.rows[n.rows.length - 1].cells[0], 0).setCursor(), E.fireEvent("saveScene"))
                    }
                    return !0
                }
            }), browser.ie && E.addListener("selectionchange", function () {
                f(this, !1, "", null)
            }), E.addListener("keydown", function (e, t) {
                var n = this, i = t.keyCode || t.which;
                if (8 != i && 46 != i) {
                    var r = !(t.ctrlKey || t.metaKey || t.shiftKey || t.altKey);
                    r && _(domUtils.getElementsByTagName(n.body, "td"));
                    var o = A(n);
                    o && r && o.clearSelected()
                }
            }), E.addListener("beforegetcontent", function () {
                N(this, !1), browser.ie && utils.each(this.document.getElementsByTagName("caption"), function (e) {
                    domUtils.isEmptyNode(e) && (e.innerHTML = "&nbsp;")
                })
            }), E.addListener("aftergetcontent", function () {
                N(this, !0)
            }), E.addListener("getAllHtml", function () {
                _(E.document.getElementsByTagName("td"))
            }), E.addListener("fullscreenchanged", function (e, t) {
                if (!t) {
                    var n = this.body.offsetWidth / document.body.offsetWidth, i = domUtils.getElementsByTagName(this.body, "table");
                    utils.each(i, function (e) {
                        if (e.offsetWidth < E.body.offsetWidth)return !1;
                        var t = domUtils.getElementsByTagName(e, "td"), i = [];
                        utils.each(t, function (e) {
                            i.push(e.offsetWidth)
                        });
                        for (var r, o = 0; r = t[o]; o++)r.setAttribute("width", Math.floor(i[o] * n));
                        e.setAttribute("width", Math.floor(T(E, V, B(E))))
                    })
                }
            });
            var g = E.execCommand;
            E.execCommand = function (e) {
                var t = this;
                e = e.toLowerCase();
                var n, i, o = A(t), a = new dom.Range(t.document), s = t.commands[e] || UE.commands[e];
                if (s) {
                    if (!o || q[e] || s.notNeedUndo || t.__hasEnterExecCommand)i = g.apply(t, arguments); else {
                        t.__hasEnterExecCommand = !0, t.fireEvent("beforeexeccommand", e), n = o.selectedTds;
                        for (var l, c, d, u = -2, f = -2, h = 0; d = n[h]; h++)r(d) ? a.setStart(d, 0).setCursor(!1, !0) : a.selectNodeContents(d).select(!0), c = t.queryCommandState(e), l = t.queryCommandValue(e), c != -1 && (u === c && f === l || (t._ignoreContentChange = !0, i = g.apply(t, arguments), t._ignoreContentChange = !1), u = t.queryCommandState(e), f = t.queryCommandValue(e), domUtils.isEmptyBlock(d) && domUtils.fillNode(t.document, d));
                        a.setStart(n[0], 0).shrinkBoundary(!0).setCursor(!1, !0), t.fireEvent("contentchange"), t.fireEvent("afterexeccommand", e), t.__hasEnterExecCommand = !1, t._selectionChange()
                    }
                    return i
                }
            }
        });
        var W
    }, UE.plugins.contextmenu = function () {
        var e, t = this, n = t.getLang("contextMenu"), i = t.options.contextMenu || [{
                label: n.selectall,
                cmdName: "selectall"
            }, {label: n.deletecode, cmdName: "highlightcode", icon: "deletehighlightcode"}, {
                label: n.cleardoc,
                cmdName: "cleardoc",
                exec: function () {
                    confirm(n.confirmclear) && this.execCommand("cleardoc")
                }
            }, "-", {label: n.unlink, cmdName: "unlink"}, "-", {
                group: n.paragraph,
                icon: "justifyjustify",
                subMenu: [{label: n.justifyleft, cmdName: "justify", value: "left"}, {
                    label: n.justifyright,
                    cmdName: "justify",
                    value: "right"
                }, {label: n.justifycenter, cmdName: "justify", value: "center"}, {
                    label: n.justifyjustify,
                    cmdName: "justify",
                    value: "justify"
                }]
            }, "-", {
                group: n.table,
                icon: "table",
                subMenu: [{label: n.inserttable, cmdName: "inserttable"}, {
                    label: n.deletetable,
                    cmdName: "deletetable"
                }, "-", {label: n.deleterow, cmdName: "deleterow"}, {
                    label: n.deletecol,
                    cmdName: "deletecol"
                }, {label: n.insertcol, cmdName: "insertcol"}, {
                    label: n.insertcolnext,
                    cmdName: "insertcolnext"
                }, {label: n.insertrow, cmdName: "insertrow"}, {
                    label: n.insertrownext,
                    cmdName: "insertrownext"
                }, "-", {label: n.insertcaption, cmdName: "insertcaption"}, {
                    label: n.deletecaption,
                    cmdName: "deletecaption"
                }, {label: n.inserttitle, cmdName: "inserttitle"}, {
                    label: n.deletetitle,
                    cmdName: "deletetitle"
                }, "-", {label: n.mergecells, cmdName: "mergecells"}, {
                    label: n.mergeright,
                    cmdName: "mergeright"
                }, {label: n.mergedown, cmdName: "mergedown"}, "-", {
                    label: n.splittorows,
                    cmdName: "splittorows"
                }, {label: n.splittocols, cmdName: "splittocols"}, {
                    label: n.splittocells,
                    cmdName: "splittocells"
                }, "-", {label: n.averageDiseRow, cmdName: "averagedistributerow"}, {
                    label: n.averageDisCol,
                    cmdName: "averagedistributecol"
                }, "-", {
                    label: n.edittd, cmdName: "edittd", exec: function () {
                        UE.ui.edittd && new UE.ui.edittd(this), this.getDialog("edittd").open()
                    }
                }, {
                    label: n.edittable, cmdName: "edittable", exec: function () {
                        UE.ui.edittable && new UE.ui.edittable(this), this.getDialog("edittable").open()
                    }
                }]
            }, {
                group: n.tablesort,
                icon: "tablesort",
                subMenu: [{label: n.reversecurrent, cmdName: "sorttable", value: 1}, {
                    label: n.orderbyasc,
                    cmdName: "sorttable"
                }, {
                    label: n.reversebyasc, cmdName: "sorttable", exec: function () {
                        this.execCommand("sorttable", function (e, t) {
                            var n = e.innerHTML, i = t.innerHTML;
                            return i.localeCompare(n)
                        })
                    }
                }, {
                    label: n.orderbynum, cmdName: "sorttable", exec: function () {
                        this.execCommand("sorttable", function (e, t) {
                            var n = e.innerHTML.match(/\d+/), i = t.innerHTML.match(/\d+/);
                            return n && (n = +n[0]), i && (i = +i[0]), (n || 0) - (i || 0)
                        })
                    }
                }, {
                    label: n.reversebynum, cmdName: "sorttable", exec: function () {
                        this.execCommand("sorttable", function (e, t) {
                            var n = e.innerHTML.match(/\d+/), i = t.innerHTML.match(/\d+/);
                            return n && (n = +n[0]), i && (i = +i[0]), (i || 0) - (n || 0)
                        })
                    }
                }]
            }, {
                group: n.borderbk,
                icon: "borderBack",
                subMenu: [{
                    label: n.setcolor, cmdName: "interlacetable", exec: function () {
                        this.execCommand("interlacetable")
                    }
                }, {
                    label: n.unsetcolor, cmdName: "uninterlacetable", exec: function () {
                        this.execCommand("uninterlacetable")
                    }
                }, {
                    label: n.setbackground, cmdName: "settablebackground", exec: function () {
                        this.execCommand("settablebackground", {repeat: !0, colorList: ["#bbb", "#ccc"]})
                    }
                }, {
                    label: n.unsetbackground, cmdName: "cleartablebackground", exec: function () {
                        this.execCommand("cleartablebackground")
                    }
                }, {
                    label: n.redandblue, cmdName: "settablebackground", exec: function () {
                        this.execCommand("settablebackground", {repeat: !0, colorList: ["red", "blue"]})
                    }
                }, {
                    label: n.threecolorgradient, cmdName: "settablebackground", exec: function () {
                        this.execCommand("settablebackground", {repeat: !0, colorList: ["#aaa", "#bbb", "#ccc"]})
                    }
                }]
            }, {
                group: n.aligntd,
                icon: "aligntd",
                subMenu: [{cmdName: "cellalignment", value: {align: "left", vAlign: "top"}}, {
                    cmdName: "cellalignment",
                    value: {align: "center", vAlign: "top"}
                }, {cmdName: "cellalignment", value: {align: "right", vAlign: "top"}}, {
                    cmdName: "cellalignment",
                    value: {align: "left", vAlign: "middle"}
                }, {cmdName: "cellalignment", value: {align: "center", vAlign: "middle"}}, {
                    cmdName: "cellalignment",
                    value: {align: "right", vAlign: "middle"}
                }, {cmdName: "cellalignment", value: {align: "left", vAlign: "bottom"}}, {
                    cmdName: "cellalignment",
                    value: {align: "center", vAlign: "bottom"}
                }, {cmdName: "cellalignment", value: {align: "right", vAlign: "bottom"}}]
            }, {
                group: n.aligntable,
                icon: "aligntable",
                subMenu: [{
                    cmdName: "tablealignment",
                    className: "left",
                    label: n.tableleft,
                    value: "left"
                }, {
                    cmdName: "tablealignment",
                    className: "center",
                    label: n.tablecenter,
                    value: "center"
                }, {cmdName: "tablealignment", className: "right", label: n.tableright, value: "right"}]
            }, "-", {
                label: n.insertparagraphbefore,
                cmdName: "insertparagraph",
                value: !0
            }, {label: n.insertparagraphafter, cmdName: "insertparagraph"}, {
                label: n.copy,
                cmdName: "copy",
                exec: function () {
                    alert(n.copymsg)
                },
                query: function () {
                    return 0
                }
            }, {
                label: n.paste, cmdName: "paste", exec: function () {
                    alert(n.pastemsg)
                }, query: function () {
                    return 0
                }
            }, {
                label: n.highlightcode, cmdName: "highlightcode", exec: function () {
                    UE.ui.highlightcode && new UE.ui.highlightcode(this), this.ui._dialogs.highlightcodeDialog.open()
                }
            }];
        if (i.length) {
            var r = UE.ui.uiUtils;
            t.addListener("contextmenu", function (o, a) {
                var s = r.getViewportOffsetByEvent(a);
                t.fireEvent("beforeselectionchange"), e && e.destroy();
                for (var l, c = 0, d = []; l = i[c]; c++) {
                    var u;
                    !function (e) {
                        function i() {
                            switch (e.icon) {
                                case"table":
                                    return t.getLang("contextMenu.table");
                                case"justifyjustify":
                                    return t.getLang("contextMenu.paragraph");
                                case"aligntd":
                                    return t.getLang("contextMenu.aligntd");
                                case"aligntable":
                                    return t.getLang("contextMenu.aligntable");
                                case"tablesort":
                                    return n.tablesort;
                                case"borderBack":
                                    return n.borderbk;
                                default:
                                    return ""
                            }
                        }

                        if ("-" == e)(u = d[d.length - 1]) && "-" !== u && d.push("-"); else if (e.hasOwnProperty("group")) {
                            for (var r, o = 0, a = []; r = e.subMenu[o]; o++)!function (e) {
                                "-" == e ? (u = a[a.length - 1]) && "-" !== u ? a.push("-") : a.splice(a.length - 1) : (t.commands[e.cmdName] || UE.commands[e.cmdName] || e.query) && (e.query ? e.query() : t.queryCommandState(e.cmdName)) > -1 && a.push({
                                    label: e.label || t.getLang("contextMenu." + e.cmdName + (e.value || "")) || "",
                                    className: "edui-for-" + e.cmdName + (e.className ? " edui-for-" + e.cmdName + "-" + e.className : ""),
                                    onclick: e.exec ? function () {
                                        e.exec.call(t)
                                    } : function () {
                                        t.execCommand(e.cmdName, e.value)
                                    }
                                })
                            }(r);
                            a.length && d.push({
                                label: i(),
                                className: "edui-for-" + e.icon,
                                subMenu: {items: a, editor: t}
                            })
                        } else if ((t.commands[e.cmdName] || UE.commands[e.cmdName] || e.query) && (e.query ? e.query.call(t) : t.queryCommandState(e.cmdName)) > -1) {
                            if ("highlightcode" == e.cmdName) {
                                if (1 == t.queryCommandState(e.cmdName) && "deletehighlightcode" != e.icon)return;
                                if (1 != t.queryCommandState(e.cmdName) && "deletehighlightcode" == e.icon)return
                            }
                            d.push({
                                label: e.label || t.getLang("contextMenu." + e.cmdName),
                                className: "edui-for-" + (e.icon ? e.icon : e.cmdName + (e.value || "")),
                                onclick: e.exec ? function () {
                                    e.exec.call(t)
                                } : function () {
                                    t.execCommand(e.cmdName, e.value)
                                }
                            })
                        }
                    }(l)
                }
                if ("-" == d[d.length - 1] && d.pop(), e = new UE.ui.Menu({
                        items: d,
                        editor: t
                    }), e.render(), e.showAt(s), domUtils.preventDefault(a), browser.ie) {
                    var f;
                    try {
                        f = t.selection.getNative().createRange()
                    } catch (e) {
                        return
                    }
                    if (f.item) {
                        var h = new dom.Range(t.document);
                        h.selectNode(f.item(0)).select(!0, !0)
                    }
                }
            })
        }
    }, UE.plugins.basestyle = function () {
        var e = {
            bold: ["strong", "b"],
            italic: ["em", "i"],
            subscript: ["sub"],
            superscript: ["sup"]
        }, t = function (e, t) {
            return domUtils.filterNodeList(e.selection.getStartElementPath(), t)
        }, n = this;
        n.addshortcutkey({Bold: "ctrl+66", Italic: "ctrl+73", Underline: "ctrl+85"}), n.addInputRule(function (e) {
            utils.each(e.getNodesByTagName("b i"), function (e) {
                switch (e.tagName) {
                    case"b":
                        e.tagName = "strong";
                        break;
                    case"i":
                        e.tagName = "em"
                }
            })
        });
        for (var i in e)!function (e, i) {
            n.commands[e] = {
                execCommand: function (e) {
                    var r = n.selection.getRange(), o = t(this, i);
                    if (r.collapsed) {
                        if (o) {
                            var a = n.document.createTextNode("");
                            r.insertNode(a).removeInlineStyle(i), r.setStartBefore(a), domUtils.remove(a)
                        } else {
                            var s = r.document.createElement(i[0]);
                            "superscript" != e && "subscript" != e || (a = n.document.createTextNode(""), r.insertNode(a).removeInlineStyle(["sub", "sup"]).setStartBefore(a).collapse(!0)), r.insertNode(s).setStart(s, 0)
                        }
                        r.collapse(!0)
                    } else"superscript" != e && "subscript" != e || o && o.tagName.toLowerCase() == e || r.removeInlineStyle(["sub", "sup"]), o ? r.removeInlineStyle(i) : r.applyInlineStyle(i[0]);
                    r.select()
                }, queryCommandState: function () {
                    return t(this, i) ? 1 : 0
                }
            }
        }(i, e[i])
    }, UE.plugins.elementpath = function () {
        var e, t, n = this;
        n.setOpt("elementPathEnabled", !0), n.options.elementPathEnabled && (n.commands.elementpath = {
            execCommand: function (i, r) {
                var o = t[r], a = n.selection.getRange();
                e = 1 * r, a.selectNode(o).select()
            }, queryCommandValue: function () {
                var n = [].concat(this.selection.getStartElementPath()).reverse(), i = [];
                t = n;
                for (var r, o = 0; r = n[o]; o++)if (3 != r.nodeType) {
                    var a = r.tagName.toLowerCase();
                    if ("img" == a && r.getAttribute("anchorname") && (a = "anchor"), i[o] = a, e == o) {
                        e = -1;
                        break
                    }
                }
                return i
            }
        })
    }, UE.plugins.formatmatch = function () {
        function e(o, a) {
            function s(e) {
                return f && e.selectNode(f), e.applyInlineStyle(i[i.length - 1].tagName, null, i)
            }

            if (browser.webkit)var l = "IMG" == a.target.tagName ? a.target : null;
            n.undoManger && n.undoManger.save();
            var c = n.selection.getRange(), d = l || c.getClosedNode();
            if (t && d && "IMG" == d.tagName)d.style.cssText += ";float:" + (t.style.cssFloat || t.style.styleFloat || "none") + ";display:" + (t.style.display || "inline"), t = null; else if (!t) {
                var u = c.collapsed;
                if (u) {
                    var f = n.document.createTextNode("match");
                    c.insertNode(f).select()
                }
                n.__hasEnterExecCommand = !0;
                var h = n.options.removeFormatAttributes;
                n.options.removeFormatAttributes = "", n.execCommand("removeformat"), n.options.removeFormatAttributes = h, n.__hasEnterExecCommand = !1, c = n.selection.getRange(),
                i.length && s(c), f && c.setStartBefore(f).collapse(!0), c.select(), f && domUtils.remove(f)
            }
            n.undoManger && n.undoManger.save(), n.removeListener("mouseup", e), r = 0
        }

        var t, n = this, i = [], r = 0;
        n.addListener("reset", function () {
            i = [], r = 0
        }), n.commands.formatmatch = {
            execCommand: function (o) {
                if (r)return r = 0, i = [], void n.removeListener("mouseup", e);
                var a = n.selection.getRange();
                if (t = a.getClosedNode(), !t || "IMG" != t.tagName) {
                    a.collapse(!0).shrinkBoundary();
                    var s = a.startContainer;
                    i = domUtils.findParents(s, !0, function (e) {
                        return !domUtils.isBlockElm(e) && 1 == e.nodeType
                    });
                    for (var l, c = 0; l = i[c]; c++)if ("A" == l.tagName) {
                        i.splice(c, 1);
                        break
                    }
                }
                n.addListener("mouseup", e), r = 1
            }, queryCommandState: function () {
                return r
            }, notNeedUndo: 1
        }
    }, UE.plugins.searchreplace = function () {
        var e, t, n = this;
        n.addListener("reset", function () {
            e = null, t = null
        }), n.commands.searchreplace = {
            execCommand: function (n, i) {
                var r, o, a = this, s = a.selection, l = 0, i = utils.extend(i, {
                    all: !1,
                    casesensitive: !1,
                    dir: 1
                }, !0);
                if (browser.ie)for (a.focus(); ;) {
                    var c;
                    if (o = a.document.selection.createRange(), c = o.duplicate(), c.moveToElementText(a.document.body), i.all ? (t = 0, i.dir = 1, e ? c.setEndPoint(i.dir == -1 ? "EndToStart" : "StartToEnd", e) : c.moveToElementText(a.document.body)) : (c.setEndPoint(i.dir == -1 ? "EndToStart" : "StartToEnd", o), i.hasOwnProperty("replaceStr") && c.setEndPoint(i.dir == -1 ? "StartToEnd" : "EndToStart", o)), o = c.duplicate(), !c.findText(i.searchStr, i.dir, i.casesensitive ? 4 : 0))return e = null, c = a.document.selection.createRange(), c.scrollIntoView(), l;
                    if (c.select(), i.hasOwnProperty("replaceStr") && (r = s.getRange(), r.deleteContents().insertNode(r.document.createTextNode(i.replaceStr)).select(), e = s.getNative().createRange()), l++, !i.all)break
                } else for (var c, d = a.window, u = s.getNative(); ;) {
                    if (i.all)e ? (e.collapse(!1), o = e) : (o = a.document.createRange(), o.setStart(a.document.body, 0), o.collapse(!0)), u.removeAllRanges(), u.addRange(o), t = 0, i.dir = 1; else {
                        browser.safari && a.selection.getRange().select();
                        var u = d.getSelection();
                        u.rangeCount ? o = u.getRangeAt(0) : (o = a.document.createRange(), o.setStart(a.body, 0), o.collapse(!0), u.addRange(o)), i.hasOwnProperty("replaceStr") && o.collapse(1 == i.dir)
                    }
                    if (t ? u.removeAllRanges() : (o.collapse(i.dir < 0), u.removeAllRanges(), u.addRange(o)), !d.find(i.searchStr, i.casesensitive, i.dir < 0))return e = null, u.removeAllRanges(), l;
                    if (t = 0, r = d.getSelection().getRangeAt(0), !r.collapsed && i.hasOwnProperty("replaceStr")) {
                        r.deleteContents();
                        var f = d.document.createTextNode(i.replaceStr);
                        r.insertNode(f), r.selectNode(f), u.addRange(r), e = r.cloneRange()
                    }
                    if (l++, !i.all)break
                }
                return !0
            }
        }
    }, UE.plugins.customstyle = function () {
        var e = this;
        e.setOpt({
            customstyle: [{
                tag: "h1",
                name: "tc",
                style: "font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;"
            }, {
                tag: "h1",
                name: "tl",
                style: "font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:left;margin:0 0 10px 0;"
            }, {
                tag: "span",
                name: "im",
                style: "font-size:16px;font-style:italic;font-weight:bold;line-height:18px;"
            }, {
                tag: "span",
                name: "hi",
                style: "font-size:16px;font-style:italic;font-weight:bold;color:rgb(51, 153, 204);line-height:18px;"
            }]
        }), e.commands.customstyle = {
            execCommand: function (e, t) {
                var n, i, r = this, o = t.tag, a = domUtils.findParent(r.selection.getStart(), function (e) {
                    return e.getAttribute("label")
                }, !0), s = {};
                for (var l in t)void 0 !== t[l] && (s[l] = t[l]);
                if (delete s.tag, a && a.getAttribute("label") == t.label) {
                    if (n = this.selection.getRange(), i = n.createBookmark(), n.collapsed)if (dtd.$block[a.tagName]) {
                        var c = r.document.createElement("p");
                        domUtils.moveChild(a, c), a.parentNode.insertBefore(c, a), domUtils.remove(a)
                    } else domUtils.remove(a, !0); else {
                        var d = domUtils.getCommonAncestor(i.start, i.end), u = domUtils.getElementsByTagName(d, o);
                        new RegExp(o, "i").test(d.tagName) && u.push(d);
                        for (var f, h = 0; f = u[h++];)if (f.getAttribute("label") == t.label) {
                            var p = domUtils.getPosition(f, i.start), m = domUtils.getPosition(f, i.end);
                            if ((p & domUtils.POSITION_FOLLOWING || p & domUtils.POSITION_CONTAINS) && (m & domUtils.POSITION_PRECEDING || m & domUtils.POSITION_CONTAINS) && dtd.$block[o]) {
                                var c = r.document.createElement("p");
                                domUtils.moveChild(f, c), f.parentNode.insertBefore(c, f)
                            }
                            domUtils.remove(f, !0)
                        }
                        a = domUtils.findParent(d, function (e) {
                            return e.getAttribute("label") == t.label
                        }, !0), a && domUtils.remove(a, !0)
                    }
                    n.moveToBookmark(i).select()
                } else if (dtd.$block[o]) {
                    if (this.execCommand("paragraph", o, s, "customstyle"), n = r.selection.getRange(), !n.collapsed) {
                        n.collapse(), a = domUtils.findParent(r.selection.getStart(), function (e) {
                            return e.getAttribute("label") == t.label
                        }, !0);
                        var g = r.document.createElement("p");
                        domUtils.insertAfter(a, g), domUtils.fillNode(r.document, g), n.setStart(g, 0).setCursor()
                    }
                } else {
                    if (n = r.selection.getRange(), n.collapsed)return a = r.document.createElement(o), domUtils.setAttributes(a, s), void n.insertNode(a).setStart(a, 0).setCursor();
                    i = n.createBookmark(), n.applyInlineStyle(o, s).moveToBookmark(i).select()
                }
            }, queryCommandValue: function () {
                var e = domUtils.filterNodeList(this.selection.getStartElementPath(), function (e) {
                    return e.getAttribute("label")
                });
                return e ? e.getAttribute("label") : ""
            }
        }, e.addListener("keyup", function (t, n) {
            var i = n.keyCode || n.which;
            if (32 == i || 13 == i) {
                var r = e.selection.getRange();
                if (r.collapsed) {
                    var o = domUtils.findParent(e.selection.getStart(), function (e) {
                        return e.getAttribute("label")
                    }, !0);
                    if (o && dtd.$block[o.tagName] && domUtils.isEmptyNode(o)) {
                        var a = e.document.createElement("p");
                        domUtils.insertAfter(o, a), domUtils.fillNode(e.document, a), domUtils.remove(o), r.setStart(a, 0).setCursor()
                    }
                }
            }
        })
    }, UE.plugins.catchremoteimage = function () {
        function catchremoteimage(e, t) {
            var n = e.join(separater), i = {timeout: 6e4, onsuccess: t.success, onerror: t.error};
            i[me.options.catchFieldName] = n, ajax.request(catcherUrl, i)
        }

        if (this.options.catchRemoteImageEnable !== !1) {
            var me = this;
            this.setOpt({
                localDomain: ["127.0.0.1", "localhost", "img.baidu.com"],
                separater: "ue_separate_ue",
                catchFieldName: "upfile",
                catchRemoteImageEnable: !0
            });
            var ajax = UE.ajax, localDomain = me.options.localDomain, catcherUrl = me.options.catcherUrl, separater = me.options.separater;
            me.addListener("afterpaste", function () {
                me.fireEvent("catchRemoteImage")
            }), me.addListener("catchRemoteImage", function () {
                for (var remoteImages = [], imgs = domUtils.getElementsByTagName(me.document, "img"), test = function (e, t) {
                    for (var n, i = 0; n = t[i++];)if (e.indexOf(n) !== -1)return !0;
                    return !1
                }, i = 0, ci; ci = imgs[i++];)if (!ci.getAttribute("word_img")) {
                    var src = ci.getAttribute("_src") || ci.src || "";
                    /^(https?|ftp):/i.test(src) && !test(src, localDomain) && remoteImages.push(src)
                }
                remoteImages.length && catchremoteimage(remoteImages, {
                    success: function (xhr) {
                        try {
                            var info = eval("(" + xhr.responseText + ")")
                        } catch (e) {
                            return
                        }
                        for (var srcUrls = info.srcUrl.split(separater), urls = info.url.split(separater), i = 0, ci; ci = imgs[i++];)for (var src = ci.getAttribute("_src") || ci.src || "", j = 0, cj; cj = srcUrls[j++];) {
                            var url = urls[j - 1];
                            if (src == cj && "error" != url) {
                                var newSrc = me.options.catcherPath + url;
                                domUtils.setAttributes(ci, {src: newSrc, _src: newSrc});
                                break
                            }
                        }
                        me.fireEvent("catchremotesuccess")
                    }, error: function () {
                        me.fireEvent("catchremoteerror")
                    }
                })
            })
        }
    }, UE.plugins.snapscreen = function () {
        var me = this, doc, snapplugin;
        me.setOpt({
            snapscreenServerPort: location.port,
            snapscreenImgAlign: "",
            snapscreenHost: location.hostname
        }), me.commands.snapscreen = {
            execCommand: function () {
                var me = this, lang = me.getLang("snapScreen_plugin");
                if (!snapplugin) {
                    var container = me.container;
                    doc = container.ownerDocument || container.document, snapplugin = doc.createElement("object");
                    try {
                        snapplugin.type = "application/x-pluginbaidusnap"
                    } catch (e) {
                        return
                    }
                    snapplugin.style.cssText = "position:absolute;left:-9999px;", snapplugin.setAttribute("width", "0"), snapplugin.setAttribute("height", "0"), container.appendChild(snapplugin)
                }
                var editorOptions = me.options, onSuccess = function (rs) {
                    try {
                        rs = eval("(" + rs + ")")
                    } catch (e) {
                        return void alert(lang.callBackErrorMsg)
                    }
                    return "SUCCESS" != rs.state ? void alert(rs.state) : void me.execCommand("insertimage", {
                        src: editorOptions.snapscreenPath + rs.url,
                        floatStyle: editorOptions.snapscreenImgAlign,
                        _src: editorOptions.snapscreenPath + rs.url
                    })
                }, onStartUpload = function () {
                }, onError = function () {
                    alert(lang.uploadErrorMsg)
                };
                try {
                    var port = editorOptions.snapscreenServerPort + "";
                    editorOptions.snapscreenServerUrl = editorOptions.snapscreenServerUrl.split(editorOptions.snapscreenHost), editorOptions.snapscreenServerUrl = editorOptions.snapscreenServerUrl[1] || editorOptions.snapscreenServerUrl[0], 0 === editorOptions.snapscreenServerUrl.indexOf(":" + port) && (editorOptions.snapscreenServerUrl = editorOptions.snapscreenServerUrl.substring(port.length + 1));
                    var ret = snapplugin.saveSnapshot(editorOptions.snapscreenHost, editorOptions.snapscreenServerUrl, port);
                    onSuccess(ret)
                } catch (e) {
                    me.ui._dialogs.snapscreenDialog.open()
                }
            }
        }
    }, UE.commands.insertparagraph = {
        execCommand: function (e, t) {
            for (var n, i = this, r = i.selection.getRange(), o = r.startContainer; o && !domUtils.isBody(o);)n = o, o = o.parentNode;
            if (n) {
                var a = i.document.createElement("p");
                t ? n.parentNode.insertBefore(a, n) : n.parentNode.insertBefore(a, n.nextSibling), domUtils.fillNode(i.document, a), r.setStart(a, 0).setCursor(!1, !0)
            }
        }
    }, UE.plugins.webapp = function () {
        function e(e, t, i) {
            return t ? '<iframe class="edui-faked-webapp" title="' + e.title + '" width="' + e.width + '" height="' + e.height + '"  scrolling="no" frameborder="0" src="' + e.url + '" logo_url = ' + e.logo + "></iframe>" : (i ? "<p>" : "") + '<img title="' + e.title + '" width="' + e.width + '" height="' + e.height + '" src="' + n.options.UEDITOR_HOME_URL + 'themes/default/images/spacer.gif" style="background:url(' + e.logo + ') no-repeat center center; border:1px solid gray;" class="edui-faked-webapp" _url="' + e.url + '" />' + (i ? "</p>" : "")
        }

        function t(t) {
            for (var i, r, o = domUtils.getElementsByTagName(n.document, t ? "img" : "iframe"), a = 0; r = o[a++];)"edui-faked-webapp" == r.className && (i = n.document.createElement("div"), i.innerHTML = e(t ? {
                url: r.getAttribute("_url"),
                width: r.width,
                height: r.height,
                title: r.title,
                logo: r.style.backgroundImage.replace("url(", "").replace(")", "")
            } : {
                url: r.getAttribute("src", 2),
                title: r.title,
                width: r.width,
                height: r.height,
                logo: r.getAttribute("logo_url")
            }, !!t, !1), r.parentNode.replaceChild(i.firstChild, r))
        }

        var n = this;
        n.addListener("beforegetcontent", function () {
            t(!0)
        }), n.addListener("aftersetcontent", function () {
            t(!1)
        }), n.addListener("aftergetcontent", function (e) {
            "aftergetcontent" == e && n.queryCommandState("source") || t(!1)
        }), n.commands.webapp = {
            execCommand: function (t, i) {
                n.execCommand("inserthtml", e(i, !1, !0))
            }
        }
    }, UE.plugins.template = function () {
        UE.commands.template = {
            execCommand: function (e, t) {
                t.html && this.execCommand("inserthtml", t.html)
            }
        }, this.addListener("click", function (e, t) {
            var n = t.target || t.srcElement, i = this.selection.getRange(), r = domUtils.findParent(n, function (e) {
                if (e.className && domUtils.hasClass(e, "ue_t"))return e
            }, !0);
            r && i.selectNode(r).shrinkBoundary().select()
        }), this.addListener("keydown", function (e, t) {
            var n = this.selection.getRange();
            if (!n.collapsed && !(t.ctrlKey || t.metaKey || t.shiftKey || t.altKey)) {
                var i = domUtils.findParent(n.startContainer, function (e) {
                    if (e.className && domUtils.hasClass(e, "ue_t"))return e
                }, !0);
                i && domUtils.removeClasses(i, ["ue_t"])
            }
        })
    }, UE.plugins.music = function () {
        function e(e, t, i, r, o, a) {
            return o ? '<embed type="application/x-shockwave-flash" class="edui-faked-music" pluginspage="http://www.macromedia.com/go/getflashplayer" src="' + e + '" width="' + t + '" height="' + i + '" align="' + r + '"' + ("none" != r ? ' style= "' + ("center" == r ? "display:block;" : " float: " + r) + '"' : "") + ' wmode="transparent" play="true" loop="false" menu="false" allowscriptaccess="never" allowfullscreen="true" >' : (a ? "<p " + ("none" != r ? "center" == r ? ' style="text-align:center;" ' : ' style="float:"' + r : "") + ">" : "") + '<img align="' + r + '" width="' + t + '" height="' + i + '" _url="' + e + '" class="edui-faked-music" src="' + n.options.langPath + n.options.lang + '/images/music.png" />' + (a ? "</p>" : "")
        }

        function t(t) {
            for (var i, r, o = domUtils.getElementsByTagName(n.document, t ? "img" : "embed"), a = 0; r = o[a++];)if ("edui-faked-music" == r.className) {
                i = n.document.createElement("div");
                var s = domUtils.getComputedStyle(r, "float");
                s = "none" == s ? r.getAttribute("align") || "" : s, i.innerHTML = e(t ? r.getAttribute("_url") : r.getAttribute("src"), r.width, r.height, s, t), r.parentNode.replaceChild(i.firstChild, r)
            }
        }

        var n = this;
        n.addListener("beforegetcontent", function () {
            t(!0)
        }), n.addListener("aftersetcontent", function () {
            t(!1)
        }), n.addListener("aftergetcontent", function (e) {
            "aftergetcontent" == e && n.queryCommandState("source") || t(!1)
        }), n.commands.music = {
            execCommand: function (t, n) {
                var i = this, r = e(n.url, n.width || 400, n.height || 95, "none", !1, !0);
                i.execCommand("inserthtml", r)
            }, queryCommandState: function () {
                var e = this, t = e.selection.getRange().getClosedNode(), n = t && "edui-faked-music" == t.className;
                return n ? 1 : 0
            }
        }
    };
    var baidu = baidu || {};
    baidu.editor = baidu.editor || {}, baidu.editor.ui = {}, function () {
        function e() {
            var e = document.getElementById("edui_fixedlayer");
            l.setViewportOffset(e, {left: 0, top: 0})
        }

        function t(t) {
            i.on(window, "scroll", e), i.on(window, "resize", baidu.editor.utils.defer(e, 0, !0))
        }

        var n = baidu.editor.browser, i = baidu.editor.dom.domUtils, r = "$EDITORUI", o = window[r] = {}, a = "ID" + r, s = 0, l = baidu.editor.ui.uiUtils = {
            uid: function (e) {
                return e ? e[a] || (e[a] = ++s) : ++s
            }, hook: function (e, t) {
                var n;
                return e && e._callbacks ? n = e : (n = function () {
                    var t;
                    e && (t = e.apply(this, arguments));
                    for (var i = n._callbacks, r = i.length; r--;) {
                        var o = i[r].apply(this, arguments);
                        void 0 === t && (t = o)
                    }
                    return t
                }, n._callbacks = []), n._callbacks.push(t), n
            }, createElementByHtml: function (e) {
                var t = document.createElement("div");
                return t.innerHTML = e, t = t.firstChild, t.parentNode.removeChild(t), t
            }, getViewportElement: function () {
                return n.ie && n.quirks ? document.body : document.documentElement
            }, getClientRect: function (e) {
                var t;
                try {
                    t = e.getBoundingClientRect()
                } catch (e) {
                    t = {left: 0, top: 0, height: 0, width: 0}
                }
                for (var n, r = {
                    left: Math.round(t.left),
                    top: Math.round(t.top),
                    height: Math.round(t.bottom - t.top),
                    width: Math.round(t.right - t.left)
                }; (n = e.ownerDocument) !== document && (e = i.getWindow(n).frameElement);)t = e.getBoundingClientRect(), r.left += t.left, r.top += t.top;
                return r.bottom = r.top + r.height, r.right = r.left + r.width, r
            }, getViewportRect: function () {
                var e = l.getViewportElement(), t = 0 | (window.innerWidth || e.clientWidth), n = 0 | (window.innerHeight || e.clientHeight);
                return {left: 0, top: 0, height: n, width: t, bottom: n, right: t}
            }, setViewportOffset: function (e, t) {
                var n = l.getFixedLayer();
                e.parentNode === n ? (e.style.left = t.left + "px", e.style.top = t.top + "px") : i.setViewportOffset(e, t)
            }, getEventOffset: function (e) {
                var t = e.target || e.srcElement, n = l.getClientRect(t), i = l.getViewportOffsetByEvent(e);
                return {left: i.left - n.left, top: i.top - n.top}
            }, getViewportOffsetByEvent: function (e) {
                var t = e.target || e.srcElement, n = i.getWindow(t).frameElement, r = {
                    left: e.clientX,
                    top: e.clientY
                };
                if (n && t.ownerDocument !== document) {
                    var o = l.getClientRect(n);
                    r.left += o.left, r.top += o.top
                }
                return r
            }, setGlobal: function (e, t) {
                return o[e] = t, r + '["' + e + '"]'
            }, unsetGlobal: function (e) {
                delete o[e]
            }, copyAttributes: function (e, t) {
                for (var r = t.attributes, o = r.length; o--;) {
                    var a = r[o];
                    "style" == a.nodeName || "class" == a.nodeName || n.ie && !a.specified || e.setAttribute(a.nodeName, a.nodeValue)
                }
                t.className && i.addClass(e, t.className), t.style.cssText && (e.style.cssText += ";" + t.style.cssText)
            }, removeStyle: function (e, t) {
                if (e.style.removeProperty)e.style.removeProperty(t); else {
                    if (!e.style.removeAttribute)throw"";
                    e.style.removeAttribute(t)
                }
            }, contains: function (e, t) {
                return e && t && e !== t && (e.contains ? e.contains(t) : 16 & e.compareDocumentPosition(t))
            }, startDrag: function (e, t, n) {
                function i(e) {
                    var n = e.clientX - a, i = e.clientY - s;
                    t.ondragmove(n, i, e), e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0
                }

                function r(e) {
                    n.removeEventListener("mousemove", i, !0), n.removeEventListener("mouseup", r, !0), window.removeEventListener("mouseup", r, !0), t.ondragstop()
                }

                function o() {
                    l.releaseCapture(), l.detachEvent("onmousemove", i), l.detachEvent("onmouseup", o), l.detachEvent("onlosecaptrue", o), t.ondragstop()
                }

                var n = n || document, a = e.clientX, s = e.clientY;
                if (n.addEventListener)n.addEventListener("mousemove", i, !0), n.addEventListener("mouseup", r, !0), window.addEventListener("mouseup", r, !0), e.preventDefault(); else {
                    var l = e.srcElement;
                    l.setCapture(), l.attachEvent("onmousemove", i), l.attachEvent("onmouseup", o), l.attachEvent("onlosecaptrue", o), e.returnValue = !1
                }
                t.ondragstart()
            }, getFixedLayer: function () {
                var i = document.getElementById("edui_fixedlayer");
                return null == i && (i = document.createElement("div"), i.id = "edui_fixedlayer", document.body.appendChild(i), n.ie && n.version <= 8 ? (i.style.position = "absolute", t(), setTimeout(e)) : i.style.position = "fixed", i.style.left = "0", i.style.top = "0", i.style.width = "0", i.style.height = "0"), i
            }, makeUnselectable: function (e) {
                if (n.opera || n.ie && n.version < 9) {
                    if (e.unselectable = "on", e.hasChildNodes())for (var t = 0; t < e.childNodes.length; t++)1 == e.childNodes[t].nodeType && l.makeUnselectable(e.childNodes[t])
                } else void 0 !== e.style.MozUserSelect ? e.style.MozUserSelect = "none" : void 0 !== e.style.WebkitUserSelect ? e.style.WebkitUserSelect = "none" : void 0 !== e.style.KhtmlUserSelect && (e.style.KhtmlUserSelect = "none")
            }
        }
    }(), function () {
        var e = baidu.editor.utils, t = baidu.editor.ui.uiUtils, n = baidu.editor.EventBase, i = baidu.editor.ui.UIBase = function () {
        };
        i.prototype = {
            className: "", uiName: "", initOptions: function (e) {
                var n = this;
                for (var i in e)n[i] = e[i];
                this.id = this.id || "edui" + t.uid()
            }, initUIBase: function () {
                this._globalKey = e.unhtml(t.setGlobal(this.id, this))
            }, render: function (e) {
                for (var n, i = this.renderHtml(), r = t.createElementByHtml(i), o = domUtils.getElementsByTagName(r, "*"), a = "edui-" + (this.theme || this.editor.options.theme), s = document.getElementById("edui_fixedlayer"), l = 0; n = o[l++];)domUtils.addClass(n, a);
                domUtils.addClass(r, a), s && (s.className = "", domUtils.addClass(s, a));
                var c = this.getDom();
                null != c ? (c.parentNode.replaceChild(r, c), t.copyAttributes(r, c)) : ("string" == typeof e && (e = document.getElementById(e)), e = e || t.getFixedLayer(), domUtils.addClass(e, a), e.appendChild(r)), this.postRender()
            }, getDom: function (e) {
                return e ? document.getElementById(this.id + "_" + e) : document.getElementById(this.id)
            }, postRender: function () {
                this.fireEvent("postrender")
            }, getHtmlTpl: function () {
                return ""
            }, formatHtml: function (e) {
                var t = "edui-" + this.uiName;
                return e.replace(/##/g, this.id).replace(/%%-/g, this.uiName ? t + "-" : "").replace(/%%/g, (this.uiName ? t : "") + " " + this.className).replace(/\$\$/g, this._globalKey)
            }, renderHtml: function () {
                return this.formatHtml(this.getHtmlTpl())
            }, dispose: function () {
                var e = this.getDom();
                e && baidu.editor.dom.domUtils.remove(e), t.unsetGlobal(this.id)
            }
        }, e.inherits(i, n)
    }(), function () {
        var e = baidu.editor.utils, t = baidu.editor.ui.UIBase, n = baidu.editor.ui.Separator = function (e) {
            this.initOptions(e), this.initSeparator()
        };
        n.prototype = {
            uiName: "separator", initSeparator: function () {
                this.initUIBase()
            }, getHtmlTpl: function () {
                return '<div id="##" class="edui-box %%"></div>'
            }
        }, e.inherits(n, t)
    }(), function () {
        var e = baidu.editor.utils, t = baidu.editor.dom.domUtils, n = baidu.editor.ui.UIBase, i = baidu.editor.ui.uiUtils, r = baidu.editor.ui.Mask = function (e) {
            this.initOptions(e), this.initUIBase()
        };
        r.prototype = {
            getHtmlTpl: function () {
                return '<div id="##" class="edui-mask %%" onmousedown="return $$._onMouseDown(event, this);"></div>'
            }, postRender: function () {
                var e = this;
                t.on(window, "resize", function () {
                    setTimeout(function () {
                        e.isHidden() || e._fill()
                    })
                })
            }, show: function (e) {
                this._fill(), this.getDom().style.display = "", this.getDom().style.zIndex = e
            }, hide: function () {
                this.getDom().style.display = "none", this.getDom().style.zIndex = ""
            }, isHidden: function () {
                return "none" == this.getDom().style.display
            }, _onMouseDown: function () {
                return !1
            }, _fill: function () {
                var e = this.getDom(), t = i.getViewportRect();
                e.style.width = t.width + "px", e.style.height = t.height + "px"
            }
        }, e.inherits(r, n)
    }(), function () {
        function e(e, t) {
            for (var n = 0; n < a.length; n++) {
                var i = a[n];
                if (!i.isHidden() && i.queryAutoHide(t) !== !1) {
                    if (e && /scroll/gi.test(e.type) && "edui-wordpastepop" == i.className)return;
                    i.hide()
                }
            }
        }

        var t = baidu.editor.utils, n = baidu.editor.ui.uiUtils, i = baidu.editor.dom.domUtils, r = baidu.editor.ui.UIBase, o = baidu.editor.ui.Popup = function (e) {
            this.initOptions(e), this.initPopup()
        }, a = [];
        o.postHide = e;
        var s = ["edui-anchor-topleft", "edui-anchor-topright", "edui-anchor-bottomleft", "edui-anchor-bottomright"];
        o.prototype = {
            SHADOW_RADIUS: 5,
            content: null,
            _hidden: !1,
            autoRender: !0,
            canSideLeft: !0,
            canSideUp: !0,
            initPopup: function () {
                this.initUIBase(), a.push(this)
            },
            getHtmlTpl: function () {
                return '<div id="##" class="edui-popup %%"> <div id="##_body" class="edui-popup-body"> <iframe style="position:absolute;z-index:-1;left:0;top:0;background-color: transparent;" frameborder="0" width="100%" height="100%" src="javascript:"></iframe> <div class="edui-shadow"></div> <div id="##_content" class="edui-popup-content">' + this.getContentHtmlTpl() + "  </div> </div></div>"
            },
            getContentHtmlTpl: function () {
                return this.content ? "string" == typeof this.content ? this.content : this.content.renderHtml() : ""
            },
            _UIBase_postRender: r.prototype.postRender,
            postRender: function () {
                this.content instanceof r && this.content.postRender(), this.fireEvent("postRenderAfter"), this.hide(!0), this._UIBase_postRender()
            },
            _doAutoRender: function () {
                !this.getDom() && this.autoRender && this.render()
            },
            mesureSize: function () {
                var e = this.getDom("content");
                return n.getClientRect(e)
            },
            fitSize: function () {
                var e = this.getDom("body");
                e.style.width = "", e.style.height = "";
                var t = this.mesureSize();
                return e.style.width = t.width + "px", e.style.height = t.height + "px", t
            },
            showAnchor: function (e, t) {
                this.showAnchorRect(n.getClientRect(e), t)
            },
            showAnchorRect: function (e, t, r) {
                this._doAutoRender();
                var o = n.getViewportRect();
                this._show();
                var a, l, c, d, u = this.fitSize();
                t ? (a = this.canSideLeft && e.right + u.width > o.right && e.left > u.width, l = this.canSideUp && e.top + u.height > o.bottom && e.bottom > u.height, c = a ? e.left - u.width : e.right, d = l ? e.bottom - u.height : e.top) : (a = this.canSideLeft && e.right + u.width > o.right && e.left > u.width, l = this.canSideUp && e.top + u.height > o.bottom && e.bottom > u.height, c = a ? e.right - u.width : e.left, d = l ? e.top - u.height : e.bottom);
                var f = this.getDom();
                n.setViewportOffset(f, {
                    left: c,
                    top: d
                }), i.removeClasses(f, s), f.className += " " + s[2 * (l ? 1 : 0) + (a ? 1 : 0)], this.editor && (f.style.zIndex = 1 * this.editor.container.style.zIndex + 10, baidu.editor.ui.uiUtils.getFixedLayer().style.zIndex = f.style.zIndex - 1)
            },
            showAt: function (e) {
                var t = e.left, n = e.top, i = {left: t, top: n, right: t, bottom: n, height: 0, width: 0};
                this.showAnchorRect(i, !1, !0)
            },
            _show: function () {
                if (this._hidden) {
                    var e = this.getDom();
                    e.style.display = "", this._hidden = !1, this.fireEvent("show")
                }
            },
            isHidden: function () {
                return this._hidden
            },
            show: function () {
                this._doAutoRender(), this._show()
            },
            hide: function (e) {
                !this._hidden && this.getDom() && (this.getDom().style.display = "none", this._hidden = !0, e || this.fireEvent("hide"))
            },
            queryAutoHide: function (e) {
                return !e || !n.contains(this.getDom(), e)
            }
        }, t.inherits(o, r), i.on(document, "mousedown", function (t) {
            var n = t.target || t.srcElement;
            e(t, n)
        }), i.on(window, "scroll", function (t, n) {
            e(t, n)
        })
    }(), function () {
        function e(e, t) {
            for (var n = '<div id="##" class="edui-colorpicker %%"><div class="edui-colorpicker-topbar edui-clearfix"><div unselectable="on" id="##_preview" class="edui-colorpicker-preview"></div><div unselectable="on" class="edui-colorpicker-nocolor" onclick="$$._onPickNoColor(event, this);">' + e + '</div></div><table  class="edui-box" style="border-collapse: collapse;" onmouseover="$$._onTableOver(event, this);" onmouseout="$$._onTableOut(event, this);" onclick="return $$._onTableClick(event, this);" cellspacing="0" cellpadding="0"><tr style="border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;padding-top: 2px"><td colspan="10">' + t.getLang("themeColor") + '</td> </tr><tr class="edui-colorpicker-tablefirstrow" >', i = 0; i < r.length; i++)i && i % 10 === 0 && (n += "</tr>" + (60 == i ? '<tr style="border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;"><td colspan="10">' + t.getLang("standardColor") + "</td></tr>" : "") + "<tr" + (60 == i ? ' class="edui-colorpicker-tablefirstrow"' : "") + ">"), n += i < 70 ? '<td style="padding: 0 2px;"><a hidefocus title="' + r[i] + '" onclick="return false;" href="javascript:" unselectable="on" class="edui-box edui-colorpicker-colorcell" data-color="#' + r[i] + '" style="background-color:#' + r[i] + ";border:solid #ccc;" + (i < 10 || i >= 60 ? "border-width:1px;" : i >= 10 && i < 20 ? "border-width:1px 1px 0 1px;" : "border-width:0 1px 0 1px;") + '"></a></td>' : "";
            return n += "</tr></table></div>"
        }

        var t = baidu.editor.utils, n = baidu.editor.ui.UIBase, i = baidu.editor.ui.ColorPicker = function (e) {
            this.initOptions(e), this.noColorText = this.noColorText || this.editor.getLang("clearColor"), this.initUIBase()
        };
        i.prototype = {
            getHtmlTpl: function () {
                return e(this.noColorText, this.editor)
            }, _onTableClick: function (e) {
                var t = e.target || e.srcElement, n = t.getAttribute("data-color");
                n && this.fireEvent("pickcolor", n)
            }, _onTableOver: function (e) {
                var t = e.target || e.srcElement, n = t.getAttribute("data-color");
                n && (this.getDom("preview").style.backgroundColor = n)
            }, _onTableOut: function () {
                this.getDom("preview").style.backgroundColor = ""
            }, _onPickNoColor: function () {
                this.fireEvent("picknocolor")
            }
        }, t.inherits(i, n);
        var r = "ffffff,000000,eeece1,1f497d,4f81bd,c0504d,9bbb59,8064a2,4bacc6,f79646,f2f2f2,7f7f7f,ddd9c3,c6d9f0,dbe5f1,f2dcdb,ebf1dd,e5e0ec,dbeef3,fdeada,d8d8d8,595959,c4bd97,8db3e2,b8cce4,e5b9b7,d7e3bc,ccc1d9,b7dde8,fbd5b5,bfbfbf,3f3f3f,938953,548dd4,95b3d7,d99694,c3d69b,b2a2c7,92cddc,fac08f,a5a5a5,262626,494429,17365d,366092,953734,76923c,5f497a,31859b,e36c09,7f7f7f,0c0c0c,1d1b10,0f243e,244061,632423,4f6128,3f3151,205867,974806,c00000,ff0000,ffc000,ffff00,92d050,00b050,00b0f0,0070c0,002060,7030a0,".split(",")
    }(), function () {
        var e = baidu.editor.utils, t = baidu.editor.ui.uiUtils, n = baidu.editor.ui.UIBase, i = baidu.editor.ui.TablePicker = function (e) {
            this.initOptions(e), this.initTablePicker()
        };
        i.prototype = {
            defaultNumRows: 10,
            defaultNumCols: 10,
            maxNumRows: 20,
            maxNumCols: 20,
            numRows: 10,
            numCols: 10,
            lengthOfCellSide: 22,
            initTablePicker: function () {
                this.initUIBase()
            },
            getHtmlTpl: function () {
                return '<div id="##" class="edui-tablepicker %%"><div class="edui-tablepicker-body"><div class="edui-infoarea"><span id="##_label" class="edui-label"></span></div><div class="edui-pickarea" onmousemove="$$._onMouseMove(event, this);" onmouseover="$$._onMouseOver(event, this);" onmouseout="$$._onMouseOut(event, this);" onclick="$$._onClick(event, this);"><div id="##_overlay" class="edui-overlay"></div></div></div></div>'
            },
            _UIBase_render: n.prototype.render,
            render: function (e) {
                this._UIBase_render(e), this.getDom("label").innerHTML = "0" + this.editor.getLang("t_row") + " x 0" + this.editor.getLang("t_col")
            },
            _track: function (e, t) {
                var n = this.getDom("overlay").style, i = this.lengthOfCellSide;
                n.width = e * i + "px", n.height = t * i + "px";
                var r = this.getDom("label");
                r.innerHTML = e + this.editor.getLang("t_col") + " x " + t + this.editor.getLang("t_row"), this.numCols = e, this.numRows = t
            },
            _onMouseOver: function (e, n) {
                var i = e.relatedTarget || e.fromElement;
                t.contains(n, i) || n === i || (this.getDom("label").innerHTML = "0" + this.editor.getLang("t_col") + " x 0" + this.editor.getLang("t_row"), this.getDom("overlay").style.visibility = "")
            },
            _onMouseOut: function (e, n) {
                var i = e.relatedTarget || e.toElement;
                t.contains(n, i) || n === i || (this.getDom("label").innerHTML = "0" + this.editor.getLang("t_col") + " x 0" + this.editor.getLang("t_row"), this.getDom("overlay").style.visibility = "hidden")
            },
            _onMouseMove: function (e, n) {
                var i = (this.getDom("overlay").style, t.getEventOffset(e)), r = this.lengthOfCellSide, o = Math.ceil(i.left / r), a = Math.ceil(i.top / r);
                this._track(o, a)
            },
            _onClick: function () {
                this.fireEvent("picktable", this.numCols, this.numRows)
            }
        }, e.inherits(i, n)
    }(), function () {
        var e = baidu.editor.browser, t = baidu.editor.dom.domUtils, n = baidu.editor.ui.uiUtils, i = 'onmousedown="$$.Stateful_onMouseDown(event, this);" onmouseup="$$.Stateful_onMouseUp(event, this);"' + (e.ie ? ' onmouseenter="$$.Stateful_onMouseEnter(event, this);" onmouseleave="$$.Stateful_onMouseLeave(event, this);"' : ' onmouseover="$$.Stateful_onMouseOver(event, this);" onmouseout="$$.Stateful_onMouseOut(event, this);"');
        baidu.editor.ui.Stateful = {
            alwalysHoverable: !1, target: null, Stateful_init: function () {
                this._Stateful_dGetHtmlTpl = this.getHtmlTpl, this.getHtmlTpl = this.Stateful_getHtmlTpl
            }, Stateful_getHtmlTpl: function () {
                var e = this._Stateful_dGetHtmlTpl();
                return e.replace(/stateful/g, function () {
                    return i
                })
            }, Stateful_onMouseEnter: function (e, t) {
                this.target = t, this.isDisabled() && !this.alwalysHoverable || (this.addState("hover"), this.fireEvent("over"))
            }, Stateful_onMouseLeave: function (e, t) {
                this.isDisabled() && !this.alwalysHoverable || (this.removeState("hover"), this.removeState("active"), this.fireEvent("out"))
            }, Stateful_onMouseOver: function (e, t) {
                var i = e.relatedTarget;
                n.contains(t, i) || t === i || this.Stateful_onMouseEnter(e, t)
            }, Stateful_onMouseOut: function (e, t) {
                var i = e.relatedTarget;
                n.contains(t, i) || t === i || this.Stateful_onMouseLeave(e, t)
            }, Stateful_onMouseDown: function (e, t) {
                this.isDisabled() || this.addState("active")
            }, Stateful_onMouseUp: function (e, t) {
                this.isDisabled() || this.removeState("active")
            }, Stateful_postRender: function () {
                this.disabled && !this.hasState("disabled") && this.addState("disabled")
            }, hasState: function (e) {
                return t.hasClass(this.getStateDom(), "edui-state-" + e)
            }, addState: function (e) {
                this.hasState(e) || (this.getStateDom().className += " edui-state-" + e)
            }, removeState: function (e) {
                this.hasState(e) && t.removeClasses(this.getStateDom(), ["edui-state-" + e])
            }, getStateDom: function () {
                return this.getDom("state")
            }, isChecked: function () {
                return this.hasState("checked")
            }, setChecked: function (e) {
                !this.isDisabled() && e ? this.addState("checked") : this.removeState("checked")
            }, isDisabled: function () {
                return this.hasState("disabled")
            }, setDisabled: function (e) {
                e ? (this.removeState("hover"), this.removeState("checked"), this.removeState("active"), this.addState("disabled")) : this.removeState("disabled")
            }
        }
    }(), function () {
        var e = baidu.editor.utils, t = baidu.editor.ui.UIBase, n = baidu.editor.ui.Stateful, i = baidu.editor.ui.Button = function (e) {
            this.initOptions(e), this.initButton()
        };
        i.prototype = {
            uiName: "button", label: "", title: "", showIcon: !0, showText: !0, initButton: function () {
                this.initUIBase(), this.Stateful_init()
            }, getHtmlTpl: function () {
                return '<div id="##" class="edui-box %%"><div id="##_state" stateful><div class="%%-wrap"><div id="##_body" unselectable="on" ' + (this.title ? 'title="' + this.title + '"' : "") + ' class="%%-body" onmousedown="return false;" onclick="return $$._onClick();">' + (this.showIcon ? '<div class="edui-box edui-icon"></div>' : "") + (this.showText ? '<div class="edui-box edui-label">' + this.label + "</div>" : "") + "</div></div></div></div>"
            }, postRender: function () {
                this.Stateful_postRender(), this.setDisabled(this.disabled)
            }, _onClick: function () {
                this.isDisabled() || this.fireEvent("click")
            }
        }, e.inherits(i, t), e.extend(i.prototype, n)
    }(), function () {
        var e = baidu.editor.utils, t = baidu.editor.ui.uiUtils, n = (baidu.editor.dom.domUtils, baidu.editor.ui.UIBase), i = baidu.editor.ui.Stateful, r = baidu.editor.ui.SplitButton = function (e) {
            this.initOptions(e), this.initSplitButton()
        };
        r.prototype = {
            popup: null, uiName: "splitbutton", title: "", initSplitButton: function () {
                this.initUIBase(), this.Stateful_init();
                if (null != this.popup) {
                    var e = this.popup;
                    this.popup = null, this.setPopup(e)
                }
            }, _UIBase_postRender: n.prototype.postRender, postRender: function () {
                this.Stateful_postRender(), this._UIBase_postRender()
            }, setPopup: function (n) {
                this.popup !== n && (null != this.popup && this.popup.dispose(), n.addListener("show", e.bind(this._onPopupShow, this)), n.addListener("hide", e.bind(this._onPopupHide, this)), n.addListener("postrender", e.bind(function () {
                    n.getDom("body").appendChild(t.createElementByHtml('<div id="' + this.popup.id + '_bordereraser" class="edui-bordereraser edui-background" style="width:' + (t.getClientRect(this.getDom()).width - 2) + 'px"></div>')), n.getDom().className += " " + this.className
                }, this)), this.popup = n)
            }, _onPopupShow: function () {
                this.addState("opened")
            }, _onPopupHide: function () {
                this.removeState("opened")
            }, getHtmlTpl: function () {
                return '<div id="##" class="edui-box %%"><div ' + (this.title ? 'title="' + this.title + '"' : "") + ' id="##_state" stateful><div class="%%-body"><div id="##_button_body" class="edui-box edui-button-body" onclick="$$._onButtonClick(event, this);"><div class="edui-box edui-icon"></div></div><div class="edui-box edui-splitborder"></div><div class="edui-box edui-arrow" onclick="$$._onArrowClick();"></div></div></div></div>'
            }, showPopup: function () {
                var e = t.getClientRect(this.getDom());
                e.top -= this.popup.SHADOW_RADIUS, e.height += this.popup.SHADOW_RADIUS, this.popup.showAnchorRect(e)
            }, _onArrowClick: function (e, t) {
                this.isDisabled() || this.showPopup()
            }, _onButtonClick: function () {
                this.isDisabled() || this.fireEvent("buttonclick")
            }
        }, e.inherits(r, n), e.extend(r.prototype, i, !0)
    }(), function () {
        var e = baidu.editor.utils, t = baidu.editor.ui.uiUtils, n = baidu.editor.ui.ColorPicker, i = baidu.editor.ui.Popup, r = baidu.editor.ui.SplitButton, o = baidu.editor.ui.ColorButton = function (e) {
            this.initOptions(e), this.initColorButton()
        };
        o.prototype = {
            initColorButton: function () {
                var e = this;
                this.popup = new i({
                    content: new n({
                        noColorText: e.editor.getLang("clearColor"),
                        editor: e.editor,
                        onpickcolor: function (t, n) {
                            e._onPickColor(n)
                        },
                        onpicknocolor: function (t, n) {
                            e._onPickNoColor(n)
                        }
                    }), editor: e.editor
                }), this.initSplitButton()
            }, _SplitButton_postRender: r.prototype.postRender, postRender: function () {
                this._SplitButton_postRender(), this.getDom("button_body").appendChild(t.createElementByHtml('<div id="' + this.id + '_colorlump" class="edui-colorlump"></div>')), this.getDom().className += " edui-colorbutton"
            }, setColor: function (e) {
                this.getDom("colorlump").style.backgroundColor = e, this.color = e
            }, _onPickColor: function (e) {
                this.fireEvent("pickcolor", e) !== !1 && (this.setColor(e), this.popup.hide())
            }, _onPickNoColor: function (e) {
                this.fireEvent("picknocolor") !== !1 && this.popup.hide()
            }
        }, e.inherits(o, r)
    }(), function () {
        var e = baidu.editor.utils, t = baidu.editor.ui.Popup, n = baidu.editor.ui.TablePicker, i = baidu.editor.ui.SplitButton, r = baidu.editor.ui.TableButton = function (e) {
            this.initOptions(e), this.initTableButton()
        };
        r.prototype = {
            initTableButton: function () {
                var e = this;
                this.popup = new t({
                    content: new n({
                        editor: e.editor, onpicktable: function (t, n, i) {
                            e._onPickTable(n, i)
                        }
                    }), editor: e.editor
                }), this.initSplitButton()
            }, _onPickTable: function (e, t) {
                this.fireEvent("picktable", e, t) !== !1 && this.popup.hide()
            }
        }, e.inherits(r, i)
    }(), function () {
        var e = baidu.editor.utils, t = baidu.editor.ui.UIBase, n = baidu.editor.ui.AutoTypeSetPicker = function (e) {
            this.initOptions(e), this.initAutoTypeSetPicker()
        };
        n.prototype = {
            initAutoTypeSetPicker: function () {
                this.initUIBase()
            }, getHtmlTpl: function () {
                var e = this.editor, t = e.options.autotypeset, n = e.getLang("autoTypeSet"), i = "textAlignValue" + e.uid, r = "imageBlockLineValue" + e.uid;
                return '<div id="##" class="edui-autotypesetpicker %%"><div class="edui-autotypesetpicker-body"><table ><tr><td nowrap colspan="2"><input type="checkbox" name="mergeEmptyline" ' + (t.mergeEmptyline ? "checked" : "") + ">" + n.mergeLine + '</td><td colspan="2"><input type="checkbox" name="removeEmptyline" ' + (t.removeEmptyline ? "checked" : "") + ">" + n.delLine + '</td></tr><tr><td nowrap colspan="2"><input type="checkbox" name="removeClass" ' + (t.removeClass ? "checked" : "") + ">" + n.removeFormat + '</td><td colspan="2"><input type="checkbox" name="indent" ' + (t.indent ? "checked" : "") + ">" + n.indent + '</td></tr><tr><td nowrap colspan="2"><input type="checkbox" name="textAlign" ' + (t.textAlign ? "checked" : "") + ">" + n.alignment + '</td><td colspan="2" id="' + i + '"><input type="radio" name="' + i + '" value="left" ' + (t.textAlign && "left" == t.textAlign ? "checked" : "") + ">" + e.getLang("justifyleft") + '<input type="radio" name="' + i + '" value="center" ' + (t.textAlign && "center" == t.textAlign ? "checked" : "") + ">" + e.getLang("justifycenter") + '<input type="radio" name="' + i + '" value="right" ' + (t.textAlign && "right" == t.textAlign ? "checked" : "") + ">" + e.getLang("justifyright") + ' </tr><tr><td nowrap colspan="2"><input type="checkbox" name="imageBlockLine" ' + (t.imageBlockLine ? "checked" : "") + ">" + n.imageFloat + '</td><td nowrap colspan="2" id="' + r + '"><input type="radio" name="' + r + '" value="none" ' + (t.imageBlockLine && "none" == t.imageBlockLine ? "checked" : "") + ">" + e.getLang("default") + '<input type="radio" name="' + r + '" value="left" ' + (t.imageBlockLine && "left" == t.imageBlockLine ? "checked" : "") + ">" + e.getLang("justifyleft") + '<input type="radio" name="' + r + '" value="center" ' + (t.imageBlockLine && "center" == t.imageBlockLine ? "checked" : "") + ">" + e.getLang("justifycenter") + '<input type="radio" name="' + r + '" value="right" ' + (t.imageBlockLine && "right" == t.imageBlockLine ? "checked" : "") + ">" + e.getLang("justifyright") + '</tr><tr><td nowrap colspan="2"><input type="checkbox" name="clearFontSize" ' + (t.clearFontSize ? "checked" : "") + ">" + n.removeFontsize + '</td><td colspan="2"><input type="checkbox" name="clearFontFamily" ' + (t.clearFontFamily ? "checked" : "") + ">" + n.removeFontFamily + '</td></tr><tr><td nowrap colspan="4"><input type="checkbox" name="removeEmptyNode" ' + (t.removeEmptyNode ? "checked" : "") + ">" + n.removeHtml + '</td></tr><tr><td nowrap colspan="4"><input type="checkbox" name="pasteFilter" ' + (t.pasteFilter ? "checked" : "") + ">" + n.pasteFilter + '</td></tr><tr><td nowrap colspan="4" align="right"><button >' + n.run + "</button></td></tr></table></div></div>"
            }, _UIBase_render: t.prototype.render
        }, e.inherits(n, t)
    }(), function () {
        function e(e) {
            for (var t, n = e.editor.options.autotypeset, i = e.getDom(), r = e.editor.uid, o = null, a = null, s = domUtils.getElementsByTagName(i, "input"), l = s.length - 1; t = s[l--];)if (o = t.getAttribute("type"), "checkbox" == o && (a = t.getAttribute("name"), n[a] && delete n[a], t.checked)) {
                var c = document.getElementById(a + "Value" + r);
                if (c) {
                    if (/input/gi.test(c.tagName))n[a] = c.value; else for (var d, u = c.getElementsByTagName("input"), f = u.length - 1; d = u[f--];)if (d.checked) {
                        n[a] = d.value;
                        break
                    }
                } else n[a] = !0
            }
            for (var h, p = domUtils.getElementsByTagName(i, "select"), l = 0; h = p[l++];) {
                var m = h.getAttribute("name");
                n[m] = n[m] ? h.value : ""
            }
            e.editor.options.autotypeset = n
        }

        var t = baidu.editor.utils, n = baidu.editor.ui.Popup, i = baidu.editor.ui.AutoTypeSetPicker, r = baidu.editor.ui.SplitButton, o = baidu.editor.ui.AutoTypeSetButton = function (e) {
            this.initOptions(e), this.initAutoTypeSetButton()
        };
        o.prototype = {
            initAutoTypeSetButton: function () {
                var t = this;
                this.popup = new n({
                    content: new i({editor: t.editor}), editor: t.editor, hide: function () {
                        !this._hidden && this.getDom() && (e(this), this.getDom().style.display = "none", this._hidden = !0, this.fireEvent("hide"))
                    }
                });
                var r = 0;
                this.popup.addListener("postRenderAfter", function () {
                    var n = this;
                    if (!r) {
                        var i = this.getDom(), o = i.getElementsByTagName("button")[0];
                        o.onclick = function () {
                            e(n), t.editor.execCommand("autotypeset"), n.hide()
                        }, r = 1
                    }
                }), this.initSplitButton()
            }
        }, t.inherits(o, r)
    }(), function () {
        var e = baidu.editor.utils, t = baidu.editor.ui.Popup, n = baidu.editor.ui.Stateful, i = baidu.editor.ui.UIBase, r = baidu.editor.ui.CellAlignPicker = function (e) {
            this.initOptions(e), this.initSelected(), this.initCellAlignPicker()
        };
        r.prototype = {
            initSelected: function () {
                var e = {valign: {top: 0, middle: 1, bottom: 2}, align: {left: 0, center: 1, right: 2}, count: 3};
                this.selected && (this.selectedIndex = e.valign[this.selected.valign] * e.count + e.align[this.selected.align])
            }, initCellAlignPicker: function () {
                this.initUIBase(), this.Stateful_init()
            }, getHtmlTpl: function () {
                for (var e = ["left", "center", "right"], t = 9, n = null, i = -1, r = [], o = 0; o < t; o++)n = this.selectedIndex === o ? ' class="edui-cellalign-selected" ' : "", i = o % 3, 0 === i && r.push("<tr>"), r.push('<td index="' + o + '" ' + n + ' stateful><div class="edui-icon edui-' + e[i] + '"></div></td>'), 2 === i && r.push("</tr>");
                return '<div id="##" class="edui-cellalignpicker %%"><div class="edui-cellalignpicker-body"><table onclick="$$._onClick(event);">' + r.join("") + "</table></div></div>"
            }, getStateDom: function () {
                return this.target
            }, _onClick: function (e) {
                var n = e.target || e.srcElement;
                /icon/.test(n.className) && (this.items[n.parentNode.getAttribute("index")].onclick(), t.postHide(e))
            }, _UIBase_render: i.prototype.render
        }, e.inherits(r, i), e.extend(r.prototype, n, !0)
    }(), function () {
        var e = baidu.editor.utils, t = baidu.editor.ui.Stateful, n = baidu.editor.ui.uiUtils, i = baidu.editor.ui.UIBase, r = baidu.editor.ui.PastePicker = function (e) {
            this.initOptions(e), this.initPastePicker()
        };
        r.prototype = {
            initPastePicker: function () {
                this.initUIBase(), this.Stateful_init()
            }, getHtmlTpl: function () {
                return '<div class="edui-pasteicon" onclick="$$._onClick(this)"></div><div class="edui-pastecontainer"><div class="edui-title">' + this.editor.getLang("pasteOpt") + '</div><div class="edui-button"><div title="' + this.editor.getLang("pasteSourceFormat") + '" onclick="$$.format(false)" stateful><div class="edui-richtxticon"></div></div><div title="' + this.editor.getLang("tagFormat") + '" onclick="$$.format(2)" stateful><div class="edui-tagicon"></div></div><div title="' + this.editor.getLang("pasteTextFormat") + '" onclick="$$.format(true)" stateful><div class="edui-plaintxticon"></div></div></div></div></div>'
            }, getStateDom: function () {
                return this.target
            }, format: function (e) {
                this.editor.ui._isTransfer = !0, this.editor.fireEvent("pasteTransfer", e)
            }, _onClick: function (e) {
                var t = domUtils.getNextDomNode(e), i = n.getViewportRect().height, r = n.getClientRect(t);
                r.top + r.height > i ? t.style.top = -r.height - e.offsetHeight + "px" : t.style.top = "", /hidden/gi.test(domUtils.getComputedStyle(t, "visibility")) ? (t.style.visibility = "visible", domUtils.addClass(e, "edui-state-opened")) : (t.style.visibility = "hidden", domUtils.removeClasses(e, "edui-state-opened"))
            }, _UIBase_render: i.prototype.render
        }, e.inherits(r, i), e.extend(r.prototype, t, !0)
    }(), function () {
        var e = baidu.editor.utils, t = baidu.editor.ui.uiUtils, n = baidu.editor.ui.UIBase, i = baidu.editor.ui.Toolbar = function (e) {
            this.initOptions(e), this.initToolbar()
        };
        i.prototype = {
            items: null, initToolbar: function () {
                this.items = this.items || [], this.initUIBase()
            }, add: function (e) {
                this.items.push(e)
            }, getHtmlTpl: function () {
                for (var e = [], t = 0; t < this.items.length; t++)e[t] = this.items[t].renderHtml();
                return '<div id="##" class="edui-toolbar %%" onselectstart="return false;" onmousedown="return $$._onMouseDown(event, this);">' + e.join("") + "</div>"
            }, postRender: function () {
                for (var e = this.getDom(), n = 0; n < this.items.length; n++)this.items[n].postRender();
                t.makeUnselectable(e)
            }, _onMouseDown: function () {
                return !1
            }
        }, e.inherits(i, n)
    }(), function () {
        var e = baidu.editor.utils, t = baidu.editor.dom.domUtils, n = baidu.editor.ui.uiUtils, i = baidu.editor.ui.UIBase, r = baidu.editor.ui.Popup, o = baidu.editor.ui.Stateful, a = baidu.editor.ui.CellAlignPicker, s = baidu.editor.ui.Menu = function (e) {
            this.initOptions(e), this.initMenu()
        }, l = {
            renderHtml: function () {
                return '<div class="edui-menuitem edui-menuseparator"><div class="edui-menuseparator-inner"></div></div>'
            }, postRender: function () {
            }, queryAutoHide: function () {
                return !0
            }
        };
        s.prototype = {
            items: null, uiName: "menu", initMenu: function () {
                this.items = this.items || [], this.initPopup(), this.initItems()
            }, initItems: function () {
                for (var e = 0; e < this.items.length; e++) {
                    var t = this.items[e];
                    "-" == t ? this.items[e] = this.getSeparator() : t instanceof c || (t.editor = this.editor, t.theme = this.editor.options.theme, this.items[e] = this.createItem(t))
                }
            }, getSeparator: function () {
                return l
            }, createItem: function (e) {
                return e.menu = this, new c(e)
            }, _Popup_getContentHtmlTpl: r.prototype.getContentHtmlTpl, getContentHtmlTpl: function () {
                if (0 == this.items.length)return this._Popup_getContentHtmlTpl();
                for (var e = [], t = 0; t < this.items.length; t++) {
                    var n = this.items[t];
                    e[t] = n.renderHtml()
                }
                return '<div class="%%-body">' + e.join("") + "</div>"
            }, _Popup_postRender: r.prototype.postRender, postRender: function () {
                for (var e = this, i = 0; i < this.items.length; i++) {
                    var r = this.items[i];
                    r.ownerMenu = this, r.postRender()
                }
                t.on(this.getDom(), "mouseover", function (t) {
                    t = t || event;
                    var i = t.relatedTarget || t.fromElement, r = e.getDom();
                    n.contains(r, i) || r === i || e.fireEvent("over")
                }), this._Popup_postRender()
            }, queryAutoHide: function (e) {
                if (e) {
                    if (n.contains(this.getDom(), e))return !1;
                    for (var t = 0; t < this.items.length; t++) {
                        var i = this.items[t];
                        if (i.queryAutoHide(e) === !1)return !1
                    }
                }
            }, clearItems: function () {
                for (var e = 0; e < this.items.length; e++) {
                    var t = this.items[e];
                    clearTimeout(t._showingTimer), clearTimeout(t._closingTimer), t.subMenu && t.subMenu.destroy()
                }
                this.items = []
            }, destroy: function () {
                this.getDom() && t.remove(this.getDom()), this.clearItems()
            }, dispose: function () {
                this.destroy()
            }
        }, e.inherits(s, r);
        var c = baidu.editor.ui.MenuItem = function (e) {
            if (this.initOptions(e), this.initUIBase(), this.Stateful_init(), this.subMenu && !(this.subMenu instanceof s))if (e.className && e.className.indexOf("aligntd") != -1) {
                var n = this;
                this.subMenu.selected = this.editor.queryCommandValue("cellalignment"), this.subMenu = new r({
                    content: new a(this.subMenu),
                    parentMenu: n,
                    editor: n.editor,
                    destroy: function () {
                        this.getDom() && t.remove(this.getDom())
                    }
                }), this.subMenu.addListener("postRenderAfter", function () {
                    t.on(this.getDom(), "mouseover", function () {
                        n.addState("opened")
                    })
                })
            } else this.subMenu = new s(this.subMenu)
        };
        c.prototype = {
            label: "",
            subMenu: null,
            ownerMenu: null,
            uiName: "menuitem",
            alwalysHoverable: !0,
            getHtmlTpl: function () {
                return '<div id="##" class="%%" stateful onclick="$$._onClick(event, this);"><div class="%%-body">' + this.renderLabelHtml() + "</div></div>"
            },
            postRender: function () {
                var e = this;
                this.addListener("over", function () {
                    e.ownerMenu.fireEvent("submenuover", e), e.subMenu && e.delayShowSubMenu()
                }), this.subMenu && (this.getDom().className += " edui-hassubmenu", this.subMenu.render(), this.addListener("out", function () {
                    e.delayHideSubMenu()
                }), this.subMenu.addListener("over", function () {
                    clearTimeout(e._closingTimer), e._closingTimer = null, e.addState("opened")
                }), this.ownerMenu.addListener("hide", function () {
                    e.hideSubMenu()
                }), this.ownerMenu.addListener("submenuover", function (t, n) {
                    n !== e && e.delayHideSubMenu()
                }), this.subMenu._bakQueryAutoHide = this.subMenu.queryAutoHide, this.subMenu.queryAutoHide = function (t) {
                    return (!t || !n.contains(e.getDom(), t)) && this._bakQueryAutoHide(t)
                }), this.getDom().style.tabIndex = "-1", n.makeUnselectable(this.getDom()), this.Stateful_postRender()
            },
            delayShowSubMenu: function () {
                var e = this;
                e.isDisabled() || (e.addState("opened"), clearTimeout(e._showingTimer), clearTimeout(e._closingTimer), e._closingTimer = null, e._showingTimer = setTimeout(function () {
                    e.showSubMenu()
                }, 250))
            },
            delayHideSubMenu: function () {
                var e = this;
                e.isDisabled() || (e.removeState("opened"), clearTimeout(e._showingTimer), e._closingTimer || (e._closingTimer = setTimeout(function () {
                    e.hasState("opened") || e.hideSubMenu(), e._closingTimer = null
                }, 400)))
            },
            renderLabelHtml: function () {
                return '<div class="edui-arrow"></div><div class="edui-box edui-icon"></div><div class="edui-box edui-label %%-label">' + (this.label || "") + "</div>"
            },
            getStateDom: function () {
                return this.getDom()
            },
            queryAutoHide: function (e) {
                if (this.subMenu && this.hasState("opened"))return this.subMenu.queryAutoHide(e)
            },
            _onClick: function (e, t) {
                this.hasState("disabled") || this.fireEvent("click", e, t) !== !1 && (this.subMenu ? this.showSubMenu() : r.postHide(e))
            },
            showSubMenu: function () {
                var e = n.getClientRect(this.getDom());
                e.right -= 5, e.left += 2, e.width -= 7, e.top -= 4, e.bottom += 4, e.height += 8, this.subMenu.showAnchorRect(e, !0, !0)
            },
            hideSubMenu: function () {
                this.subMenu.hide()
            }
        }, e.inherits(c, i), e.extend(c.prototype, o, !0)
    }(), function () {
        var e = baidu.editor.utils, t = baidu.editor.ui.uiUtils, n = baidu.editor.ui.Menu, i = baidu.editor.ui.SplitButton, r = baidu.editor.ui.Combox = function (e) {
            this.initOptions(e), this.initCombox()
        };
        r.prototype = {
            uiName: "combox", initCombox: function () {
                var e = this;
                this.items = this.items || [];
                for (var t = 0; t < this.items.length; t++) {
                    var i = this.items[t];
                    i.uiName = "listitem", i.index = t, i.onclick = function () {
                        e.selectByIndex(this.index)
                    }
                }
                this.popup = new n({items: this.items, uiName: "list", editor: this.editor}), this.initSplitButton()
            }, _SplitButton_postRender: i.prototype.postRender, postRender: function () {
                this._SplitButton_postRender(), this.setLabel(this.label || ""), this.setValue(this.initValue || "")
            }, showPopup: function () {
                var e = t.getClientRect(this.getDom());
                e.top += 1, e.bottom -= 1, e.height -= 2, this.popup.showAnchorRect(e)
            }, getValue: function () {
                return this.value
            }, setValue: function (e) {
                var t = this.indexByValue(e);
                t != -1 ? (this.selectedIndex = t, this.setLabel(this.items[t].label), this.value = this.items[t].value) : (this.selectedIndex = -1, this.setLabel(this.getLabelForUnknowValue(e)), this.value = e)
            }, setLabel: function (e) {
                this.getDom("button_body").innerHTML = e, this.label = e
            }, getLabelForUnknowValue: function (e) {
                return e
            }, indexByValue: function (e) {
                for (var t = 0; t < this.items.length; t++)if (e == this.items[t].value)return t;
                return -1
            }, getItem: function (e) {
                return this.items[e]
            }, selectByIndex: function (e) {
                e < this.items.length && this.fireEvent("select", e) !== !1 && (this.selectedIndex = e, this.value = this.items[e].value, this.setLabel(this.items[e].label))
            }
        }, e.inherits(r, i)
    }(), function () {
        var e, t, n = baidu.editor.utils, i = baidu.editor.dom.domUtils, r = baidu.editor.ui.uiUtils, o = baidu.editor.ui.Mask, a = baidu.editor.ui.UIBase, s = baidu.editor.ui.Button, l = baidu.editor.ui.Dialog = function (e) {
            this.initOptions(n.extend({
                autoReset: !0, draggable: !0, onok: function () {
                }, oncancel: function () {
                }, onclose: function (e, t) {
                    return t ? this.onok() : this.oncancel()
                }, holdScroll: !1
            }, e)), this.initDialog()
        };
        l.prototype = {
            draggable: !1, uiName: "dialog", initDialog: function () {
                var n = this, i = this.editor.options.theme;
                if (this.initUIBase(), this.modalMask = e || (e = new o({
                            className: "edui-dialog-modalmask",
                            theme: i
                        })), this.dragMask = t || (t = new o({
                            className: "edui-dialog-dragmask",
                            theme: i
                        })), this.closeButton = new s({
                        className: "edui-dialog-closebutton",
                        title: n.closeDialog,
                        theme: i,
                        onclick: function () {
                            n.close(!1)
                        }
                    }), this.buttons)for (var r = 0; r < this.buttons.length; r++)this.buttons[r] instanceof s || (this.buttons[r] = new s(this.buttons[r]))
            }, fitSize: function () {
                var e = this.getDom("body"), t = this.mesureSize();
                return e.style.width = t.width + "px", e.style.height = t.height + "px", t
            }, safeSetOffset: function (e) {
                var t = this, n = t.getDom(), i = r.getViewportRect(), o = r.getClientRect(n), a = e.left;
                a + o.width > i.right && (a = i.right - o.width);
                var s = e.top;
                s + o.height > i.bottom && (s = i.bottom - o.height), n.style.left = Math.max(a, 0) + "px", n.style.top = Math.max(s, 0) + "px"
            }, showAtCenter: function () {
                this.getDom().style.display = "";
                var e = r.getViewportRect(), t = this.fitSize(), n = 0 | this.getDom("titlebar").offsetHeight, o = e.width / 2 - t.width / 2, a = e.height / 2 - (t.height - n) / 2 - n, s = this.getDom();
                this.safeSetOffset({
                    left: Math.max(0 | o, 0),
                    top: Math.max(0 | a, 0)
                }), i.hasClass(s, "edui-state-centered") || (s.className += " edui-state-centered"), this._show()
            }, getContentHtml: function () {
                var e = "";
                return "string" == typeof this.content ? e = this.content : this.iframeUrl && (e = '<span id="' + this.id + '_contmask" class="dialogcontmask"></span><iframe id="' + this.id + '_iframe" class="%%-iframe" height="100%" width="100%" frameborder="0" src="' + this.iframeUrl + '"></iframe>'), e
            }, getHtmlTpl: function () {
                var e = "";
                if (this.buttons) {
                    for (var t = [], n = 0; n < this.buttons.length; n++)t[n] = this.buttons[n].renderHtml();
                    e = '<div class="%%-foot"><div id="##_buttons" class="%%-buttons">' + t.join("") + "</div></div>"
                }
                return '<div id="##" class="%%"><div class="%%-wrap"><div id="##_body" class="%%-body"><div class="%%-shadow"></div><div id="##_titlebar" class="%%-titlebar"><div class="%%-draghandle" onmousedown="$$._onTitlebarMouseDown(event, this);"><span class="%%-caption">' + (this.title || "") + "</span></div>" + this.closeButton.renderHtml() + '</div><div id="##_content" class="%%-content">' + (this.autoReset ? "" : this.getContentHtml()) + "</div>" + e + "</div></div></div>"
            }, postRender: function () {
                this.modalMask.getDom() || (this.modalMask.render(), this.modalMask.hide()), this.dragMask.getDom() || (this.dragMask.render(), this.dragMask.hide());
                var e = this;
                if (this.addListener("show", function () {
                        e.modalMask.show(this.getDom().style.zIndex - 2)
                    }), this.addListener("hide", function () {
                        e.modalMask.hide()
                    }), this.buttons)for (var t = 0; t < this.buttons.length; t++)this.buttons[t].postRender();
                i.on(window, "resize", function () {
                    setTimeout(function () {
                        e.isHidden() || e.safeSetOffset(r.getClientRect(e.getDom()))
                    })
                }), this.holdScroll && (e.iframeUrl ? e.addListener("dialogafterreset", function () {
                    window.setTimeout(function () {
                        var t = document.getElementById(e.id + "_iframe").contentWindow;
                        if (browser.ie)var n = window.setInterval(function () {
                            t.document && t.document.body && (window.clearInterval(n), n = null, i.on(t.document.body, browser.gecko ? "DOMMouseScroll" : "mousewheel", function (e) {
                                i.preventDefault(e)
                            }))
                        }, 100); else i.on(t, browser.gecko ? "DOMMouseScroll" : "mousewheel", function (e) {
                            i.preventDefault(e)
                        })
                    }, 1)
                }) : i.on(document.getElementById(e.id + "_iframe"), browser.gecko ? "DOMMouseScroll" : "mousewheel", function (e) {
                    i.preventDefault(e)
                })), this._hide()
            }, mesureSize: function () {
                var e = this.getDom("body"), t = r.getClientRect(this.getDom("content")).width, n = e.style;
                return n.width = t, r.getClientRect(e)
            }, _onTitlebarMouseDown: function (e, t) {
                if (this.draggable) {
                    var n, o = (r.getViewportRect(), this);
                    r.startDrag(e, {
                        ondragstart: function () {
                            n = r.getClientRect(o.getDom()), o.getDom("contmask").style.visibility = "visible", o.dragMask.show(o.getDom().style.zIndex - 1)
                        }, ondragmove: function (e, t) {
                            var i = n.left + e, r = n.top + t;
                            o.safeSetOffset({left: i, top: r})
                        }, ondragstop: function () {
                            o.getDom("contmask").style.visibility = "hidden", i.removeClasses(o.getDom(), ["edui-state-centered"]), o.dragMask.hide()
                        }
                    })
                }
            }, reset: function () {
                this.getDom("content").innerHTML = this.getContentHtml(), this.fireEvent("dialogafterreset")
            }, _show: function () {
                this._hidden && (this.getDom().style.display = "", this.editor.container.style.zIndex && (this.getDom().style.zIndex = 1 * this.editor.container.style.zIndex + 10), this._hidden = !1, this.fireEvent("show"), baidu.editor.ui.uiUtils.getFixedLayer().style.zIndex = this.getDom().style.zIndex - 4)
            }, isHidden: function () {
                return this._hidden
            }, _hide: function () {
                this._hidden || (this.getDom().style.display = "none", this.getDom().style.zIndex = "", this._hidden = !0, this.fireEvent("hide"))
            }, open: function () {
                if (this.autoReset)try {
                    this.reset()
                } catch (e) {
                    this.render(), this.open()
                }
                if (this.showAtCenter(), this.iframeUrl)try {
                    this.getDom("iframe").focus()
                } catch (e) {
                }
            }, _onCloseButtonClick: function (e, t) {
                this.close(!1)
            }, close: function (e) {
                this.fireEvent("close", e) !== !1 && this._hide()
            }
        }, n.inherits(l, a)
    }(), function () {
        var e = baidu.editor.utils, t = baidu.editor.ui.Menu, n = baidu.editor.ui.SplitButton, i = baidu.editor.ui.MenuButton = function (e) {
            this.initOptions(e), this.initMenuButton()
        };
        i.prototype = {
            initMenuButton: function () {
                var e = this;
                this.uiName = "menubutton", this.popup = new t({
                    items: e.items,
                    className: e.className,
                    editor: e.editor
                }), this.popup.addListener("show", function () {
                    for (var t = this, n = 0; n < t.items.length; n++)t.items[n].removeState("checked"), t.items[n].value == e._value && (t.items[n].addState("checked"), this.value = e._value)
                }), this.initSplitButton()
            }, setValue: function (e) {
                this._value = e
            }
        }, e.inherits(i, n)
    }(), function () {
        var e = baidu.editor.utils, t = baidu.editor.ui, n = t.Dialog;
        t.buttons = {}, t.Dialog = function (e) {
            var t = new n(e);
            return t.addListener("hide", function () {
                if (t.editor) {
                    var e = t.editor;
                    try {
                        if (browser.gecko) {
                            var n = e.window.scrollY, i = e.window.scrollX;
                            e.body.focus(), e.window.scrollTo(i, n)
                        } else e.focus()
                    } catch (e) {
                    }
                }
            }), t
        };
        for (var i, r = {
            anchor: "~/dialogs/anchor/anchor.html",
            insertimage: "~/dialogs/image/image.html",
            link: "~/dialogs/link/link.html",
            spechars: "~/dialogs/spechars/spechars.html",
            searchreplace: "~/dialogs/searchreplace/searchreplace.html",
            map: "~/dialogs/map/map.html",
            gmap: "~/dialogs/gmap/gmap.html",
            insertvideo: "~/dialogs/video/video.html",
            help: "~/dialogs/help/help.html",
            emotion: "~/dialogs/emotion/emotion.html",
            wordimage: "~/dialogs/wordimage/wordimage.html",
            attachment: "~/dialogs/attachment/attachment.html",
            insertframe: "~/dialogs/insertframe/insertframe.html",
            edittip: "~/dialogs/table/edittip.html",
            edittable: "~/dialogs/table/edittable.html",
            edittd: "~/dialogs/table/edittd.html",
            webapp: "~/dialogs/webapp/webapp.html",
            snapscreen: "~/dialogs/snapscreen/snapscreen.html",
            scrawl: "~/dialogs/scrawl/scrawl.html",
            music: "~/dialogs/music/music.html",
            template: "~/dialogs/template/template.html",
            background: "~/dialogs/background/background.html"
        }, o = ["undo", "redo", "formatmatch", "bold", "italic", "underline", "fontborder", "touppercase", "tolowercase", "strikethrough", "subscript", "superscript", "source", "indent", "outdent", "blockquote", "pasteplain", "pagebreak", "selectall", "print", "preview", "horizontal", "removeformat", "time", "date", "unlink", "insertparagraphbeforetable", "insertrow", "insertcol", "mergeright", "mergedown", "deleterow", "deletecol", "splittorows", "splittocols", "splittocells", "mergecells", "deletetable"], a = 0; i = o[a++];)i = i.toLowerCase(), t[i] = function (e) {
            return function (n) {
                var i = new t.Button({
                    className: "edui-for-" + e,
                    title: n.options.labelMap[e] || n.getLang("labelMap." + e) || "",
                    onclick: function () {
                        n.execCommand(e)
                    },
                    theme: n.options.theme,
                    showText: !1
                });
                return t.buttons[e] = i, n.addListener("selectionchange", function (t, r, o) {
                    var a = n.queryCommandState(e);
                    a == -1 ? (i.setDisabled(!0), i.setChecked(!1)) : o || (i.setDisabled(!1), i.setChecked(a))
                }), i
            }
        }(i);
        t.cleardoc = function (e) {
            var n = new t.Button({
                className: "edui-for-cleardoc",
                title: e.options.labelMap.cleardoc || e.getLang("labelMap.cleardoc") || "",
                theme: e.options.theme,
                onclick: function () {
                    confirm(e.getLang("confirmClear")) && e.execCommand("cleardoc")
                }
            });
            return t.buttons.cleardoc = n, e.addListener("selectionchange", function () {
                n.setDisabled(e.queryCommandState("cleardoc") == -1)
            }), n
        };
        var s = {
            justify: ["left", "right", "center", "justify"],
            imagefloat: ["none", "left", "center", "right"],
            directionality: ["ltr", "rtl"]
        };
        for (var l in s)!function (e, n) {
            for (var i, r = 0; i = n[r++];)!function (n) {
                t[e.replace("float", "") + n] = function (i) {
                    var r = new t.Button({
                        className: "edui-for-" + e.replace("float", "") + n,
                        title: i.options.labelMap[e.replace("float", "") + n] || i.getLang("labelMap." + e.replace("float", "") + n) || "",
                        theme: i.options.theme,
                        onclick: function () {
                            i.execCommand(e, n)
                        }
                    });
                    return t.buttons[e] = r, i.addListener("selectionchange", function (t, o, a) {
                        r.setDisabled(i.queryCommandState(e) == -1), r.setChecked(i.queryCommandValue(e) == n && !a)
                    }), r
                }
            }(i)
        }(l, s[l]);
        for (var i, a = 0; i = ["backcolor", "forecolor"][a++];)t[i] = function (e) {
            return function (n) {
                var i = new t.ColorButton({
                    className: "edui-for-" + e,
                    color: "default",
                    title: n.options.labelMap[e] || n.getLang("labelMap." + e) || "",
                    editor: n,
                    onpickcolor: function (t, i) {
                        n.execCommand(e, i)
                    },
                    onpicknocolor: function () {
                        n.execCommand(e, "default"), this.setColor("transparent"), this.color = "default"
                    },
                    onbuttonclick: function () {
                        n.execCommand(e, this.color)
                    }
                });
                return t.buttons[e] = i, n.addListener("selectionchange", function () {
                    i.setDisabled(n.queryCommandState(e) == -1)
                }), i
            }
        }(i);
        var c = {
            noOk: ["searchreplace", "help", "spechars", "webapp"],
            ok: ["attachment", "anchor", "link", "insertimage", "map", "gmap", "insertframe", "wordimage", "insertvideo", "insertframe", "edittip", "edittable", "edittd", "scrawl", "template", "music", "background"]
        };
        for (var l in c)!function (n, i) {
            for (var o, a = 0; o = i[a++];)browser.opera && "searchreplace" === o || !function (i) {
                t[i] = function (o, a, s) {
                    a = a || (o.options.iframeUrlMap || {})[i] || r[i], s = o.options.labelMap[i] || o.getLang("labelMap." + i) || "";
                    var l;
                    a && (l = new t.Dialog(e.extend({
                        iframeUrl: o.ui.mapUrl(a),
                        editor: o,
                        className: "edui-for-" + i,
                        title: s,
                        holdScroll: "insertimage" === i,
                        closeDialog: o.getLang("closeDialog")
                    }, "ok" == n ? {
                        buttons: [{
                            className: "edui-okbutton",
                            label: o.getLang("ok"),
                            editor: o,
                            onclick: function () {
                                l.close(!0)
                            }
                        }, {
                            className: "edui-cancelbutton",
                            label: o.getLang("cancel"),
                            editor: o,
                            onclick: function () {
                                l.close(!1)
                            }
                        }]
                    } : {})), o.ui._dialogs[i + "Dialog"] = l);
                    var c = new t.Button({
                        className: "edui-for-" + i, title: s, onclick: function () {
                            if (l)switch (i) {
                                case"wordimage":
                                    o.execCommand("wordimage", "word_img"), o.word_img && (l.render(), l.open());
                                    break;
                                case"scrawl":
                                    o.queryCommandState("scrawl") != -1 && (l.render(), l.open());
                                    break;
                                default:
                                    l.render(), l.open()
                            }
                        }, theme: o.options.theme, disabled: "scrawl" == i && o.queryCommandState("scrawl") == -1
                    });
                    return t.buttons[i] = c, o.addListener("selectionchange", function () {
                        var e = {edittable: 1};
                        if (!(i in e)) {
                            var t = o.queryCommandState(i);
                            c.getDom() && (c.setDisabled(t == -1), c.setChecked(t))
                        }
                    }), c
                }
            }(o.toLowerCase())
        }(l, c[l]);
        t.snapscreen = function (e, n, i) {
            i = e.options.labelMap.snapscreen || e.getLang("labelMap.snapscreen") || "";
            var o = new t.Button({
                className: "edui-for-snapscreen", title: i, onclick: function () {
                    e.execCommand("snapscreen")
                }, theme: e.options.theme
            });
            if (t.buttons.snapscreen = o, n = n || (e.options.iframeUrlMap || {}).snapscreen || r.snapscreen) {
                var a = new t.Dialog({
                    iframeUrl: e.ui.mapUrl(n),
                    editor: e,
                    className: "edui-for-snapscreen",
                    title: i,
                    buttons: [{
                        className: "edui-okbutton", label: e.getLang("ok"), editor: e, onclick: function () {
                            a.close(!0)
                        }
                    }, {
                        className: "edui-cancelbutton", label: e.getLang("cancel"), editor: e, onclick: function () {
                            a.close(!1)
                        }
                    }]
                });
                a.render(), e.ui._dialogs.snapscreenDialog = a
            }
            return e.addListener("selectionchange", function () {
                o.setDisabled(e.queryCommandState("snapscreen") == -1)
            }), o
        }, t.insertcode = function (n, i, r) {
            i = n.options.insertcode || [], r = n.options.labelMap.insertcode || n.getLang("labelMap.insertcode") || "";
            var o = [];
            e.each(i, function (e, t) {
                o.push({
                    label: e, value: t, theme: n.options.theme, renderLabelHtml: function () {
                        return '<div class="edui-label %%-label" >' + (this.label || "") + "</div>"
                    }
                })
            });
            var a = new t.Combox({
                editor: n, items: o, onselect: function (e, t) {
                    n.execCommand("insertcode", this.items[t].value)
                }, onbuttonclick: function () {
                    this.showPopup()
                }, title: r, initValue: r, className: "edui-for-insertcode", indexByValue: function (e) {
                    if (e)for (var t, n = 0; t = this.items[n]; n++)if (t.value.indexOf(e) != -1)return n;
                    return -1
                }
            });
            return t.buttons.insertcode = a, n.addListener("selectionchange", function (e, t, i) {
                if (!i) {
                    var o = n.queryCommandState("insertcode");
                    if (o == -1)a.setDisabled(!0); else {
                        a.setDisabled(!1);
                        var s = n.queryCommandValue("insertcode");
                        if (!s)return void a.setValue(r);
                        s && (s = s.replace(/['"]/g, "").split(",")[0]), a.setValue(s)
                    }
                }
            }), a
        }, t.fontfamily = function (n, i, r) {
            if (i = n.options.fontfamily || [], r = n.options.labelMap.fontfamily || n.getLang("labelMap.fontfamily") || "", i.length) {
                for (var o, a = 0, s = []; o = i[a]; a++) {
                    var l = n.getLang("fontfamily")[o.name] || "";
                    !function (t, i) {
                        s.push({
                            label: t, value: i, theme: n.options.theme, renderLabelHtml: function () {
                                return '<div class="edui-label %%-label" style="font-family:' + e.unhtml(this.value) + '">' + (this.label || "") + "</div>"
                            }
                        })
                    }(o.label || l, o.val)
                }
                var c = new t.Combox({
                    editor: n, items: s, onselect: function (e, t) {
                        n.execCommand("FontFamily", this.items[t].value)
                    }, onbuttonclick: function () {
                        this.showPopup()
                    }, title: r, initValue: r, className: "edui-for-fontfamily", indexByValue: function (e) {
                        if (e)for (var t, n = 0; t = this.items[n]; n++)if (t.value.indexOf(e) != -1)return n;
                        return -1
                    }
                });
                return t.buttons.fontfamily = c, n.addListener("selectionchange", function (e, t, i) {
                    if (!i) {
                        var r = n.queryCommandState("FontFamily");
                        if (r == -1)c.setDisabled(!0); else {
                            c.setDisabled(!1);
                            var o = n.queryCommandValue("FontFamily");
                            o && (o = o.replace(/['"]/g, "").split(",")[0]), c.setValue(o)
                        }
                    }
                }), c
            }
        }, t.fontsize = function (e, n, i) {
            if (i = e.options.labelMap.fontsize || e.getLang("labelMap.fontsize") || "", n = n || e.options.fontsize || [], n.length) {
                for (var r = [], o = 0; o < n.length; o++) {
                    var a = n[o] + "px";
                    r.push({
                        label: a, value: a, theme: e.options.theme, renderLabelHtml: function () {
                            return '<div class="edui-label %%-label" style="line-height:1;font-size:' + this.value + '">' + (this.label || "") + "</div>"
                        }
                    })
                }
                var s = new t.Combox({
                    editor: e, items: r, title: i, initValue: i, onselect: function (t, n) {
                        e.execCommand("FontSize", this.items[n].value)
                    }, onbuttonclick: function () {
                        this.showPopup()
                    }, className: "edui-for-fontsize"
                });
                return t.buttons.fontsize = s, e.addListener("selectionchange", function (t, n, i) {
                    if (!i) {
                        var r = e.queryCommandState("FontSize");
                        r == -1 ? s.setDisabled(!0) : (s.setDisabled(!1), s.setValue(e.queryCommandValue("FontSize")))
                    }
                }), s
            }
        }, t.paragraph = function (n, i, r) {
            if (r = n.options.labelMap.paragraph || n.getLang("labelMap.paragraph") || "", i = n.options.paragraph || [], !e.isEmptyObject(i)) {
                var o = [];
                for (var a in i)o.push({
                    value: a,
                    label: i[a] || n.getLang("paragraph")[a],
                    theme: n.options.theme,
                    renderLabelHtml: function () {
                        return '<div class="edui-label %%-label"><span class="edui-for-' + this.value + '">' + (this.label || "") + "</span></div>"
                    }
                });
                var s = new t.Combox({
                    editor: n,
                    items: o,
                    title: r,
                    initValue: r,
                    className: "edui-for-paragraph",
                    onselect: function (e, t) {
                        n.execCommand("Paragraph", this.items[t].value)
                    },
                    onbuttonclick: function () {
                        this.showPopup()
                    }
                });
                return t.buttons.paragraph = s, n.addListener("selectionchange", function (e, t, i) {
                    if (!i) {
                        var r = n.queryCommandState("Paragraph");
                        if (r == -1)s.setDisabled(!0); else {
                            s.setDisabled(!1);
                            var o = n.queryCommandValue("Paragraph"), a = s.indexByValue(o);
                            a != -1 ? s.setValue(o) : s.setValue(s.initValue)
                        }
                    }
                }), s
            }
        }, t.customstyle = function (e) {
            var n = e.options.customstyle || [], i = e.options.labelMap.customstyle || e.getLang("labelMap.customstyle") || "";
            if (n.length) {
                for (var r, o = e.getLang("customstyle"), a = 0, s = []; r = n[a++];)!function (t) {
                    var n = {};
                    n.label = t.label ? t.label : o[t.name], n.style = t.style, n.className = t.className, n.tag = t.tag, s.push({
                        label: n.label,
                        value: n,
                        theme: e.options.theme,
                        renderLabelHtml: function () {
                            return '<div class="edui-label %%-label"><' + n.tag + " " + (n.className ? ' class="' + n.className + '"' : "") + (n.style ? ' style="' + n.style + '"' : "") + ">" + n.label + "</" + n.tag + "></div>"
                        }
                    })
                }(r);
                var l = new t.Combox({
                    editor: e,
                    items: s,
                    title: i,
                    initValue: i,
                    className: "edui-for-customstyle",
                    onselect: function (t, n) {
                        e.execCommand("customstyle", this.items[n].value)
                    },
                    onbuttonclick: function () {
                        this.showPopup()
                    },
                    indexByValue: function (e) {
                        for (var t, n = 0; t = this.items[n++];)if (t.label == e)return n - 1;
                        return -1
                    }
                });
                return t.buttons.customstyle = l, e.addListener("selectionchange", function (t, n, i) {
                    if (!i) {
                        var r = e.queryCommandState("customstyle");
                        if (r == -1)l.setDisabled(!0); else {
                            l.setDisabled(!1);
                            var o = e.queryCommandValue("customstyle"), a = l.indexByValue(o);
                            a != -1 ? l.setValue(o) : l.setValue(l.initValue)
                        }
                    }
                }), l
            }
        }, t.inserttable = function (e, n, i) {
            i = e.options.labelMap.inserttable || e.getLang("labelMap.inserttable") || "";
            var r = new t.TableButton({
                editor: e,
                title: i,
                className: "edui-for-inserttable",
                onpicktable: function (t, n, i) {
                    e.execCommand("InsertTable", {numRows: i, numCols: n, border: 1})
                },
                onbuttonclick: function () {
                    this.showPopup()
                }
            });
            return t.buttons.inserttable = r, e.addListener("selectionchange", function () {
                r.setDisabled(e.queryCommandState("inserttable") == -1)
            }), r
        }, t.lineheight = function (e) {
            var n = e.options.lineheight || [];
            if (n.length) {
                for (var i, r = 0, o = []; i = n[r++];)o.push({
                    label: i,
                    value: i,
                    theme: e.options.theme,
                    onclick: function () {
                        e.execCommand("lineheight", this.value)
                    }
                });
                var a = new t.MenuButton({
                    editor: e,
                    className: "edui-for-lineheight",
                    title: e.options.labelMap.lineheight || e.getLang("labelMap.lineheight") || "",
                    items: o,
                    onbuttonclick: function () {
                        var t = e.queryCommandValue("LineHeight") || this.value;
                        e.execCommand("LineHeight", t)
                    }
                });
                return t.buttons.lineheight = a, e.addListener("selectionchange", function () {
                    var t = e.queryCommandState("LineHeight");
                    if (t == -1)a.setDisabled(!0); else {
                        a.setDisabled(!1);
                        var n = e.queryCommandValue("LineHeight");
                        n && a.setValue((n + "").replace(/cm/, "")), a.setChecked(t)
                    }
                }), a
            }
        };
        for (var d, u = ["top", "bottom"], f = 0; d = u[f++];)!function (e) {
            t["rowspacing" + e] = function (n) {
                var i = n.options["rowspacing" + e] || [];
                if (!i.length)return null;
                for (var r, o = 0, a = []; r = i[o++];)a.push({
                    label: r,
                    value: r,
                    theme: n.options.theme,
                    onclick: function () {
                        n.execCommand("rowspacing", this.value, e)
                    }
                });
                var s = new t.MenuButton({
                    editor: n,
                    className: "edui-for-rowspacing" + e,
                    title: n.options.labelMap["rowspacing" + e] || n.getLang("labelMap.rowspacing" + e) || "",
                    items: a,
                    onbuttonclick: function () {
                        var t = n.queryCommandValue("rowspacing", e) || this.value;
                        n.execCommand("rowspacing", t, e)
                    }
                });
                return t.buttons[e] = s, n.addListener("selectionchange", function () {
                    var t = n.queryCommandState("rowspacing", e);
                    if (t == -1)s.setDisabled(!0); else {
                        s.setDisabled(!1);
                        var i = n.queryCommandValue("rowspacing", e);
                        i && s.setValue((i + "").replace(/%/, "")), s.setChecked(t)
                    }
                }), s
            }
        }(d);
        for (var h, p = ["insertorderedlist", "insertunorderedlist"], m = 0; h = p[m++];)!function (e) {
            t[e] = function (n) {
                var i = n.options[e], r = function () {
                    n.execCommand(e, this.value)
                }, o = [];
                for (var a in i)o.push({
                    label: i[a] || n.getLang()[e][a] || "",
                    value: a,
                    theme: n.options.theme,
                    onclick: r
                });
                var s = new t.MenuButton({
                    editor: n,
                    className: "edui-for-" + e,
                    title: n.getLang("labelMap." + e) || "",
                    items: o,
                    onbuttonclick: function () {
                        var t = n.queryCommandValue(e) || this.value;
                        n.execCommand(e, t)
                    }
                });
                return t.buttons[e] = s, n.addListener("selectionchange", function () {
                    var t = n.queryCommandState(e);
                    if (t == -1)s.setDisabled(!0); else {
                        s.setDisabled(!1);
                        var i = n.queryCommandValue(e);
                        s.setValue(i), s.setChecked(t)
                    }
                }), s
            }
        }(h);
        t.fullscreen = function (e, n) {
            n = e.options.labelMap.fullscreen || e.getLang("labelMap.fullscreen") || "";
            var i = new t.Button({
                className: "edui-for-fullscreen",
                title: n,
                theme: e.options.theme,
                onclick: function () {
                    e.ui && e.ui.setFullScreen(!e.ui.isFullScreen()), this.setChecked(e.ui.isFullScreen())
                }
            });
            return t.buttons.fullscreen = i, e.addListener("selectionchange", function () {
                var t = e.queryCommandState("fullscreen");
                i.setDisabled(t == -1), i.setChecked(e.ui.isFullScreen())
            }), i
        }, t.emotion = function (e, n) {
            var i = "emotion", o = new t.MultiMenuPop({
                title: e.options.labelMap[i] || e.getLang("labelMap." + i) || "",
                editor: e,
                className: "edui-for-" + i,
                iframeUrl: e.ui.mapUrl(n || (e.options.iframeUrlMap || {})[i] || r[i])
            });
            return t.buttons[i] = o, e.addListener("selectionchange", function () {
                o.setDisabled(e.queryCommandState(i) == -1)
            }), o
        }, t.autotypeset = function (e) {
            var n = new t.AutoTypeSetButton({
                editor: e,
                title: e.options.labelMap.autotypeset || e.getLang("labelMap.autotypeset") || "",
                className: "edui-for-autotypeset",
                onbuttonclick: function () {
                    e.execCommand("autotypeset")
                }
            });
            return t.buttons.autotypeset = n, e.addListener("selectionchange", function () {
                n.setDisabled(e.queryCommandState("autotypeset") == -1)
            }), n
        }
    }(), function () {
        function e(e) {
            this.initOptions(e), this.initEditorUI()
        }

        var t = baidu.editor.utils, n = baidu.editor.ui.uiUtils, i = baidu.editor.ui.UIBase, r = baidu.editor.dom.domUtils, o = [];
        e.prototype = {
            uiName: "editor", initEditorUI: function () {
                function e(e, t) {
                    e.setOpt({
                        wordCount: !0,
                        maximumWords: 1e4,
                        wordCountMsg: e.options.wordCountMsg || e.getLang("wordCountMsg"),
                        wordOverFlowMsg: e.options.wordOverFlowMsg || e.getLang("wordOverFlowMsg")
                    });
                    var n = e.options, i = n.maximumWords, r = n.wordCountMsg, o = n.wordOverFlowMsg, a = t.getDom("wordcount");
                    if (n.wordCount) {
                        var s = e.getContentLength(!0);
                        s > i ? (a.innerHTML = o, e.fireEvent("wordcountoverflow")) : a.innerHTML = r.replace("{#leave}", i - s).replace("{#count}", s)
                    }
                }

                this.editor.ui = this, this._dialogs = {}, this.initUIBase(), this._initToolbars();
                var t = this.editor, n = this;
                t.addListener("ready", function () {
                    function i() {
                        e(t, n), r.un(t.document, "click", arguments.callee)
                    }

                    t.getDialog = function (e) {
                        return t.ui._dialogs[e + "Dialog"]
                    }, r.on(t.window, "scroll", function (e) {
                        baidu.editor.ui.Popup.postHide(e)
                    }), t.ui._actualFrameWidth = t.options.initialFrameWidth, t.options.elementPathEnabled && (t.ui.getDom("elementpath").innerHTML = '<div class="edui-editor-breadcrumb">' + t.getLang("elementPathTip") + ":</div>"), t.options.wordCount && (r.on(t.document, "click", i), t.ui.getDom("wordcount").innerHTML = t.getLang("wordCountTip")), t.ui._scale(), t.options.scaleEnabled ? (t.autoHeightEnabled && t.disableAutoHeight(), n.enableScale()) : n.disableScale(), t.options.elementPathEnabled || t.options.wordCount || t.options.scaleEnabled || (t.ui.getDom("elementpath").style.display = "none", t.ui.getDom("wordcount").style.display = "none", t.ui.getDom("scale").style.display = "none"), t.selection.isFocus() && t.fireEvent("selectionchange", !1, !0)
                }), t.addListener("mousedown", function (e, t) {
                    var n = t.target || t.srcElement;
                    baidu.editor.ui.Popup.postHide(t, n)
                }), t.addListener("delcells", function () {
                    UE.ui.edittip && new UE.ui.edittip(t), t.getDialog("edittip").open()
                });
                var i, o, a = !1;
                t.addListener("afterpaste", function () {
                    t.queryCommandState("pasteplain") || (i = new baidu.editor.ui.Popup({
                        content: new baidu.editor.ui.PastePicker({editor: t}),
                        editor: t,
                        className: "edui-wordpastepop"
                    }), i.render(), a = !0)
                }), t.addListener("afterinserthtml", function () {
                    clearTimeout(o), o = setTimeout(function () {
                        if (i && (a || t.ui._isTransfer)) {
                            var e = r.createElement(t.document, "span", {
                                style: "line-height:0px;",
                                innerHTML: "\ufeff"
                            }), n = t.selection.getRange();
                            n.insertNode(e);
                            var o = getDomNode(e, "firstChild", "previousSibling");
                            i.showAnchor(3 == o.nodeType ? o.parentNode : o), r.remove(e), delete t.ui._isTransfer, a = !1
                        }
                    }, 200)
                }), t.addListener("contextmenu", function (e, t) {
                    baidu.editor.ui.Popup.postHide(t)
                }), t.addListener("keydown", function (e, t) {
                    i && i.dispose(t);
                    var n = t.keyCode || t.which;
                    t.altKey && 90 == n && UE.ui.buttons.fullscreen.onclick()
                }), t.addListener("wordcount", function (t) {
                    e(this, n)
                }), t.addListener("selectionchange", function () {
                    t.options.elementPathEnabled && n[(t.queryCommandState("elementpath") == -1 ? "dis" : "en") + "ableElementPath"](), t.options.scaleEnabled && n[(t.queryCommandState("scale") == -1 ? "dis" : "en") + "ableScale"]()
                });
                var s = new baidu.editor.ui.Popup({
                    editor: t,
                    content: "",
                    className: "edui-bubble",
                    _onEditButtonClick: function () {
                        this.hide(), t.ui._dialogs.linkDialog.open()
                    },
                    _onImgEditButtonClick: function (e) {
                        this.hide(), t.ui._dialogs[e] && t.ui._dialogs[e].open()
                    },
                    _onImgSetFloat: function (e) {
                        this.hide(), t.execCommand("imagefloat", e)
                    },
                    _setIframeAlign: function (e) {
                        var t = s.anchorEl, n = t.cloneNode(!0);
                        switch (e) {
                            case-2:
                                n.setAttribute("align", "");
                                break;
                            case-1:
                                n.setAttribute("align", "left");
                                break;
                            case 1:
                                n.setAttribute("align", "right")
                        }
                        t.parentNode.insertBefore(n, t), r.remove(t), s.anchorEl = n, s.showAnchor(s.anchorEl)
                    },
                    _updateIframe: function () {
                        t._iframe = s.anchorEl, t.ui._dialogs.insertframeDialog.open(), s.hide()
                    },
                    _onRemoveButtonClick: function (e) {
                        t.execCommand(e), this.hide()
                    },
                    queryAutoHide: function (e) {
                        return e && e.ownerDocument == t.document && ("img" == e.tagName.toLowerCase() || r.findParentByTagName(e, "a", !0)) ? e !== s.anchorEl : baidu.editor.ui.Popup.prototype.queryAutoHide.call(this, e)
                    }
                });
                s.render(), t.options.imagePopup && (t.addListener("mouseover", function (e, n) {
                    n = n || window.event;
                    var i = n.target || n.srcElement;
                    if (t.ui._dialogs.insertframeDialog && /iframe/gi.test(i.tagName)) {
                        var r = s.formatHtml("<nobr>" + t.getLang("property") + ': <span onclick=$$._setIframeAlign(-2) class="edui-clickable">' + t.getLang("default") + '</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(-1) class="edui-clickable">' + t.getLang("justifyleft") + '</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(1) class="edui-clickable">' + t.getLang("justifyright") + '</span>&nbsp;&nbsp; <span onclick="$$._updateIframe( this);" class="edui-clickable">' + t.getLang("modify") + "</span></nobr>");
                        r ? (s.getDom("content").innerHTML = r, s.anchorEl = i, s.showAnchor(s.anchorEl)) : s.hide()
                    }
                }), t.addListener("selectionchange", function (e, n) {
                    if (n) {
                        var i = "", r = "", o = t.selection.getRange().getClosedNode(), a = t.ui._dialogs;
                        if (o && "IMG" == o.tagName) {
                            var l = "insertimageDialog";
                            if (o.className.indexOf("edui-faked-video") != -1 && (l = "insertvideoDialog"), o.className.indexOf("edui-faked-webapp") != -1 && (l = "webappDialog"), o.src.indexOf("http://api.map.baidu.com") != -1 && (l = "mapDialog"), o.className.indexOf("edui-faked-music") != -1 && (l = "musicDialog"), o.src.indexOf("http://maps.google.com/maps/api/staticmap") != -1 && (l = "gmapDialog"), o.getAttribute("anchorname") && (l = "anchorDialog", i = s.formatHtml("<nobr>" + t.getLang("property") + ': <span onclick=$$._onImgEditButtonClick("anchorDialog") class="edui-clickable">' + t.getLang("modify") + "</span>&nbsp;&nbsp;<span onclick=$$._onRemoveButtonClick('anchor') class=\"edui-clickable\">" + t.getLang("delete") + "</span></nobr>")), o.getAttribute("word_img") && (t.word_img = [o.getAttribute("word_img")], l = "wordimageDialog"), !a[l])return;
                            r = "<nobr>" + t.getLang("property") + ': <span onclick=$$._onImgSetFloat("none") class="edui-clickable">' + t.getLang("default") + '</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("left") class="edui-clickable">' + t.getLang("justifyleft") + '</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("right") class="edui-clickable">' + t.getLang("justifyright") + '</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("center") class="edui-clickable">' + t.getLang("justifycenter") + "</span>&nbsp;&nbsp;<span onclick=\"$$._onImgEditButtonClick('" + l + '\');" class="edui-clickable">' + t.getLang("modify") + "</span></nobr>", !i && (i = s.formatHtml(r))
                        }
                        if (t.ui._dialogs.linkDialog) {
                            var c, d = t.queryCommandValue("link");
                            if (d && (c = d.getAttribute("_href") || d.getAttribute("href", 2))) {
                                var u = c;
                                c.length > 30 && (u = c.substring(0, 20) + "..."), i && (i += '<div style="height:5px;"></div>'), i += s.formatHtml("<nobr>" + t.getLang("anthorMsg") + ': <a target="_blank" href="' + c + '" title="' + c + '" >' + u + '</a> <span class="edui-clickable" onclick="$$._onEditButtonClick();">' + t.getLang("modify") + '</span> <span class="edui-clickable" onclick="$$._onRemoveButtonClick(\'unlink\');"> ' + t.getLang("clear") + "</span></nobr>"), s.showAnchor(d)
                            }
                        }
                        i ? (s.getDom("content").innerHTML = i, s.anchorEl = o || d, s.showAnchor(s.anchorEl)) : s.hide()
                    }
                }))
            }, _initToolbars: function () {
                for (var e = this.editor, t = this.toolbars || [], n = [], i = 0; i < t.length; i++) {
                    for (var r = t[i], o = new baidu.editor.ui.Toolbar({theme: e.options.theme}), a = 0; a < r.length; a++) {
                        var s = r[a], l = null;
                        if ("string" == typeof s) {
                            if (s = s.toLowerCase(), "|" == s && (s = "Separator"), baidu.editor.ui[s] && (l = new baidu.editor.ui[s](e)), "fullscreen" == s) {
                                n && n[0] ? n[0].items.splice(0, 0, l) : l && o.items.splice(0, 0, l);
                                continue
                            }
                        } else l = s;
                        l && l.id && o.add(l)
                    }
                    n[i] = o
                }
                this.toolbars = n
            }, getHtmlTpl: function () {
                return '<div id="##" class="%%"><div id="##_toolbarbox" class="%%-toolbarbox">' + (this.toolbars.length ? '<div id="##_toolbarboxouter" class="%%-toolbarboxouter"><div class="%%-toolbarboxinner">' + this.renderToolbarBoxHtml() + "</div></div>" : "") + '<div id="##_toolbarmsg" class="%%-toolbarmsg" style="display:none;"><div id = "##_upload_dialog" class="%%-toolbarmsg-upload" onclick="$$.showWordImageDialog();">' + this.editor.getLang("clickToUpload") + '</div><div class="%%-toolbarmsg-close" onclick="$$.hideToolbarMsg();">x</div><div id="##_toolbarmsg_label" class="%%-toolbarmsg-label"></div><div style="height:0;overflow:hidden;clear:both;"></div></div></div><div id="##_iframeholder" class="%%-iframeholder"></div><div id="##_bottombar" class="%%-bottomContainer"><table><tr><td id="##_elementpath" class="%%-bottombar"></td><td id="##_wordcount" class="%%-wordcount"></td><td id="##_scale" class="%%-scale"><div class="%%-icon"></div></td></tr></table></div><div id="##_scalelayer"></div></div>'
            }, showWordImageDialog: function () {
                this.editor.execCommand("wordimage", "word_img"), this._dialogs.wordimageDialog.open()
            }, renderToolbarBoxHtml: function () {
                for (var e = [], t = 0; t < this.toolbars.length; t++)e.push(this.toolbars[t].renderHtml());
                return e.join("")
            }, setFullScreen: function (e) {
                var t = this.editor, n = t.container.parentNode.parentNode;
                if (this._fullscreen != e) {
                    if (this._fullscreen = e, this.editor.fireEvent("beforefullscreenchange", e), baidu.editor.browser.gecko)var i = t.selection.getRange().createBookmark();
                    if (e) {
                        for (; "BODY" != n.tagName;) {
                            var r = baidu.editor.dom.domUtils.getComputedStyle(n, "position");
                            o.push(r), n.style.position = "static", n = n.parentNode
                        }
                        this._bakHtmlOverflow = document.documentElement.style.overflow, this._bakBodyOverflow = document.body.style.overflow, this._bakAutoHeight = this.editor.autoHeightEnabled, this._bakScrollTop = Math.max(document.documentElement.scrollTop, document.body.scrollTop), this._bakEditorContaninerWidth = t.iframe.parentNode.offsetWidth, this._bakAutoHeight && (t.autoHeightEnabled = !1, this.editor.disableAutoHeight()), document.documentElement.style.overflow = "hidden", document.body.style.overflow = "hidden", this._bakCssText = this.getDom().style.cssText, this._bakCssText1 = this.getDom("iframeholder").style.cssText, t.iframe.parentNode.style.width = "", this._updateFullScreen()
                    } else {
                        for (; "BODY" != n.tagName;)n.style.position = o.shift(), n = n.parentNode;
                        this.getDom().style.cssText = this._bakCssText, this.getDom("iframeholder").style.cssText = this._bakCssText1, this._bakAutoHeight && (t.autoHeightEnabled = !0, this.editor.enableAutoHeight()), document.documentElement.style.overflow = this._bakHtmlOverflow, document.body.style.overflow = this._bakBodyOverflow, t.iframe.parentNode.style.width = this._bakEditorContaninerWidth + "px", window.scrollTo(0, this._bakScrollTop)
                    }
                    if (baidu.editor.browser.gecko && "true" === t.body.contentEditable) {
                        var a = document.createElement("input");
                        document.body.appendChild(a), t.body.contentEditable = !1, setTimeout(function () {
                            a.focus(), setTimeout(function () {
                                t.body.contentEditable = !0, t.selection.getRange().moveToBookmark(i).select(!0), baidu.editor.dom.domUtils.remove(a), e && window.scroll(0, 0)
                            }, 0)
                        }, 0)
                    }
                    "true" === t.body.contentEditable && (this.editor.fireEvent("fullscreenchanged", e), this.triggerLayout())
                }
            }, _updateFullScreen: function () {
                if (this._fullscreen) {
                    var e = n.getViewportRect();
                    this.getDom().style.cssText = "border:0;position:absolute;left:0;top:" + (this.editor.options.topOffset || 0) + "px;width:" + e.width + "px;height:" + e.height + "px;z-index:" + (1 * this.getDom().style.zIndex + 100), n.setViewportOffset(this.getDom(), {
                        left: 0,
                        top: this.editor.options.topOffset || 0
                    }), this.editor.setHeight(e.height - this.getDom("toolbarbox").offsetHeight - this.getDom("bottombar").offsetHeight - (this.editor.options.topOffset || 0)), browser.gecko && window.onresize()
                }
            }, _updateElementPath: function () {
                var e, t = this.getDom("elementpath");
                if (this.elementPathEnabled && (e = this.editor.queryCommandValue("elementpath"))) {
                    for (var n, i = [], r = 0; n = e[r]; r++)i[r] = this.formatHtml('<span unselectable="on" onclick="$$.editor.execCommand(&quot;elementpath&quot;, &quot;' + r + '&quot;);">' + n + "</span>");
                    t.innerHTML = '<div class="edui-editor-breadcrumb" onmousedown="return false;">' + this.editor.getLang("elementPathTip") + ": " + i.join(" &gt; ") + "</div>"
                } else t.style.display = "none"
            }, disableElementPath: function () {
                var e = this.getDom("elementpath");
                e.innerHTML = "", e.style.display = "none", this.elementPathEnabled = !1
            }, enableElementPath: function () {
                var e = this.getDom("elementpath");
                e.style.display = "", this.elementPathEnabled = !0, this._updateElementPath()
            }, _scale: function () {
                function e() {
                    p = r.getXY(s), m || (m = a.options.minFrameHeight + c.offsetHeight + d.offsetHeight), f.style.cssText = "position:absolute;left:0;display:;top:0;background-color:#41ABFF;opacity:0.4;filter: Alpha(opacity=40);width:" + s.offsetWidth + "px;height:" + s.offsetHeight + "px;z-index:" + (a.options.zIndex + 1), r.on(o, "mousemove", t), r.on(l, "mouseup", n), r.on(o, "mouseup", n)
                }

                function t(e) {
                    i();
                    var t = e || window.event;
                    v = t.pageX || o.documentElement.scrollLeft + t.clientX, y = t.pageY || o.documentElement.scrollTop + t.clientY, b = v - p.x, w = y - p.y, b >= g && (h = !0, f.style.width = b + "px"), w >= m && (h = !0, f.style.height = w + "px")
                }

                function n() {
                    h && (h = !1, a.ui._actualFrameWidth = f.offsetWidth - 2, s.style.width = a.ui._actualFrameWidth + "px", a.setHeight(f.offsetHeight - d.offsetHeight - c.offsetHeight - 2)), f && (f.style.display = "none"), i(), r.un(o, "mousemove", t), r.un(l, "mouseup", n), r.un(o, "mouseup", n)
                }

                function i() {
                    browser.ie ? o.selection.clear() : window.getSelection().removeAllRanges()
                }

                var o = document, a = this.editor, s = a.container, l = a.document, c = this.getDom("toolbarbox"), d = this.getDom("bottombar"), u = this.getDom("scale"), f = this.getDom("scalelayer"), h = !1, p = null, m = 0, g = a.options.minFrameWidth, v = 0, y = 0, b = 0, w = 0, C = this;
                this.editor.addListener("fullscreenchanged", function (e, t) {
                    if (t)C.disableScale(); else if (C.editor.options.scaleEnabled) {
                        C.enableScale();
                        var n = C.editor.document.createElement("span");
                        C.editor.body.appendChild(n), C.editor.body.style.height = Math.max(r.getXY(n).y, C.editor.iframe.offsetHeight - 20) + "px", r.remove(n)
                    }
                }), this.enableScale = function () {
                    1 != a.queryCommandState("source") && (u.style.display = "", this.scaleEnabled = !0, r.on(u, "mousedown", e))
                }, this.disableScale = function () {
                    u.style.display = "none", this.scaleEnabled = !1, r.un(u, "mousedown", e)
                }
            }, isFullScreen: function () {
                return this._fullscreen
            }, postRender: function () {
                i.prototype.postRender.call(this);
                for (var e = 0; e < this.toolbars.length; e++)this.toolbars[e].postRender();
                var t, n = this, r = baidu.editor.dom.domUtils, o = function () {
                    clearTimeout(t), t = setTimeout(function () {
                        n._updateFullScreen()
                    })
                };
                r.on(window, "resize", o), n.addListener("destroy", function () {
                    r.un(window, "resize", o), clearTimeout(t)
                })
            }, showToolbarMsg: function (e, t) {
                if (this.getDom("toolbarmsg_label").innerHTML = e, this.getDom("toolbarmsg").style.display = "", !t) {
                    var n = this.getDom("upload_dialog");
                    n.style.display = "none"
                }
            }, hideToolbarMsg: function () {
                this.getDom("toolbarmsg").style.display = "none"
            }, mapUrl: function (e) {
                return e ? e.replace("~/", this.editor.options.UEDITOR_HOME_URL || "") : ""
            }, triggerLayout: function () {
                var e = this.getDom();
                "1" == e.style.zoom ? e.style.zoom = "100%" : e.style.zoom = "1"
            }
        }, t.inherits(e, baidu.editor.ui.UIBase);
        var a = {};
        UE.ui.Editor = function (n) {
            var i = new baidu.editor.Editor(n);
            i.options.editor = i, t.loadFile(document, {
                href: i.options.themePath + i.options.theme + "/css/ueditor.css",
                tag: "link",
                type: "text/css",
                rel: "stylesheet"
            });
            var o = i.render;
            return i.render = function (n) {
                n.constructor === String && (i.key = n, a[n] = i), t.domReady(function () {
                    function t() {
                        if (i.setOpt({labelMap: i.options.labelMap || i.getLang("labelMap")}), new e(i.options), n && (n.constructor === String && (n = document.getElementById(n)), n && n.getAttribute("name") && (i.options.textarea = n.getAttribute("name")), n && /script|textarea/gi.test(n.tagName))) {
                            var t = document.createElement("div");
                            n.parentNode.insertBefore(t, n);
                            var a = n.value || n.innerHTML;
                            i.options.initialContent = /^[\t\r\n ]*$/.test(a) ? i.options.initialContent : a.replace(/>[\n\r\t]+([ ]{4})+/g, ">").replace(/[\n\r\t]+([ ]{4})+</g, "<").replace(/>[\n\r\t]+</g, "><"), n.className && (t.className = n.className), n.style.cssText && (t.style.cssText = n.style.cssText), /textarea/i.test(n.tagName) ? (i.textarea = n, i.textarea.style.display = "none") : (n.parentNode.removeChild(n), n.id && (t.id = n.id)), n = t, n.innerHTML = ""
                        }
                        r.addClass(n, "edui-" + i.options.theme), i.ui.render(n);
                        var s = i.options;
                        i.container = i.ui.getDom();
                        for (var l, c = r.findParents(n, !0), d = [], u = 0; l = c[u]; u++)d[u] = l.style.display, l.style.display = "block";
                        s.initialFrameWidth ? s.minFrameWidth = s.initialFrameWidth : s.minFrameWidth = s.initialFrameWidth = n.offsetWidth, s.initialFrameHeight ? s.minFrameHeight = s.initialFrameHeight : s.initialFrameHeight = s.minFrameHeight = n.offsetHeight;
                        for (var l, u = 0; l = c[u]; u++)l.style.display = d[u];
                        n.style.height && (n.style.height = ""), i.container.style.width = s.initialFrameWidth + "px", i.container.style.zIndex = s.zIndex, o.call(i, i.ui.getDom("iframeholder"))
                    }

                    i.langIsReady ? t() : i.addListener("langReady", t)
                })
            }, i
        }, UE.getEditor = function (e, t) {
            var n = a[e];
            return n || (n = a[e] = new UE.ui.Editor(t), n.render(e)), n
        }, UE.delEditor = function (e) {
            var t;
            (t = a[e]) && (t.key && t.destroy(), delete a[e])
        }
    }(), function () {
        var e = baidu.editor.utils, t = baidu.editor.ui.Popup, n = baidu.editor.ui.SplitButton, i = baidu.editor.ui.MultiMenuPop = function (e) {
            this.initOptions(e), this.initMultiMenu()
        };
        i.prototype = {
            initMultiMenu: function () {
                var e = this;
                this.popup = new t({
                    content: "", editor: e.editor, iframe_rendered: !1, onshow: function () {
                        this.iframe_rendered || (this.iframe_rendered = !0, this.getDom("content").innerHTML = '<iframe id="' + e.id + '_iframe" src="' + e.iframeUrl + '" frameborder="0"></iframe>', e.editor.container.style.zIndex && (this.getDom().style.zIndex = 1 * e.editor.container.style.zIndex + 1))
                    }
                }), this.onbuttonclick = function () {
                    this.showPopup()
                }, this.initSplitButton()
            }
        }, e.inherits(i, n)
    }()
}(), define("ueditor", function (e) {
    return function () {
        var t;
        return t || e.UE
    }
}(this)), function () {
    var e = window.UEDITOR_HOME_URL || function () {
            function e() {
                this.documentURL = self.document.URL || self.location.href, this.separator = "/", this.separatorPattern = /\\|\//g, this.currentDir = "./", this.currentDirPattern = /^[.]\/]/, this.path = this.documentURL, this.stack = [], this.push(this.documentURL)
            }

            function t() {
                var t = e.getProtocol(this.path || "");
                t ? (this.protocol = t, this.localSeparator = /\\|\//.exec(this.path.replace(t, ""))[0], this.stack = []) : (t = /\\|\//.exec(this.path), t && (this.localSeparator = t[0]))
            }

            function n() {
                var t = this.path.replace(this.currentDirPattern, "");
                e.hasProtocol(this.path) && (t = t.replace(this.protocol, "")), t = t.split(this.localSeparator), t.length = t.length - 1;
                for (var n, i = 0, r = this.stack; n = t[i]; i++)e.isParentPath(n) ? r.pop() : r.push(n)
            }

            e.isParentPath = function (e) {
                return ".." === e
            }, e.hasProtocol = function (t) {
                return !!e.getProtocol(t)
            }, e.getProtocol = function (e) {
                var t = /^[^:]*:\/*/.exec(e);
                return t ? t[0] : null
            }, e.prototype = {
                push: function (e) {
                    return this.path = e, t.call(this), n.call(this), this
                }, getPath: function () {
                    return this + ""
                }, toString: function () {
                    return this.protocol + this.stack.concat([""]).join(this.separator)
                }
            };
            var i = document.getElementsByTagName("script");
            return i = i[i.length - 1].src, (new e).push(i) + "ueditor/"
        }();
    window.UEDITOR_CONFIG = {
        UEDITOR_HOME_URL: e,
        imageUrl: "",
        imagePath: "",
        imageFieldName: "filedata",
        scrawlUrl: e + "jsp/scrawlUp.jsp",
        scrawlPath: e + "jsp/",
        fileUrl: "",
        filePath: "",
        fileFieldName: "filedata",
        catcherUrl: e + "jsp/getRemoteImage.jsp",
        catcherPath: e + "jsp/",
        imageManagerUrl: e + "jsp/imageManager.jsp",
        imageManagerPath: "",
        snapscreenHost: location.hostname,
        snapscreenServerUrl: e + "jsp/imageUp.jsp",
        snapscreenPath: e + "jsp/",
        snapscreenServerPort: location.port,
        wordImageUrl: e + "jsp/imageUp.jsp",
        wordImagePath: e + "jsp/",
        getMovieUrl: e + "jsp/getMovie.jsp",
        toolbars: [["fullscreen", "source", "|", "bold", "italic", "formatmatch", "|", "forecolor", "backcolor", "|", "fontfamily", "fontsize", "|", "justifyleft", "justifycenter", "justifyright", "justifyjustify", "|", "imagenone", "imageleft", "imageright", "imagecenter", "|", "insertimage", "emotion", "attachment"]],
        initialFrameWidth: 600,
        initialFrameHeight: 200,
        zIndex: 1,
        wordCount: !1,
        elementPathEnabled: !1,
        autoHeightEnabled: !1
    }
}(), define("ueditor-config", function () {
}), define("DiaryController", ["require", "Utils", "toolbar", "page", "DateTimePickerDirective"], function (e, t) {
    var n = !1, i = function (e) {
        function t(e) {
            return "<span class='glyphicon glyphicon-" + e + "'></span>"
        }

        $(".toolbar div:first").toolBar({
            toolbar: [{
                element: t("plus"), content: "æ·»å ", callback: function () {
                    window.location.href = "#/diarydetail/0"
                }
            }, {
                element: t("remove"), content: "å é¤", callback: function () {
                    console.log(e.checkedArr)
                }
            }]
        })
    };
    app.controller("DiaryListController", ["$scope", "DiaryService", "$routeParams", "$location", function (e, r, o, a) {
        r.getlist(o.pageIndex).then(function (t) {
            if (t && t.flag) {
                if (t = t.data, e.diarylist = t.recordList, n)return;
                n = !0;
                var i = {
                    totalPages: t.pageCount, visiblePages: 7, onPageClick: function (e, t) {
                        window.location.href = "#/diarylist/" + t
                    }
                };
                angular.element("#pageBar").twbsPagination(i)
            } else e.diarylist = []
        }), e.selectItem = function (t, n) {
            console.log("selectItem"), n ? e.checkedArr ? e.checkedArr.push(t) : e.checkedArr = [t] : e.checkedArr.splice(_.indexOf(e.checkedArr, t), 1)
        }, e.selectAll = function (t) {
            e.checked = t.target.checked
        }, e.delete = function (e) {
            e && e.length && r.delete(e).then(function (e) {
                e ? e.flag ? window.location.href = "#/diarylist/1#" : t.showAlert(e.msg) : t.showAlert("ç½ç»éè¯¯ï¼")
            })
        }, i(e)
    }]), app.controller("DiaryDetailController", ["$scope", "DiaryService", "$routeParams", "$timeout", function (t, n, i, r) {
        e(["ueditor", "Utils", "ueditor-config"], function (e, r) {
            var o = new e.ui.Editor({
                initialFrameWidth: "100%",
                initialFrameHeight: .6 * window.screen.availHeight,
                imageUrl: baseUrl + "/upload.do?type=diary"
            });
            n.getDetailById(i.id).then(function (e) {
                e && e.flag ? t.diary = e.data : t.diary = {}, setTimeout(function () {
                    o.render("content"), o.ready(function () {
                        o.addListener("contentChange", function () {
                            t.diary.content = o.getContent()
                        })
                    })
                }, 0)
            }), t.submit = function (e) {
                return e ? void(t.submitted = !0) : (t.diary.plainText = o.getPlainTxt(), void n.save(t.diary).then(function (e) {
                    e ? e.flag ? window.location.href = "#/diarylist/1" : r.showAlert(e.msg) : r.showAlert("æå¡å¨æ ååº!")
                }))
            }
        })
    }])
}), define("DiaryService", [], function () {
    function e(arguments) {
        var e, t = arguments[1];
        switch (t) {
            case 404:
                e = "Page Not Found"
        }
        throw new Error(e)
    }

    app.service("DiaryService", ["$q", "$http", function (t, n) {
        this.getlist = function (i) {
            var r = t.defer();
            return n.get("/diary/diaries.do?pageSize=15&currentPage=" + i).success(function (e) {
                r.resolve(e)
            }).error(function () {
                e(arguments)
            }), r.promise
        }, this.getDetailById = function (i) {
            var r = t.defer();
            return i - 0 === 0 && r.resolve({}), n.get("/diary/single.do?id=" + i).success(function (e) {
                r.resolve(e)
            }).error(function () {
                e(arguments)
            }), r.promise
        }, this.save = function (i) {
            var r = t.defer();
            return i && n.post("/diary/saveOrUpdate.do", i).success(function (e) {
                r.resolve(e)
            }).error(function () {
                r.resolve(null), e(arguments)
            }), r.promise
        }, this.delete = function (i) {
            var r = t.defer();
            return n.get("/diary/delete.do?ids=" + i).success(function (e) {
                r.resolve(e)
            }).error(function () {
                r.resolve(null), e(arguments)
            }), r.promise
        }
    }])
}), !function (e) {
    return define && define.amd && "function" == typeof define ? define("accordion", ["jquery"], e) : e(jQuery)
}(function (e) {
    function t(t) {
        var n = {
            items: [],
            duration: 500,
            firstExpand: !0,
            itemTmpl: "<li class='w-accordion_item'><div class='w-accordion_title'>${text}</div><div class='w-accordion_sub_wrap'><ul>${subHtml}</ul></div></li>",
            subItemTmpl: '<li class="w-accordion_sub_item"><a class="w-accordion_a" href="${href}">${text}</a></li>'
        };
        this.options = e.extend({}, n, t), this.render()
    }

    function n() {
        var t = this;
        e(".w-accordion_item").on("click", function () {
            e(this).hasClass("expand") || (e(this).parent().find(".expand").removeClass("expand").find(".w-accordion_sub_wrap").slideUp(t.options.duration), e(this).addClass("expand").find(".w-accordion_sub_wrap").slideDown(t.options.duration))
        })
    }

    function i(e, t) {
        return e.replace(/\${(\w+)}/g, function (e, n) {
            return t[n]
        })
    }

    e.extend(t.prototype, {
        render: function () {
            for (var t = "<ul class='w-accordion'>", r = this.options.itemTmpl, o = this.options.subItemTmpl, a = 0; a < this.options.items.length; a++) {
                for (var s = this.options.items[a], l = s.sub, c = "", d = 0; d < l.length; d++)c += i(o, l[d]);
                s.subHtml = c, t += i(r, s)
            }
            t += "</ul>", e(t).appendTo(this.options.dom);
            var u = e(".w-accordion_item");
            e(".w-accordion_sub_wrap").height(this.options.dom.height() - u.length * (u.height() + 2)), n.call(this), this.options.firstExpand && e(".w-accordion_item:first").click()
        }
    }), e.fn.accordion = function (n) {
        this.each(function () {
            n.dom = e(this), new t(n)
        })
    }
}), define("admin/app", ["require", "underscore", "bootstrap", "DiaryController", "DiaryService", "accordion"], function (e) {
    app.config(function (e) {
        e.when("/diarylist/:pageIndex", {
            controller: "DiaryListController",
            templateUrl: baseUrl + "/js/admin/view/diarylist.html"
        }).when("/diarydetail/:id", {
            controller: "DiaryDetailController",
            templateUrl: baseUrl + "/js/admin/view/diarydetail.html"
        })
    });
    app.controller("personalController", ["$scope", "DiaryService", function (e, t) {
        $(".p-accordion").accordion({
            items: [{
                text: "ä¸ªäººéç¬",
                sub: [{text: "å¿çµæ¥è®°", href: "#/diarylist/1", icon: "/images/admin/diary.png"}]
            }],
            subItemTmpl: '<li class="w-accordion_sub_item">                            <a href="${href}">                                <div class="div_img">                                    <img src="${icon}">                                </div>                                <div class="div_title"><span>${text}</span></div>                            </a>                        </li>'
        })
    }]);
    angular.bootstrap(angular.element("#personalApp"), ["personalApp"])
}), require.config({
    paths: {
        jquery: "lib/jquery-1.8.0.min",
        underscore: "lib/underscore-1.8.3.min",
        MD5: "lib/md5.min",
        calendar: "lib/calendar",
        angular: "lib/angular.min",
        angularRouter: "lib/angular-route.min",
        bootstrap: "lib/bootstrap/js/bootstrap.min",
        datetimepicker: "lib/bootstrap/js/bootstrap-datetimepicker",
        "datetimepicker-local": "lib/bootstrap/js/bootstrap-datetimepicker.zh-CN",
        page: "lib/bootstrap/js/jquery.bootstrap.pagination.min",
        artDialog: "lib/artDialog/artDialog",
        iframeTools: "lib/artDialog/plugins/iframeTools",
        toolbar: "lib/toolbar/jquery.toolbar",
        ueditor: "lib/ueditor/ueditor.all",
        "ueditor-config": "lib/ueditor/ueditor.config",
        accordion: "lib/accordion/jquery.accordion",
        Utils: "lib/Utils",
        DiaryController: "admin/controller/DiaryController",
        DiaryService: "admin/service/DiaryService",
        DateTimePickerDirective: "admin/directive/DateTimePickerDirective"
    },
    shim: {
        angular: {exports: "angular"},
        angularRouter: {exports: "angularRouter"},
        bootstrap: {deps: ["jquery"]},
        calendar: {exports: "calendar"},
        artDialog: {deps: ["jquery"], exports: "artDialog"},
        slider: {deps: ["jquery"], exports: "Slider"},
        ueditor: {exports: "UE"},
        "datetimepicker-local": {deps: ["datetimepicker"]},
        page: {deps: ["jquery"], exports: "page"}
    }
}), require(["jquery", "angular"], function () {
    require(["angularRouter"], function () {
        app = angular.module("personalApp", ["ngRoute"]), require(["admin/app"], function () {
        })
    })
}), define("config", function () {
});