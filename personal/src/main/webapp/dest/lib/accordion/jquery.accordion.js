!function(i){return define&&define.amd&&"function"==typeof define?define(["jquery"],i):i(jQuery)}(function(i){function t(t){var n={items:[],duration:500,firstExpand:!0,itemTmpl:"<li class='w-accordion_item'><div class='w-accordion_title'>${text}</div><div class='w-accordion_sub_wrap'><ul>${subHtml}</ul></div></li>",subItemTmpl:'<li class="w-accordion_sub_item"><a class="w-accordion_a" href="${href}">${text}</a></li>'};this.options=i.extend({},n,t),this.render()}function n(){var t=this;i(".w-accordion_item").on("click",function(){i(this).hasClass("expand")||(i(this).parent().find(".expand").removeClass("expand").find(".w-accordion_sub_wrap").slideUp(t.options.duration),i(this).addClass("expand").find(".w-accordion_sub_wrap").slideDown(t.options.duration))})}function o(i,t){return i.replace(/\${(\w+)}/g,function(i,n){return t[n]})}i.extend(t.prototype,{render:function(){for(var t="<ul class='w-accordion'>",s=this.options.itemTmpl,e=this.options.subItemTmpl,a=0;a<this.options.items.length;a++){for(var c=this.options.items[a],r=c.sub,d="",l=0;l<r.length;l++)d+=o(e,r[l]);c.subHtml=d,t+=o(s,c)}t+="</ul>",i(t).appendTo(this.options.dom);var u=i(".w-accordion_item");i(".w-accordion_sub_wrap").height(this.options.dom.height()-u.length*(u.height()+2)),n.call(this),this.options.firstExpand&&i(".w-accordion_item:first").click()}}),i.fn.accordion=function(n){this.each(function(){n.dom=i(this),new t(n)})}});