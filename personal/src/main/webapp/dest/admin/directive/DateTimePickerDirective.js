define(["datetimepicker-local"],function(){app.directive("datepicker",function(){return{restrict:"C",require:"ngModel",scope:{dateModel:"=ngModel",weekModel:"=week"},link:function(e,t,a,o){t.datetimepicker({language:"zh-CN",format:"yyyy-mm-dd",todayBtn:!0,minView:2,autoclose:!0}).on("changeDate",function(t){if(t&&t.date&&"[object Date]"===Object.prototype.toString.call(t.date)){e.dateModel=t.date;var a=t.date.getDay(),o=new Array("星期日","星期一","星期二","星期三","星期四","星期五","星期六");e.weekModel=o[a],e.$apply()}})}}})});